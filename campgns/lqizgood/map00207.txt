REM ********************************************
REM
REM Script for Level 207
REM
REM ********************************************
LEVEL_VERSION(1)
SET_GENERATE_SPEED(400)
MAX_CREATURES(PLAYER0,15)

ADD_CREATURE_TO_POOL(TUNNELLER,20)
ADD_CREATURE_TO_POOL(WIZARD,20)
ADD_CREATURE_TO_POOL(BARBARIAN,20)
ADD_CREATURE_TO_POOL(ARCHER,20)
ADD_CREATURE_TO_POOL(DWARFA,20)
ADD_CREATURE_TO_POOL(GIANT,20)
ADD_CREATURE_TO_POOL(FAIRY,20)
ADD_CREATURE_TO_POOL(THIEF,20)


CREATURE_AVAILABLE(PLAYER0,THIEF,1,0)
CREATURE_AVAILABLE(PLAYER0,DWARFA,1,0)
CREATURE_AVAILABLE(PLAYER0,TUNNELLER,1,0)
CREATURE_AVAILABLE(PLAYER0,ARCHER,1,0)
CREATURE_AVAILABLE(PLAYER0,BARBARIAN,1,0)
CREATURE_AVAILABLE(PLAYER0,FAIRY,1,0)
CREATURE_AVAILABLE(PLAYER0,GIANT,1,0)
CREATURE_AVAILABLE(PLAYER0,KNIGHT,1,0)
CREATURE_AVAILABLE(PLAYER0,WIZARD,1,0)

ROOM_AVAILABLE(ALL_PLAYERS,GUARD_POST,1,0)
ROOM_AVAILABLE(ALL_PLAYERS,TREASURE,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,RESEARCH,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,WORKSHOP,1,0)
ROOM_AVAILABLE(ALL_PLAYERS,GARDEN,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,LAIR,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,TRAINING,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,BARRACKS,1,0)
ROOM_AVAILABLE(ALL_PLAYERS,BRIDGE,1,0)


MAGIC_AVAILABLE(ALL_PLAYERS,POWER_HAND,1,1)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_OBEY,1,1)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_IMP,1,1)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_SLAP,1,1)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_SIGHT,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_HEAL_CREATURE,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_SPEED,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_LIGHTNING,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_CONCEAL,1,0)


DOOR_AVAILABLE(ALL_PLAYERS,WOOD,1,0)
TRAP_AVAILABLE(ALL_PLAYERS,ALARM,1,0)
DOOR_AVAILABLE(ALL_PLAYERS,BRACED,1,0)
TRAP_AVAILABLE(ALL_PLAYERS,POISON_GAS,1,0)
TRAP_AVAILABLE(ALL_PLAYERS,LAVA,1,0)
DOOR_AVAILABLE(ALL_PLAYERS,STEEL,1,0)
TRAP_AVAILABLE(ALL_PLAYERS,LIGHTNING,1,0)

CREATE_PARTY(GHOST)
    ADD_TO_PARTY(GHOST,GHOST,7,0,ATTACK_ENEMIES,0)
    ADD_TO_PARTY(GHOST,GHOST,8,0,ATTACK_ENEMIES,0)
    ADD_TO_PARTY(GHOST,GHOST,7,0,ATTACK_ENEMIES,0)

CREATE_PARTY(SKELETON)
    ADD_TO_PARTY(SKELETON,SKELETON,7,0,ATTACK_ENEMIES,0)
    ADD_TO_PARTY(SKELETON,SKELETON,8,0,ATTACK_ENEMIES,0)
    ADD_TO_PARTY(SKELETON,SKELETON,7,0,ATTACK_ENEMIES,0)

IF(PLAYER0,GAME_TURN > 25)
    REM "All you have is one thief. You must use brains, courage and skill to pass the initial test, and then you must vanquish the evil Warlocks that keep you enslaved, and destroy the evil keeper once and for all!"
    DISPLAY_OBJECTIVE(30,ALL_PLAYERS)
ENDIF

IF(PLAYER_GOOD,SORCEROR == 2)
    REM "The first warlock is dead! Use the limitless gold to build up enough force to take the rest of the dungeon!"
    DISPLAY_INFORMATION(31,ALL_PLAYERS)
ENDIF

IF(PLAYER_GOOD,SORCEROR == 1)
    REM "You have killed the second warlock! Only 1 stands in your way!"
    DISPLAY_INFORMATION(32,ALL_PLAYERS)
ENDIF

IF(PLAYER_GOOD,SORCEROR == 0)
    REM "You have killed all the warlocks! Destroy the dungeon heart!"
    DISPLAY_INFORMATION(33,ALL_PLAYERS)
ENDIF

IF_ACTION_POINT(1,PLAYER0)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,GHOST,1,2)
ENDIF

IF_ACTION_POINT(2,PLAYER0)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,SKELETON,2,1)
ENDIF

IF(PLAYER0,ALL_DUNGEONS_DESTROYED == 1)
    WIN_GAME
ENDIF
