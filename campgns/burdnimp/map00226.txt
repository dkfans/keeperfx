REM ********************************************
REM  Burdened Imps' Level Pack for KeeperFX
REM  Script for Level 226, Amberstone Hills
REM  Version 1.00
REM ********************************************

SET_GENERATE_SPEED(500)
MAX_CREATURES(PLAYER0,5)
MAX_CREATURES(PLAYER1,25)
START_MONEY(PLAYER0,0)
START_MONEY(PLAYER1,25000)

COMPUTER_PLAYER(PLAYER1,7)
SET_CREATURE_MAX_LEVEL(PLAYER0,DEMONSPAWN,10)
SET_CREATURE_MAX_LEVEL(PLAYER0,THIEF,10)
REM DEAD_CREATURES_RETURN_TO_POOL(1)

ADD_CREATURE_TO_POOL(FLY,5)
ADD_CREATURE_TO_POOL(BUG,5)
ADD_CREATURE_TO_POOL(DEMONSPAWN,20)
ADD_CREATURE_TO_POOL(SPIDER,20)
ADD_CREATURE_TO_POOL(SORCEROR,20)
ADD_CREATURE_TO_POOL(TROLL,20)
ADD_CREATURE_TO_POOL(BILE_DEMON,20)
ADD_CREATURE_TO_POOL(ORC,20)
ADD_CREATURE_TO_POOL(DARK_MISTRESS,20)
ADD_CREATURE_TO_POOL(DRAGON,20)
ADD_CREATURE_TO_POOL(HELL_HOUND,0)
ADD_CREATURE_TO_POOL(TENTACLE,0)
ADD_CREATURE_TO_POOL(SKELETON,0)
ADD_CREATURE_TO_POOL(GHOST,0)
ADD_CREATURE_TO_POOL(VAMPIRE,0)

CREATURE_AVAILABLE(PLAYER1,FLY,1,1)
CREATURE_AVAILABLE(PLAYER1,BUG,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,DEMONSPAWN,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,SPIDER,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,SORCEROR,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,TROLL,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,BILE_DEMON,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,ORC,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,DARK_MISTRESS,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,DRAGON,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,HELL_HOUND,0,0)
CREATURE_AVAILABLE(ALL_PLAYERS,TENTACLE,0,0)
CREATURE_AVAILABLE(ALL_PLAYERS,SKELETON,0,0)
CREATURE_AVAILABLE(ALL_PLAYERS,GHOST,0,0)
CREATURE_AVAILABLE(ALL_PLAYERS,VAMPIRE,0,0)

ROOM_AVAILABLE(PLAYER0,TREASURE,1,1)
ROOM_AVAILABLE(PLAYER0,LAIR,1,1)
ROOM_AVAILABLE(PLAYER0,GARDEN,1,1)
ROOM_AVAILABLE(PLAYER0,TRAINING,1,1)
ROOM_AVAILABLE(PLAYER0,RESEARCH,1,1)
ROOM_AVAILABLE(PLAYER0,WORKSHOP,0,0)
ROOM_AVAILABLE(PLAYER0,BARRACKS,0,0)
ROOM_AVAILABLE(PLAYER0,BRIDGE,0,0)
ROOM_AVAILABLE(PLAYER0,GUARD_POST,0,0)
ROOM_AVAILABLE(PLAYER0,PRISON,0,0)
ROOM_AVAILABLE(PLAYER0,TORTURE,0,0)
ROOM_AVAILABLE(PLAYER0,TEMPLE,0,0)
ROOM_AVAILABLE(PLAYER0,GRAVEYARD,0,0)
ROOM_AVAILABLE(PLAYER0,SCAVENGER,0,0)

TRAP_AVAILABLE(PLAYER1,ALARM,1,0)
TRAP_AVAILABLE(ALL_PLAYERS,POISON_GAS,1,0)
TRAP_AVAILABLE(ALL_PLAYERS,LIGHTNING,1,0)
TRAP_AVAILABLE(PLAYER0,LAVA,0,0)
TRAP_AVAILABLE(PLAYER0,BOULDER,0,0)
TRAP_AVAILABLE(PLAYER1,WORD_OF_POWER,0,0)
DOOR_AVAILABLE(PLAYER0,WOOD,0,0)
DOOR_AVAILABLE(ALL_PLAYERS,BRACED,1,0)
DOOR_AVAILABLE(ALL_PLAYERS,STEEL,1,0)
DOOR_AVAILABLE(PLAYER0,MAGIC,0,0)

MAGIC_AVAILABLE(PLAYER1,POWER_IMP,1,1)
MAGIC_AVAILABLE(PLAYER1,POWER_OBEY,1,0)
MAGIC_AVAILABLE(PLAYER1,POWER_SIGHT,1,0)
MAGIC_AVAILABLE(PLAYER1,POWER_CALL_TO_ARMS,1,0)
MAGIC_AVAILABLE(PLAYER1,POWER_CAVE_IN,0,0)
MAGIC_AVAILABLE(PLAYER1,POWER_HEAL_CREATURE,1,0)
MAGIC_AVAILABLE(PLAYER1,POWER_HOLD_AUDIENCE,0,0)
MAGIC_AVAILABLE(PLAYER1,POWER_LIGHTNING,0,0)
MAGIC_AVAILABLE(PLAYER1,POWER_SPEED,1,0)
MAGIC_AVAILABLE(PLAYER1,POWER_PROTECT,1,0)
MAGIC_AVAILABLE(PLAYER1,POWER_CONCEAL,1,0)
MAGIC_AVAILABLE(PLAYER1,POWER_DISEASE,0,0)
MAGIC_AVAILABLE(PLAYER1,POWER_CHICKEN,0,0)
MAGIC_AVAILABLE(PLAYER1,POWER_DESTROY_WALLS,0,0)
MAGIC_AVAILABLE(PLAYER1,POWER_ARMAGEDDON,0,0)

IF(PLAYER0,BRIDGE >= 1)
    ROOM_AVAILABLE(PLAYER0,BRIDGE,1,1)
ENDIF
IF(PLAYER0,WORKSHOP >= 1)
    ROOM_AVAILABLE(PLAYER0,WORKSHOP,1,1)
ENDIF
IF(PLAYER0,BARRACKS >= 1)
    ROOM_AVAILABLE(PLAYER0,BARRACKS,1,1)
ENDIF
IF(PLAYER0,GUARD_POST >= 1)
    ROOM_AVAILABLE(PLAYER0,GUARD_POST,1,1)
ENDIF
IF(PLAYER0,PRISON >= 1)
    ROOM_AVAILABLE(PLAYER0,PRISON,1,1)
ENDIF
IF(PLAYER0,TORTURE >= 1)
    ROOM_AVAILABLE(PLAYER0,TORTURE,1,1)
ENDIF
IF(PLAYER0,TEMPLE >= 1)
    ROOM_AVAILABLE(PLAYER0,TEMPLE,1,1)
ENDIF
IF(PLAYER0,GRAVEYARD >= 1)
    ROOM_AVAILABLE(PLAYER0,GRAVEYARD,1,1)
ENDIF
IF(PLAYER0,SCAVENGER >= 1)
    ROOM_AVAILABLE(PLAYER0,SCAVENGER,1,1)
ENDIF

IF(PLAYER0,IMP == 0)
    IF(PLAYER0,TOTAL_CREATURES == 0)
        IF(PLAYER0,ENTRANCE == 0)
            DISPLAY_OBJECTIVE(81,ALL_PLAYERS)
REM QUICK_OBJECTIVE(4,"Well, there goes your last hope of success. You cannot hope to defeat anything emptyhanded, can you?",PLAYER0)
            LOSE_GAME
        ENDIF
    ENDIF
ENDIF

IF(PLAYER0,IMP == 0)
    IF_AVAILABLE(PLAYER0,POWER_IMP == 0)
        DISPLAY_OBJECTIVE(82,ALL_PLAYERS)
REM QUICK_OBJECTIVE(5,"Although small and annoying, imps are the backbone of your existence. Without them you are nothing, and since you lost all your servants, you are indeed... nothing.",PLAYER0)
        LOSE_GAME
    ENDIF
ENDIF

IF(PLAYER1,DUNGEON_DESTROYED == 1)
    DISPLAY_OBJECTIVE(83,ALL_PLAYERS)
    REM QUICK_OBJECTIVE(3,"Masterfully done. A victory like this makes my flaming heart burn with conflagration. Congratulations, Keeper.",PLAYER0)
    WIN_GAME
ENDIF

DISPLAY_OBJECTIVE(84,ALL_PLAYERS)
REM QUICK_OBJECTIVE(0,"Here you are, with nothing but three little servants and an enemy Keeper to kill. His magic has stripped away your spells and resources, but things are not so bad... yet. Unless, ofcourse, you pick the wrong door. Choose wisely, Keeper. Your life depends on it.",PLAYER0)

IF(PLAYER0,ENTRANCE == 1)
    DISPLAY_OBJECTIVE(85,ALL_PLAYERS)
    REM QUICK_OBJECTIVE(1,"This old portal is a start, but you will have to find more ways to increase your power. Search around. There are many secrets to be found in this place.",PLAYER0)
ENDIF

IF(PLAYER0,TOTAL_CREATURES == 25)
    DISPLAY_OBJECTIVE(86,ALL_PLAYERS)
    REM QUICK_OBJECTIVE(2,"You are about ready to start making your enemy's life miserable. Destroy his dungeon with extreme prejudice.",PLAYER0)
ENDIF
