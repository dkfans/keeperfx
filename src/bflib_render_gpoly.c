/******************************************************************************/
// Bullfrog Engine Emulation Library - for use to remake classic games like
// Syndicate Wars, Magic Carpet or Dungeon Keeper.
/******************************************************************************/
/** @file bflib_render_gpoly.c
 *     Rendering function draw_gpoly() for drawing 3D view elements.
 * @par Purpose:
 *     Function for rendering 3D elements.
 * @par Comment:
 *     Go away from here, you bad optimizer! Do not compile this with optimizations.
 * @author   Tomasz Lis
 * @date     20 Mar 2009 - 14 Feb 2010
 * @par  Copying and copyrights:
 *     This program is free software; you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation; either version 2 of the License, or
 *     (at your option) any later version.
 */
/******************************************************************************/
#include "bflib_render.h"

#include "globals.h"
#include "bflib_basics.h"
#include "bflib_memory.h"
#include "bflib_video.h"
#include "bflib_sprite.h"
#include "bflib_vidraw.h"

/******************************************************************************/
/******************************************************************************/
long gpoly_countdown[] = { 0,-15,-14,-13,-12,-11,-10, -9,  -8, -7, -6, -5, -4, -3, -2, -1 };

long gpoly_reptable[] = {
         0x0,0x7FFFFFFF,0x3FFFFFFF,0x2AAAAAAA,0x1FFFFFFF,0x19999999,0x15555555,0x12492492,
  0x0FFFFFFF,0x0E38E38E,0x0CCCCCCC,0x0BA2E8BA,0x0AAAAAAA, 0x9D89D89, 0x9249249, 0x8888888,
   0x7FFFFFF, 0x7878787, 0x71C71C7, 0x6BCA1AF, 0x6666666, 0x6186186, 0x5D1745D, 0x590B216,
   0x5555555, 0x51EB851, 0x4EC4EC4, 0x4BDA12F, 0x4924924, 0x469EE58, 0x4444444, 0x4210842,
   0x3FFFFFF, 0x3E0F83E, 0x3C3C3C3, 0x3A83A83, 0x38E38E3, 0x3759F22, 0x35E50D7, 0x3483483,
   0x3333333, 0x31F3831, 0x30C30C3, 0x2FA0BE8, 0x2E8BA2E, 0x2D82D82, 0x2C8590B, 0x2B93105,
   0x2AAAAAA, 0x29CBC14, 0x28F5C28, 0x2828282, 0x2762762, 0x26A439F, 0x25ED097, 0x253C825,
   0x2492492, 0x23EE08F, 0x234F72C, 0x22B63CB, 0x2222222, 0x2192E29, 0x2108421, 0x2082082,
   0x1FFFFFF, 0x1F81F81, 0x1F07C1F, 0x1E9131A, 0x1E1E1E1, 0x1DAE607, 0x1D41D41, 0x1CD8568,
   0x1C71C71, 0x1C0E070, 0x1BACF91, 0x1B4E81B, 0x1AF286B, 0x1A98EF6, 0x1A41A41, 0x19EC8E9,
   0x1999999, 0x1948B0F, 0x18F9C18, 0x18ACB90, 0x1861861, 0x1818181, 0x17D05F4, 0x178A4C8,
   0x1745D17, 0x1702E05, 0x16C16C1, 0x1681681, 0x1642C85, 0x1605816, 0x15C9882, 0x158ED23,
   0x1555555, 0x151D07E, 0x14E5E0A, 0x14AFD6A, 0x147AE14, 0x1446F86, 0x1414141, 0x13E22CB,
   0x13B13B1, 0x1381381, 0x13521CF, 0x1323E34, 0x12F684B, 0x12C9FB4, 0x129E412, 0x127350B,
   0x1249249, 0x121FB78, 0x11F7047, 0x11CF06A, 0x11A7B96, 0x1181181, 0x115B1E5, 0x1135C81,
   0x1111111, 0x10ECF56, 0x10C9714, 0x10A6810, 0x1084210, 0x10624DD, 0x1041041, 0x1020408,
   0x0FFFFFF, 0x0FE03F8, 0x0FC0FC0, 0x0FA232C, 0x0F83E0F, 0x0F6603D, 0x0F4898D, 0x0F2B9D6,
   0x0F0F0F0, 0x0EF2EB7, 0x0ED7303, 0x0EBBDB2, 0x0EA0EA0, 0x0E865AC, 0x0E6C2B4, 0x0E52598,
   0x0E38E38, 0x0E1FC78, 0x0E07038, 0x0DEE95C, 0x0DD67C8, 0x0DBEB61, 0x0DA740D, 0x0D901B2,
   0x0D79435, 0x0D62B80, 0x0D4C77B, 0x0D3680D, 0x0D20D20, 0x0D0B69F, 0x0CF6474, 0x0CE168A,
   0x0CCCCCC, 0x0CB8727, 0x0CA4587, 0x0C907DA, 0x0C7CE0C, 0x0C6980C, 0x0C565C8, 0x0C4372F,
   0x0C30C30, 0x0C1E4BB, 0x0C0C0C0, 0x0BFA02F, 0x0BE82FA, 0x0BD6910, 0x0BC5264, 0x0BB3EE7,
   0x0BA2E8B, 0x0B92143, 0x0B81702, 0x0B70FBB, 0x0B60B60, 0x0B509E6, 0x0B40B40, 0x0B30F63,
   0x0B21642, 0x0B11FD3, 0x0B02C0B, 0x0AF3ADD, 0x0AE4C41, 0x0AD602B, 0x0AC7691, 0x0AB8F69,
   0x0AAAAAA, 0x0A9C84A, 0x0A8E83F, 0x0A80A80, 0x0A72F05, 0x0A655C4, 0x0A57EB5, 0x0A4A9CF,
   0x0A3D70A, 0x0A3065E, 0x0A237C3, 0x0A16B31, 0x0A0A0A0, 0x09FD809, 0x09F1165, 0x09E4CAD,
   0x09D89D8, 0x09CC8E1, 0x09C09C0, 0x09B4C6F, 0x09A90E7, 0x099D722, 0x0991F1A, 0x09868C8,
   0x097B425, 0x097012E, 0x0964FDA, 0x095A025, 0x094F209, 0x0944580, 0x0939A85, 0x092F113,
   0x0924924, 0x091A2B3, 0x090FDBC, 0x0905A38, 0x08FB823, 0x08F1779, 0x08E7835, 0x08DDA52,
   0x08D3DCB, 0x08CA29C, 0x08C08C0, 0x08B7034, 0x08AD8F2, 0x08A42F8, 0x089AE40, 0x0891AC7,
   0x0888888, 0x087F780, 0x08767AB, 0x086D905, 0x0864B8A, 0x085BF37, 0x0853408, 0x084A9F9,
   0x0842108, 0x0839930, 0x083126E, 0x0828CBF, 0x0820820, 0x081848D, 0x0810204, 0x0808080,
         0x0,       0x0 };

long gpoly_divtable[][64] = {
   {-8388607,-8388607,-8388607,-8388607,-8388607,-8388607,-8388607,-8388607,
    -8388607,-8388607,-8388607,-8388607,-8388607,-8388607,-8388607,-8388607,
    -8388607,-8388607,-8388607,-8388607,-8388607,-8388607,-8388607,-8388607,
    -8388607,-8388607,-8388607,-8388607,-8388607,-8388607,-8388607,-8388607,
           0, 8388607, 8388607, 8388607, 8388607, 8388607, 8388607, 8388607,
     8388607, 8388607, 8388607, 8388607, 8388607, 8388607, 8388607, 8388607,
     8388607, 8388607, 8388607, 8388607, 8388607, 8388607, 8388607, 8388607,
     8388607, 8388607, 8388607, 8388607, 8388607, 8388607, 8388607, 8388607,},
   {-2097152,-2031616,-1966080,-1900544,-1835008,-1769472,-1703936,-1638400,
    -1572864,-1507328,-1441792,-1376256,-1310720,-1245184,-1179648,-1114112,
    -1048576, -983040, -917504, -851968, -786432, -720896, -655360, -589824,
     -524288, -458752, -393216, -327680, -262144, -196608, -131072,  -65536,
           0,   65536,  131072,  196608,  262144,  327680,  393216,  458752,
      524288,  589824,  655360,  720896,  786432,  851968,  917504,  983040,
     1048576, 1114112, 1179648, 1245184, 1310720, 1376256, 1441792, 1507328,
     1572864, 1638400, 1703936, 1769472, 1835008, 1900544, 1966080, 2031616,},
   {-1048576,-1015808, -983040, -950272, -917504, -884736, -851968, -819200,
     -786432, -753664, -720896, -688128, -655360, -622592, -589824, -557056,
     -524288, -491520, -458752, -425984, -393216, -360448, -327680, -294912,
     -262144, -229376, -196608, -163840, -131072,  -98304,  -65536,  -32768,
           0,   32768,   65536,   98304,  131072,  163840,  196608,  229376,
      262144,  294912,  327680,  360448,  393216,  425984,  458752,  491520,
      524288,  557056,  589824,  622592,  655360,  688128,  720896,  753664,
      786432,  819200,  851968,  884736,  917504,  950272,  983040, 1015808,},
   { -699050, -677205, -655360, -633514, -611669, -589824, -567978, -546133,
     -524288, -502442, -480597, -458752, -436906, -415061, -393216, -371370,
     -349525, -327680, -305834, -283989, -262144, -240298, -218453, -196608,
     -174762, -152917, -131072, -109226,  -87381,  -65536,  -43690,  -21845,
           0,   21845,   43690,   65536,   87381,  109226,  131072,  152917,
      174762,  196608,  218453,  240298,  262144,  283989,  305834,  327680,
      349525,  371370,  393216,  415061,  436906,  458752,  480597,  502442,
      524288,  546133,  567978,  589824,  611669,  633514,  655360,  677205,},
   { -524288, -507904, -491520, -475136, -458752, -442368, -425984, -409600,
     -393216, -376832, -360448, -344064, -327680, -311296, -294912, -278528,
     -262144, -245760, -229376, -212992, -196608, -180224, -163840, -147456,
     -131072, -114688,  -98304,  -81920,  -65536,  -49152,  -32768,  -16384,
           0,   16384,   32768,   49152,   65536,   81920,   98304,  114688,
      131072,  147456,  163840,  180224,  196608,  212992,  229376,  245760,
      262144,  278528,  294912,  311296,  327680,  344064,  360448,  376832,
      393216,  409600,  425984,  442368,  458752,  475136,  491520,  507904,},
   { -419430, -406323, -393216, -380108, -367001, -353894, -340787, -327680,
     -314572, -301465, -288358, -275251, -262144, -249036, -235929, -222822,
     -209715, -196608, -183500, -170393, -157286, -144179, -131072, -117964,
     -104857,  -91750,  -78643,  -65536,  -52428,  -39321,  -26214,  -13107,
           0,   13107,   26214,   39321,   52428,   65536,   78643,   91750,
      104857,  117964,  131072,  144179,  157286,  170393,  183500,  196608,
      209715,  222822,  235929,  249036,  262144,  275251,  288358,  301465,
      314572,  327680,  340787,  353894,  367001,  380108,  393216,  406323,},
   { -349525, -338602, -327680, -316757, -305834, -294912, -283989, -273066,
     -262144, -251221, -240298, -229376, -218453, -207530, -196608, -185685,
     -174762, -163840, -152917, -141994, -131072, -120149, -109226,  -98304,
      -87381,  -76458,  -65536,  -54613,  -43690,  -32768,  -21845,  -10922,
           0,   10922,   21845,   32768,   43690,   54613,   65536,   76458,
       87381,   98304,  109226,  120149,  131072,  141994,  152917,  163840,
      174762,  185685,  196608,  207530,  218453,  229376,  240298,  251221,
      262144,  273066,  283989,  294912,  305834,  316757,  327680,  338602,},
   { -299593, -290230, -280868, -271506, -262144, -252781, -243419, -234057,
     -224694, -215332, -205970, -196608, -187245, -177883, -168521, -159158,
     -149796, -140434, -131072, -121709, -112347, -102985,  -93622,  -84260,
      -74898,  -65536,  -56173,  -46811,  -37449,  -28086,  -18724,   -9362,
           0,    9362,   18724,   28086,   37449,   46811,   56173,   65536,
       74898,   84260,   93622,  102985,  112347,  121709,  131072,  140434,
      149796,  159158,  168521,  177883,  187245,  196608,  205970,  215332,
      224694,  234057,  243419,  252781,  262144,  271506,  280868,  290230,},
   { -262144, -253952, -245760, -237568, -229376, -221184, -212992, -204800,
     -196608, -188416, -180224, -172032, -163840, -155648, -147456, -139264,
     -131072, -122880, -114688, -106496,  -98304,  -90112,  -81920,  -73728,
      -65536,  -57344,  -49152,  -40960,  -32768,  -24576,  -16384,   -8192,
           0,    8192,   16384,   24576,   32768,   40960,   49152,   57344,
       65536,   73728,   81920,   90112,   98304,  106496,  114688,  122880,
      131072,  139264,  147456,  155648,  163840,  172032,  180224,  188416,
      196608,  204800,  212992,  221184,  229376,  237568,  245760,  253952,},
   { -233016, -225735, -218453, -211171, -203889, -196608, -189326, -182044,
     -174762, -167480, -160199, -152917, -145635, -138353, -131072, -123790,
     -116508, -109226, -101944,  -94663,  -87381,  -80099,  -72817,  -65536,
      -58254,  -50972,  -43690,  -36408,  -29127,  -21845,  -14563,   -7281,
           0,    7281,   14563,   21845,   29127,   36408,   43690,   50972,
       58254,   65536,   72817,   80099,   87381,   94663,  101944,  109226,
      116508,  123790,  131072,  138353,  145635,  152917,  160199,  167480,
      174762,  182044,  189326,  196608,  203889,  211171,  218453,  225735,},
   { -209715, -203161, -196608, -190054, -183500, -176947, -170393, -163840,
     -157286, -150732, -144179, -137625, -131072, -124518, -117964, -111411,
     -104857,  -98304,  -91750,  -85196,  -78643,  -72089,  -65536,  -58982,
      -52428,  -45875,  -39321,  -32768,  -26214,  -19660,  -13107,   -6553,
           0,    6553,   13107,   19660,   26214,   32768,   39321,   45875,
       52428,   58982,   65536,   72089,   78643,   85196,   91750,   98304,
      104857,  111411,  117964,  124518,  131072,  137625,  144179,  150732,
      157286,  163840,  170393,  176947,  183500,  190054,  196608,  203161,},
   { -190650, -184692, -178734, -172776, -166818, -160861, -154903, -148945,
     -142987, -137029, -131072, -125114, -119156, -113198, -107240, -101282,
      -95325,  -89367,  -83409,  -77451,  -71493,  -65536,  -59578,  -53620,
      -47662,  -41704,  -35746,  -29789,  -23831,  -17873,  -11915,   -5957,
           0,    5957,   11915,   17873,   23831,   29789,   35746,   41704,
       47662,   53620,   59578,   65536,   71493,   77451,   83409,   89367,
       95325,  101282,  107240,  113198,  119156,  125114,  131072,  137029,
      142987,  148945,  154903,  160861,  166818,  172776,  178734,  184692,},
   { -174762, -169301, -163840, -158378, -152917, -147456, -141994, -136533,
     -131072, -125610, -120149, -114688, -109226, -103765,  -98304,  -92842,
      -87381,  -81920,  -76458,  -70997,  -65536,  -60074,  -54613,  -49152,
      -43690,  -38229,  -32768,  -27306,  -21845,  -16384,  -10922,   -5461,
           0,    5461,   10922,   16384,   21845,   27306,   32768,   38229,
       43690,   49152,   54613,   60074,   65536,   70997,   76458,   81920,
       87381,   92842,   98304,  103765,  109226,  114688,  120149,  125610,
      131072,  136533,  141994,  147456,  152917,  158378,  163840,  169301,},
   { -161319, -156278, -151236, -146195, -141154, -136113, -131072, -126030,
     -120989, -115948, -110907, -105865, -100824,  -95783,  -90742,  -85700,
      -80659,  -75618,  -70577,  -65536,  -60494,  -55453,  -50412,  -45371,
      -40329,  -35288,  -30247,  -25206,  -20164,  -15123,  -10082,   -5041,
           0,    5041,   10082,   15123,   20164,   25206,   30247,   35288,
       40329,   45371,   50412,   55453,   60494,   65536,   70577,   75618,
       80659,   85700,   90742,   95783,  100824,  105865,  110907,  115948,
      120989,  126030,  131072,  136113,  141154,  146195,  151236,  156278,},
   { -149796, -145115, -140434, -135753, -131072, -126390, -121709, -117028,
     -112347, -107666, -102985,  -98304,  -93622,  -88941,  -84260,  -79579,
      -74898,  -70217,  -65536,  -60854,  -56173,  -51492,  -46811,  -42130,
      -37449,  -32768,  -28086,  -23405,  -18724,  -14043,   -9362,   -4681,
           0,    4681,    9362,   14043,   18724,   23405,   28086,   32768,
       37449,   42130,   46811,   51492,   56173,   60854,   65536,   70217,
       74898,   79579,   84260,   88941,   93622,   98304,  102985,  107666,
      112347,  117028,  121709,  126390,  131072,  135753,  140434,  145115,},
   { -139810, -135441, -131072, -126702, -122333, -117964, -113595, -109226,
     -104857, -100488,  -96119,  -91750,  -87381,  -83012,  -78643,  -74274,
      -69905,  -65536,  -61166,  -56797,  -52428,  -48059,  -43690,  -39321,
      -34952,  -30583,  -26214,  -21845,  -17476,  -13107,   -8738,   -4369,
           0,    4369,    8738,   13107,   17476,   21845,   26214,   30583,
       34952,   39321,   43690,   48059,   52428,   56797,   61166,   65536,
       69905,   74274,   78643,   83012,   87381,   91750,   96119,  100488,
      104857,  109226,  113595,  117964,  122333,  126702,  131072,  135441,},
   { -131072, -126976, -122880, -118784, -114688, -110592, -106496, -102400,
      -98304,  -94208,  -90112,  -86016,  -81920,  -77824,  -73728,  -69632,
      -65536,  -61440,  -57344,  -53248,  -49152,  -45056,  -40960,  -36864,
      -32768,  -28672,  -24576,  -20480,  -16384,  -12288,   -8192,   -4096,
           0,    4096,    8192,   12288,   16384,   20480,   24576,   28672,
       32768,   36864,   40960,   45056,   49152,   53248,   57344,   61440,
       65536,   69632,   73728,   77824,   81920,   86016,   90112,   94208,
       98304,  102400,  106496,  110592,  114688,  118784,  122880,  126976,},
   { -123361, -119506, -115651, -111796, -107941, -104086, -100231,  -96376,
      -92521,  -88666,  -84811,  -80956,  -77101,  -73246,  -69391,  -65536,
      -61680,  -57825,  -53970,  -50115,  -46260,  -42405,  -38550,  -34695,
      -30840,  -26985,  -23130,  -19275,  -15420,  -11565,   -7710,   -3855,
           0,    3855,    7710,   11565,   15420,   19275,   23130,   26985,
       30840,   34695,   38550,   42405,   46260,   50115,   53970,   57825,
       61680,   65536,   69391,   73246,   77101,   80956,   84811,   88666,
       92521,   96376,  100231,  104086,  107941,  111796,  115651,  119506,},
   { -116508, -112867, -109226, -105585, -101944,  -98304,  -94663,  -91022,
      -87381,  -83740,  -80099,  -76458,  -72817,  -69176,  -65536,  -61895,
      -58254,  -54613,  -50972,  -47331,  -43690,  -40049,  -36408,  -32768,
      -29127,  -25486,  -21845,  -18204,  -14563,  -10922,   -7281,   -3640,
           0,    3640,    7281,   10922,   14563,   18204,   21845,   25486,
       29127,   32768,   36408,   40049,   43690,   47331,   50972,   54613,
       58254,   61895,   65536,   69176,   72817,   76458,   80099,   83740,
       87381,   91022,   94663,   98304,  101944,  105585,  109226,  112867,},
   { -110376, -106927, -103477, -100028,  -96579,  -93130,  -89680,  -86231,
      -82782,  -79333,  -75883,  -72434,  -68985,  -65536,  -62086,  -58637,
      -55188,  -51738,  -48289,  -44840,  -41391,  -37941,  -34492,  -31043,
      -27594,  -24144,  -20695,  -17246,  -13797,  -10347,   -6898,   -3449,
           0,    3449,    6898,   10347,   13797,   17246,   20695,   24144,
       27594,   31043,   34492,   37941,   41391,   44840,   48289,   51738,
       55188,   58637,   62086,   65536,   68985,   72434,   75883,   79333,
       82782,   86231,   89680,   93130,   96579,  100028,  103477,  106927,},
   { -104857, -101580,  -98304,  -95027,  -91750,  -88473,  -85196,  -81920,
      -78643,  -75366,  -72089,  -68812,  -65536,  -62259,  -58982,  -55705,
      -52428,  -49152,  -45875,  -42598,  -39321,  -36044,  -32768,  -29491,
      -26214,  -22937,  -19660,  -16384,  -13107,   -9830,   -6553,   -3276,
           0,    3276,    6553,    9830,   13107,   16384,   19660,   22937,
       26214,   29491,   32768,   36044,   39321,   42598,   45875,   49152,
       52428,   55705,   58982,   62259,   65536,   68812,   72089,   75366,
       78643,   81920,   85196,   88473,   91750,   95027,   98304,  101580,},
   {  -99864,  -96743,  -93622,  -90502,  -87381,  -84260,  -81139,  -78019,
      -74898,  -71777,  -68656,  -65536,  -62415,  -59294,  -56173,  -53052,
      -49932,  -46811,  -43690,  -40569,  -37449,  -34328,  -31207,  -28086,
      -24966,  -21845,  -18724,  -15603,  -12483,   -9362,   -6241,   -3120,
           0,    3120,    6241,    9362,   12483,   15603,   18724,   21845,
       24966,   28086,   31207,   34328,   37449,   40569,   43690,   46811,
       49932,   53052,   56173,   59294,   62415,   65536,   68656,   71777,
       74898,   78019,   81139,   84260,   87381,   90502,   93622,   96743,},
   {  -95325,  -92346,  -89367,  -86388,  -83409,  -80430,  -77451,  -74472,
      -71493,  -68514,  -65536,  -62557,  -59578,  -56599,  -53620,  -50641,
      -47662,  -44683,  -41704,  -38725,  -35746,  -32768,  -29789,  -26810,
      -23831,  -20852,  -17873,  -14894,  -11915,   -8936,   -5957,   -2978,
           0,    2978,    5957,    8936,   11915,   14894,   17873,   20852,
       23831,   26810,   29789,   32768,   35746,   38725,   41704,   44683,
       47662,   50641,   53620,   56599,   59578,   62557,   65536,   68514,
       71493,   74472,   77451,   80430,   83409,   86388,   89367,   92346,},
   {  -91180,  -88331,  -85481,  -82632,  -79782,  -76933,  -74084,  -71234,
      -68385,  -65536,  -62686,  -59837,  -56987,  -54138,  -51289,  -48439,
      -45590,  -42740,  -39891,  -37042,  -34192,  -31343,  -28493,  -25644,
      -22795,  -19945,  -17096,  -14246,  -11397,   -8548,   -5698,   -2849,
           0,    2849,    5698,    8548,   11397,   14246,   17096,   19945,
       22795,   25644,   28493,   31343,   34192,   37042,   39891,   42740,
       45590,   48439,   51289,   54138,   56987,   59837,   62686,   65536,
       68385,   71234,   74084,   76933,   79782,   82632,   85481,   88331,},
   {  -87381,  -84650,  -81920,  -79189,  -76458,  -73728,  -70997,  -68266,
      -65536,  -62805,  -60074,  -57344,  -54613,  -51882,  -49152,  -46421,
      -43690,  -40960,  -38229,  -35498,  -32768,  -30037,  -27306,  -24576,
      -21845,  -19114,  -16384,  -13653,  -10922,   -8192,   -5461,   -2730,
           0,    2730,    5461,    8192,   10922,   13653,   16384,   19114,
       21845,   24576,   27306,   30037,   32768,   35498,   38229,   40960,
       43690,   46421,   49152,   51882,   54613,   57344,   60074,   62805,
       65536,   68266,   70997,   73728,   76458,   79189,   81920,   84650,},
   {  -83886,  -81264,  -78643,  -76021,  -73400,  -70778,  -68157,  -65536,
      -62914,  -60293,  -57671,  -55050,  -52428,  -49807,  -47185,  -44564,
      -41943,  -39321,  -36700,  -34078,  -31457,  -28835,  -26214,  -23592,
      -20971,  -18350,  -15728,  -13107,  -10485,   -7864,   -5242,   -2621,
           0,    2621,    5242,    7864,   10485,   13107,   15728,   18350,
       20971,   23592,   26214,   28835,   31457,   34078,   36700,   39321,
       41943,   44564,   47185,   49807,   52428,   55050,   57671,   60293,
       62914,   65536,   68157,   70778,   73400,   76021,   78643,   81264,},
   {  -80659,  -78139,  -75618,  -73097,  -70577,  -68056,  -65536,  -63015,
      -60494,  -57974,  -55453,  -52932,  -50412,  -47891,  -45371,  -42850,
      -40329,  -37809,  -35288,  -32768,  -30247,  -27726,  -25206,  -22685,
      -20164,  -17644,  -15123,  -12603,  -10082,   -7561,   -5041,   -2520,
           0,    2520,    5041,    7561,   10082,   12603,   15123,   17644,
       20164,   22685,   25206,   27726,   30247,   32768,   35288,   37809,
       40329,   42850,   45371,   47891,   50412,   52932,   55453,   57974,
       60494,   63015,   65536,   68056,   70577,   73097,   75618,   78139,},
   {  -77672,  -75245,  -72817,  -70390,  -67963,  -65536,  -63108,  -60681,
      -58254,  -55826,  -53399,  -50972,  -48545,  -46117,  -43690,  -41263,
      -38836,  -36408,  -33981,  -31554,  -29127,  -26699,  -24272,  -21845,
      -19418,  -16990,  -14563,  -12136,   -9709,   -7281,   -4854,   -2427,
           0,    2427,    4854,    7281,    9709,   12136,   14563,   16990,
       19418,   21845,   24272,   26699,   29127,   31554,   33981,   36408,
       38836,   41263,   43690,   46117,   48545,   50972,   53399,   55826,
       58254,   60681,   63108,   65536,   67963,   70390,   72817,   75245,},
   {  -74898,  -72557,  -70217,  -67876,  -65536,  -63195,  -60854,  -58514,
      -56173,  -53833,  -51492,  -49152,  -46811,  -44470,  -42130,  -39789,
      -37449,  -35108,  -32768,  -30427,  -28086,  -25746,  -23405,  -21065,
      -18724,  -16384,  -14043,  -11702,   -9362,   -7021,   -4681,   -2340,
           0,    2340,    4681,    7021,    9362,   11702,   14043,   16384,
       18724,   21065,   23405,   25746,   28086,   30427,   32768,   35108,
       37449,   39789,   42130,   44470,   46811,   49152,   51492,   53833,
       56173,   58514,   60854,   63195,   65536,   67876,   70217,   72557,},
   {  -72315,  -70055,  -67795,  -65536,  -63276,  -61016,  -58756,  -56496,
      -54236,  -51976,  -49716,  -47457,  -45197,  -42937,  -40677,  -38417,
      -36157,  -33897,  -31638,  -29378,  -27118,  -24858,  -22598,  -20338,
      -18078,  -15819,  -13559,  -11299,   -9039,   -6779,   -4519,   -2259,
           0,    2259,    4519,    6779,    9039,   11299,   13559,   15819,
       18078,   20338,   22598,   24858,   27118,   29378,   31638,   33897,
       36157,   38417,   40677,   42937,   45197,   47457,   49716,   51976,
       54236,   56496,   58756,   61016,   63276,   65536,   67795,   70055,},
   {  -69905,  -67720,  -65536,  -63351,  -61166,  -58982,  -56797,  -54613,
      -52428,  -50244,  -48059,  -45875,  -43690,  -41506,  -39321,  -37137,
      -34952,  -32768,  -30583,  -28398,  -26214,  -24029,  -21845,  -19660,
      -17476,  -15291,  -13107,  -10922,   -8738,   -6553,   -4369,   -2184,
           0,    2184,    4369,    6553,    8738,   10922,   13107,   15291,
       17476,   19660,   21845,   24029,   26214,   28398,   30583,   32768,
       34952,   37137,   39321,   41506,   43690,   45875,   48059,   50244,
       52428,   54613,   56797,   58982,   61166,   63351,   65536,   67720,},
   {  -67650,  -65536,  -63421,  -61307,  -59193,  -57079,  -54965,  -52851,
      -50737,  -48623,  -46509,  -44395,  -42281,  -40167,  -38053,  -35939,
      -33825,  -31710,  -29596,  -27482,  -25368,  -23254,  -21140,  -19026,
      -16912,  -14798,  -12684,  -10570,   -8456,   -6342,   -4228,   -2114,
           0,    2114,    4228,    6342,    8456,   10570,   12684,   14798,
       16912,   19026,   21140,   23254,   25368,   27482,   29596,   31710,
       33825,   35939,   38053,   40167,   42281,   44395,   46509,   48623,
       50737,   52851,   54965,   57079,   59193,   61307,   63421,   65536,},
};

DLLIMPORT long _DK_gpoly_pro_enable_mode_ofs;
#define gpoly_pro_enable_mode_ofs _DK_gpoly_pro_enable_mode_ofs
// Static variables used only inside draw_gpoly().
// These don't really have to be global; but this helps
// in using these inside assembly code
long gpoly_mode;
long factor_ca,factor_ba,factor_cb,factor_chk;
// More variables - made global temporarly to ease assembly rewriting
struct PolyPoint *gploc_point_a,*gploc_point_b,*gploc_point_c;
long gploc_1A4,gploc_1A0;
short gploc_word01,gploc_word02,gploc_word03;
long gploc_198,gploc_194,gploc_18C,gploc_188,gploc_180;
long gploc_pt_ay,gploc_pt_ax,gploc_pt_shax,gploc_170,gploc_16C,gploc_168;
long gploc_pt_by,gploc_pt_bx,gploc_pt_shbx,gploc_158,gploc_154,gploc_150;
long gploc_pt_cy,gploc_pt_cx,gploc_pt_shcx,gploc_140,gploc_13C,gploc_138;
long gploc_12C,gploc_128,gploc_104,gploc_FC,gploc_F8,gploc_F4,gploc_E4,gploc_E0;
long gploc_D8,gploc_D4,gploc_CC,gploc_C8,gploc_C4,gploc_C0,gploc_BC,gploc_B8,gploc_B4,gploc_B0,gploc_AC,gploc_A7,gploc_A8,gploc_A4,gploc_A0,gploc_9C;
long gploc_98,gploc_94,gploc_90,gploc_8C,gploc_88,gploc_84,gploc_80,gploc_7C,gploc_78,gploc_74,gploc_68,gploc_64,gploc_60;
long gploc_5C,gploc_58,gploc_54,gploc_50,gploc_4C,gploc_48,gploc_44,gploc_34,gploc_30,gploc_2C,gploc_28;
/******************************************************************************/
void gpoly_enable_pentium_pro(TbBool state)
{
  SYNCMSG("Pentium Pro polygon rendering %s",state?"on":"off");
  if (state)
    gpoly_pro_enable_mode_ofs = (1<<6);
  else
    gpoly_pro_enable_mode_ofs = 0;
}

void draw_gpoly_sub1a();
void draw_gpoly_sub1b();
void draw_gpoly_sub1c();
void draw_gpoly_sub2a();
void draw_gpoly_sub2b();
void draw_gpoly_sub2c();
void draw_gpoly_sub3a();
void draw_gpoly_sub3b();
void draw_gpoly_sub4();
void draw_gpoly_sub5();
void draw_gpoly_sub6();
void draw_gpoly_sub7();
void draw_gpoly_sub11();
void draw_gpoly_sub12();
void draw_gpoly_sub13();
void draw_gpoly_sub14();

void draw_gpoly(struct PolyPoint *point_a, struct PolyPoint *point_b, struct PolyPoint *point_c)
{
    //_DK_vec_mode = vec_mode; _DK_vec_colour = vec_colour;
    //_DK_draw_gpoly(point_a, point_b, point_c); return;
    LOC_poly_screen = poly_screen;
    LOC_vec_map = vec_map;
    LOC_vec_screen = vec_screen;
    LOC_vec_screen_width = vec_screen_width;
    LOC_vec_window_width = vec_window_width;
    LOC_vec_window_height = vec_window_height;
    gpoly_mode = gpoly_pro_enable_mode_ofs + vec_mode;
    { // Check for outranged poly size
        // test lengths
        int len_bc_x = point_b->field_0 - point_c->field_0;
        if ((len_bc_x < -16383) || (len_bc_x > 16383))
            return;
        int len_bc_y = point_b->field_4 - point_c->field_4;
        if ((len_bc_y < -16383) || (len_bc_y > 16383))
            return;
        int len_ba_x = point_b->field_0 - point_a->field_0;
        if ((len_ba_x < -16383) || (len_ba_x > 16383))
            return;
        int len_ca_y = point_c->field_4 - point_a->field_4;
        if ((len_ca_y < -16383) || (len_ca_y > 16383))
            return;
        int len_ca_x = point_c->field_0 - point_a->field_0;
        if ((len_ca_x < -16383) || (len_ca_x > 16383))
            return;
        int len_ba_y = point_b->field_4 - point_a->field_4;
        if ((len_ba_y < -16383) || (len_ba_y > 16383))
            return;
        // test area
        if ((len_ca_x * len_ba_y) - (len_ba_x * len_ca_y) >= 0)
            return;
    }
    long exceeds_window = ((point_a->field_0 | point_b->field_0 | point_c->field_0) < 0) || (point_a->field_0 > vec_window_width) || (point_b->field_0 > vec_window_width) || (point_c->field_0 > vec_window_width);
    { // Reorder points
        int min_y = point_a->field_4;
        struct PolyPoint* point_tmp;
        if (min_y > point_b->field_4)
        {
            min_y = point_b->field_4;
            point_tmp = point_a;
            point_a = point_b;
            point_b = point_tmp;
        }
        if (min_y > point_c->field_4)
        {
            point_tmp = point_a;
            point_a = point_c;
            point_c = point_tmp;
        }
        if (point_b->field_4 > point_c->field_4)
        {
            point_tmp = point_b;
            point_b = point_c;
            point_c = point_tmp;
        }
    }
    // Check if y coord is same for all of them
    if (point_a->field_4 == point_c->field_4)
        return;
    {
        long len_y = point_c->field_4 - point_a->field_4;
        long len_x = point_c->field_0 - point_a->field_0;
        if (len_y != 0)
        {
            if ((len_y < 0) || (len_y > 31) || (len_x < -32) || (len_x > 31))
                factor_ca = (len_x << 16) / len_y;
            else
                factor_ca = gpoly_divtable[len_y][len_x+32];
        } else
        {
            if (len_x < -32)
                factor_ca = gpoly_divtable[len_y][-32+32];
            else
            if (len_x > 31)
                factor_ca = gpoly_divtable[len_y][31+32];
            else
                factor_ca = gpoly_divtable[len_y][len_x+32];
        }
        len_y = point_b->field_4 - point_a->field_4;
        len_x = point_b->field_0 - point_a->field_0;
        if (len_y != 0)
        {
            if ((len_y < 0) || (len_y > 31) || (len_x < -32) || (len_x > 31))
                factor_ba = (len_x << 16) / len_y;
            else
                factor_ba = gpoly_divtable[len_y][len_x+32];
        } else
        {
            if (len_x < -32)
                factor_ba = gpoly_divtable[len_y][-32+32];
            else
            if (len_x > 31)
                factor_ba = gpoly_divtable[len_y][31+32];
            else
                factor_ba = gpoly_divtable[len_y][len_x+32];
        }
        len_y = point_c->field_4 - point_b->field_4;
        len_x = point_c->field_0 - point_b->field_0;
        if (len_y != 0)
        {
            if ((len_y < 0) || (len_y > 31) || (len_x < -32) || (len_x > 31))
                factor_cb = (len_x << 16) / len_y;
            else
                factor_cb = gpoly_divtable[len_y][len_x+32];
        } else
        {
            if (len_x < -32)
                factor_cb = gpoly_divtable[len_y][-32+32];
            else
            if (len_x > 31)
                factor_cb = gpoly_divtable[len_y][31+32];
            else
                factor_cb = gpoly_divtable[len_y][len_x+32];
        }
        len_x = (point_a->field_0 << 16) - (point_b->field_0 << 16);
        len_y = (point_b->field_4 - point_a->field_4);
        factor_chk = len_y * factor_ca + len_x;
    }

    gploc_pt_ax = point_a->field_0;
    gploc_pt_ay = point_a->field_4;
    gploc_pt_shax = point_a->field_0 << 16;
    gploc_pt_bx = point_b->field_0;
    gploc_pt_by = point_b->field_4;
    gploc_pt_shbx = point_b->field_0 << 16;
    gploc_pt_cx = point_c->field_0;
    gploc_pt_cy = point_c->field_4;
    gploc_pt_shcx = point_c->field_0 << 16;
    gploc_170 = point_a->field_10 >> 16;
    gploc_158 = point_b->field_10 >> 16;
    gploc_140 = point_c->field_10 >> 16;
    gploc_16C = point_a->field_8 >> 16;
    gploc_168 = point_a->field_C >> 16;
    gploc_154 = point_b->field_8 >> 16;
    gploc_150 = point_b->field_C >> 16;
    gploc_13C = point_c->field_8 >> 16;
    gploc_138 = point_c->field_C >> 16;


    gploc_point_a = point_a;
    gploc_point_b = point_b;
    gploc_point_c = point_c;

    switch (gpoly_mode)
    {
    case 27:
    case 29:
    case 31:
    case 32:
    case 33:
    case 34:
    case 37:
    case 38:
    case 91:
    case 93:
    case 95:
    case 96:
    case 97:
    case 98:
    case 101:
    case 102:
        draw_gpoly_sub1a();
        draw_gpoly_sub1b();
        draw_gpoly_sub1c();
        break;
    case 28:
    case 30:
    case 35:
    case 36:
    case 39:
    case 40:
    case 92:
    case 94:
    case 99:
    case 100:
    case 103:
    case 104:
        draw_gpoly_sub2a();
        draw_gpoly_sub2b();
        draw_gpoly_sub2c();
        break;
    case 4:
    case 16:
    case 17:
    case 68:
    case 80:
    case 81:
        draw_gpoly_sub3a();
        draw_gpoly_sub3b();
        break;
    case 3:
    case 12:
    case 13:
    case 18:
    case 19:
    case 22:
    case 23:
    case 67:
    case 76:
    case 77:
    case 82:
    case 83:
    case 86:
    case 87:
        draw_gpoly_sub4();
        break;
    case 2:
    case 66:
        draw_gpoly_sub5();
        break;
    case 5:
    case 6:
    case 20:
    case 21:
    case 24:
    case 25:
    case 70:
    case 84:
    case 85:
    case 88:
    case 89:
        draw_gpoly_sub6();
        break;
    case 69:
        draw_gpoly_sub7();
        break;
    case 43:
    case 44:
    case 45:
    case 46:
    case 47:
    case 48:
    case 49:
    case 50:
    case 51:
    case 52:
    case 53:
    case 54:
    case 55:
    case 56:
    case 57:
    case 58:
    case 59:
    case 60:
    case 61:
    case 62:
    case 63:
      return;
    }

    // End of first switch - now the second
    switch (gpoly_mode)
    {
    case 5:
        if (exceeds_window)
        {
            gploc_104 = LOC_vec_screen_width;
            gploc_180 = 2;
            gploc_60 = gploc_1A4;
            gploc_CC = gploc_A4;
            gploc_C4 = gploc_A0;
            gploc_C8 = gploc_9C;
            if (factor_chk < 0)
            {
                gploc_12C = factor_ca;
                gploc_128 = factor_ba;
            }
            else
            {
                gploc_12C = factor_ba;
                gploc_128 = factor_ca;
            }
            draw_gpoly_sub11();
        } else // not exceeds_window
        {
            draw_gpoly_sub12();
        }
        break;

    case 64+5: //Pentium pro index + 5
        if (exceeds_window)
        {
            gploc_104 = LOC_vec_screen_width;
            gploc_180 = 2;
            gploc_60 = gploc_68;
            gploc_CC = gploc_A4;
            gploc_C4 = gploc_A0;
            if (factor_chk < 0)
            {
                gploc_12C = factor_ca;
                gploc_128 = factor_ba;

            } else
            {
                gploc_12C = factor_ba;
                gploc_128 = factor_ca;
            }
            draw_gpoly_sub13();
        } else // not exceeds_window
        {
            gploc_104 = LOC_vec_screen_width;
            gploc_180 = 2;
            gploc_60 = gploc_68;
            gploc_CC = gploc_A4;
            gploc_C4 = gploc_A0;
            if (factor_chk < 0)
            {
                gploc_12C = factor_ca;
                gploc_128 = factor_ba;
            } else
            {
                gploc_12C = factor_ba;
                gploc_128 = factor_ca;
            }
            draw_gpoly_sub14();
        }
        break;
    }
}

static void unk_update_gpoly1_tri8a(long * vout0, long * vout1, long vinp2, long vin0, long delta)
{
    long tmp1 = (vin0 << 16);
    long tmp2 = (vin0 >> 16);
    tmp1 += (unsigned char)(vinp2);
    if ( (char)(vinp2) < 0 )
    {
        long tmp3 = (unsigned int)tmp1 < delta;
        tmp1 -= delta;
        tmp2 = (tmp2 & ~0xff) | ((tmp2 - tmp3) & 0xff);
    }
    *vout1 = tmp1;
    *vout0 = tmp2;
}

static void unk_update_gpoly1_tri16a(long * vout0, long * vout1, long vinp2, long vin0, long delta)
{
    long tmp1 = (vin0 << 16);
    long tmp2 = (vin0 >> 16);
    tmp1 += (unsigned short)(vinp2);
    if ( (short)(vinp2) < 0 )
    {
        long tmp3 = (unsigned int)tmp1 < delta;
        tmp1 -= delta;
        tmp2 = (tmp2 & ~0xff) | ((tmp2 - tmp3) & 0xff);
    }
    *vout1 = tmp1;
    *vout0 = tmp2;
}

static void unk_update_gpoly1_tri8b(long * vout0, long * vout1, long * vout2, long vin0, long vin1)
{
    *vout2 = (vin1 << 16);
    long tmp1 = (vin0 << 16);
    tmp1 += ((unsigned int)vin1 >> 16) & 0xff;
    *vout1 = tmp1;
    *vout0 = (unsigned int)(vin0 << 8) >> 24 << 8;
}

static void unk_update_gpoly1_tri16b(long * vout0, long * vout1, long * vout2, long vin0, long vin1, long vin2)
{
    long tmp1 = (vin1 << 16);
    tmp1 += ((unsigned int)vin2 >> 8) & 0xffff;
    *vout2 = tmp1;
    tmp1 = (vin0 << 16);
    tmp1 += ((unsigned int)vin1 >> 16) & 0xff;
    *vout1 = tmp1;
    tmp1 = (unsigned int)(vin0 << 8) >> 24 << 8;
    tmp1 += (vin2) & 0xff;
    *vout0 = tmp1;
}

void draw_gpoly_sub1a()
{
#if __GNUC__
    asm volatile (" \
    pusha   \n \
    movl    _gploc_pt_bx,%%esi\n \
    movl    _factor_chk,%%edi\n \
    orl %%edi,%%edi\n \
    subl    $0,%%esi\n \
    addl    $0,%%esi\n \
    movl    _gploc_pt_ax,%%eax\n \
    subl    %%eax,%%esi\n \
    movl    _gploc_pt_cx,%%edi\n \
    subl    %%eax,%%edi\n \
    movl    _gploc_pt_ay,%%eax\n \
    movl    _gploc_pt_by,%%ebx\n \
    subl    %%eax,%%ebx\n \
    movl    _gploc_pt_cy,%%ecx\n \
    subl    %%eax,%%ecx\n \
    movl    %%ecx,%%eax\n \
    imull   %%esi,%%ecx\n \
    movl    _factor_chk,%%ebp\n \
    orl %%ebp,%%ebp\n \
    js  gpo_loc_0532\n \
    subl    %%eax,%%ecx\n \
    subl    %%eax,%%ecx\n \
\n \
gpo_loc_0532:         # 33C\n \
    addl    %%eax,%%ecx\n \
    imull   %%edi,%%ebx\n \
    subl    %%ecx,%%ebx\n \
    jz  gpo_loc_05B8\n \
    xorl    %%edx,%%edx\n \
    movl    $0x7FFFFFFF,%%eax\n \
    idivl   %%ebx\n \
    movl    %%eax,%%ebp\n \
    movl    _gploc_pt_ay,%%eax\n \
    movl    _gploc_pt_cy,%%esi\n \
    subl    %%eax,%%esi\n \
    movl    _gploc_pt_by,%%edi\n \
    subl    %%eax,%%edi\n \
    movl    %%ebp,%%eax\n \
    movl    _gploc_16C,%%edx\n \
    movl    _gploc_13C,%%ebx\n \
    subl    %%edx,%%ebx\n \
    movl    _gploc_154,%%ecx\n \
    subl    %%edx,%%ecx\n \
    imull   %%esi,%%ecx\n \
    imull   %%edi,%%ebx\n \
    subl    %%ecx,%%ebx\n \
    imull   %%ebx\n \
    shll    $1,%%eax\n \
    rcll    $1,%%edx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_057F\n \
    incl    %%eax\n \
\n \
gpo_loc_057F:         # 38C\n \
    movl    %%eax,_gploc_B0\n \
    movl    %%ebp,%%eax\n \
    movl    _gploc_168,%%edx\n \
    movl    _gploc_138,%%ebx\n \
    subl    %%edx,%%ebx\n \
    movl    _gploc_150,%%ecx\n \
    subl    %%edx,%%ecx\n \
    imull   %%esi,%%ecx\n \
    imull   %%edi,%%ebx\n \
    subl    %%ecx,%%ebx\n \
    imull   %%ebx\n \
    shll    $1,%%eax\n \
    rcll    $1,%%edx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_05AF\n \
    incl    %%eax\n \
\n \
gpo_loc_05AF:         # 3BC\n \
    movl    %%eax,_gploc_AC\n \
    jmp gpo_loc_05C8\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_05B8:         # 34\n \
    xorl    %%eax,%%eax\n \
    movl    %%eax,_gploc_B0\n \
    movl    %%eax,_gploc_AC\n \
\n \
gpo_loc_05C8:         # 3C6\n \
    popa    \n \
" : : : "memory", "cc");
#endif
}

void draw_gpoly_sub1b()
{
#if __GNUC__
    asm volatile (" \
    pusha   \n \
    movl    _factor_chk,%%esi\n \
    orl %%esi,%%esi\n \
    js  gpo_loc_0715\n \
    movl    _gploc_pt_by,%%ecx\n \
    subl    _gploc_pt_ay,%%ecx\n \
    cmpl    $0x0FF,%%ecx\n \
    jg  gpo_loc_05ED\n \
    movl    _gpoly_reptable(,%%ecx,4),%%ebx\n \
    jmp gpo_loc_05FB\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_05ED:         # 3F2\n \
    movl    $0,%%edx\n \
    movl    $0x7FFFFFFF,%%eax\n \
    idivl   %%ecx\n \
    movl    %%eax,%%ebx\n \
\n \
gpo_loc_05FB:         # 3FB\n \
    movl    _gploc_154,%%eax\n \
    subl    _gploc_16C,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_0610\n \
    incl    %%eax\n \
\n \
gpo_loc_0610:         # 41D\n \
    movl    %%eax,_gploc_194\n \
    movl    _gploc_150,%%eax\n \
    subl    _gploc_168,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_0629\n \
    incl    %%eax\n \
\n \
gpo_loc_0629:         # 436\n \
    movl    %%eax,_gploc_188\n \
    movl    _gploc_pt_cy,%%ecx\n \
    subl    _gploc_pt_by,%%ecx\n \
    cmpl    $0x0FF,%%ecx\n \
    jg  gpo_loc_0646\n \
    movl    _gpoly_reptable(,%%ecx,4),%%ebx\n \
    jmp gpo_loc_0654\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_0646:         # 44B\n \
    movl    $0,%%edx\n \
    movl    $0x7FFFFFFF,%%eax\n \
    idivl   %%ecx\n \
    movl    %%eax,%%ebx\n \
\n \
gpo_loc_0654:         # 45\n \
    movl    _gploc_13C,%%eax\n \
    subl    _gploc_154,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_0669\n \
    incl    %%eax\n \
\n \
gpo_loc_0669:         # 476\n \
    movl    %%eax,_gploc_198\n \
    movl    _gploc_138,%%eax\n \
    subl    _gploc_150,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_0682\n \
    incl    %%eax\n \
\n \
gpo_loc_0682:         # 48\n \
    movl    %%eax,_gploc_18C\n \
    movl    _gploc_point_a,%%eax\n \
    movl    _gploc_B0,%%ebx\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    subl    %%eax,_gploc_194\n \
    movl    _gploc_point_a,%%eax\n \
    movl    _gploc_AC,%%ebx\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    subl    %%eax,_gploc_188\n \
    movl    _gploc_point_a,%%eax\n \
    movl    _gploc_A8,%%ebx\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    subl    %%eax,_gploc_point_c\n \
    movl    _gploc_point_b,%%eax\n \
    movl    _gploc_B0,%%ebx\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    subl    %%eax,_gploc_198\n \
    movl    _gploc_point_b,%%eax\n \
    movl    _gploc_AC,%%ebx\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    subl    %%eax,_gploc_18C\n \
    movl    _gploc_point_b,%%eax\n \
    movl    _gploc_A8,%%ebx\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    subl    %%eax,_gploc_1A0\n \
    jmp gpo_loc_07B0\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_0715:         # 3DE\n \
    movl    _gploc_pt_cy,%%ecx\n \
    subl    _gploc_pt_ay,%%ecx\n \
    cmpl    $0x0FF,%%ecx\n \
    jg  gpo_loc_072E\n \
    movl    _gpoly_reptable(,%%ecx,4),%%ebx\n \
    jmp gpo_loc_073C\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_072E:         # 533\n \
    movl    $0,%%edx\n \
    movl    $0x7FFFFFFF,%%eax\n \
    idivl   %%ecx\n \
    movl    %%eax,%%ebx\n \
\n \
gpo_loc_073C:         # 53C\n \
    movl    _gploc_13C,%%eax\n \
    subl    _gploc_16C,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_0751\n \
    incl    %%eax\n \
\n \
gpo_loc_0751:         # 55E\n \
    movl    %%eax,_gploc_194\n \
    movl    _gploc_138,%%eax\n \
    subl    _gploc_168,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_076A\n \
    incl    %%eax\n \
\n \
gpo_loc_076A:         # 577\n \
    movl    %%eax,_gploc_188\n \
    movl    _factor_ca,%%eax\n \
    movl    _gploc_B0,%%ebx\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    subl    %%eax,_gploc_194\n \
    movl    _factor_ca,%%eax\n \
    movl    _gploc_AC,%%ebx\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    subl    %%eax,_gploc_188\n \
    movl    _factor_ca,%%eax\n \
    movl    _gploc_A8,%%ebx\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    subl    %%eax,_gploc_point_c\n \
\n \
gpo_loc_07B0:         # 520\n \
    popa    \n \
" : : : "memory", "cc");
#endif
}

void draw_gpoly_sub1c()
{
    gploc_54 = (gploc_16C << 16) + gploc_B0;
    gploc_50 = (gploc_168 << 16) + gploc_AC;
    gploc_48 = (gploc_154 << 16) + gploc_B0;
    gploc_44 = (gploc_150 << 16) + gploc_AC;

    gploc_BC = (gploc_B0 << 16);
    gploc_B8 = (gploc_B0 >> 16);
    unk_update_gpoly1_tri8a(&gploc_B4, &gploc_B8, gploc_B8, gploc_AC, 256);
    gploc_A4 = (gploc_194 << 16);
    gploc_A0 = (gploc_194 >> 16);
    unk_update_gpoly1_tri8a(&gploc_9C, &gploc_A0, gploc_A0, gploc_188, 256);
    unk_update_gpoly1_tri8b(&gploc_84, &gploc_88, &gploc_8C, gploc_50, gploc_54);
    if ( factor_chk >= 0 )
    {
        gploc_98 = (gploc_198 << 16);
        gploc_94 = (gploc_198 >> 16);
        unk_update_gpoly1_tri8a(&gploc_90, &gploc_94, gploc_94, gploc_18C, 256);
        unk_update_gpoly1_tri8b(&gploc_78, &gploc_7C, &gploc_80, gploc_44, gploc_48);
    }
}

void draw_gpoly_sub2a()
{
#if __GNUC__
    asm volatile (" \
    pusha   \n \
    movl    _gploc_pt_bx,%%esi\n \
    movl    _factor_chk,%%edi\n \
    orl %%edi,%%edi\n \
    subl    $0,%%esi\n \
    addl    $0,%%esi\n \
    movl    _gploc_pt_ax,%%eax\n \
    subl    %%eax,%%esi\n \
    movl    _gploc_pt_cx,%%edi\n \
    subl    %%eax,%%edi\n \
    movl    _gploc_pt_ay,%%eax\n \
    movl    _gploc_pt_by,%%ebx\n \
    subl    %%eax,%%ebx\n \
    movl    _gploc_pt_cy,%%ecx\n \
    subl    %%eax,%%ecx\n \
    movl    %%ecx,%%eax\n \
    imull   %%esi,%%ecx\n \
    movl    _factor_chk,%%ebp\n \
    orl %%ebp,%%ebp\n \
    js  gpo_loc_09AC\n \
    subl    %%eax,%%ecx\n \
    subl    %%eax,%%ecx\n \
\n \
gpo_loc_09AC:         # 7B6\n \
    addl    %%eax,%%ecx\n \
    imull   %%edi,%%ebx\n \
    subl    %%ecx,%%ebx\n \
    jz  gpo_loc_0A66\n \
    xorl    %%edx,%%edx\n \
    movl    $0x7FFFFFFF,%%eax\n \
    idivl   %%ebx\n \
    movl    %%eax,%%ebp\n \
    movl    _gploc_pt_ay,%%eax\n \
    movl    _gploc_pt_cy,%%esi\n \
    subl    %%eax,%%esi\n \
    movl    _gploc_pt_by,%%edi\n \
    subl    %%eax,%%edi\n \
    movl    %%ebp,%%eax\n \
    movl    _gploc_170,%%edx\n \
    movl    _gploc_140,%%ebx\n \
    subl    %%edx,%%ebx\n \
    movl    _gploc_158,%%ecx\n \
    subl    %%edx,%%ecx\n \
    imull   %%esi,%%ecx\n \
    imull   %%edi,%%ebx\n \
    subl    %%ecx,%%ebx\n \
    imull   %%ebx\n \
    shll    $1,%%eax\n \
    rcll    $1,%%edx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_09FD\n \
    incl    %%eax\n \
\n \
gpo_loc_09FD:         # 80A\n \
    movl    %%eax,_gploc_A8\n \
    movl    %%ebp,%%eax\n \
    movl    _gploc_16C,%%edx\n \
    movl    _gploc_13C,%%ebx\n \
    subl    %%edx,%%ebx\n \
    movl    _gploc_154,%%ecx\n \
    subl    %%edx,%%ecx\n \
    imull   %%esi,%%ecx\n \
    imull   %%edi,%%ebx\n \
    subl    %%ecx,%%ebx\n \
    imull   %%ebx\n \
    shll    $1,%%eax\n \
    rcll    $1,%%edx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_0A2D\n \
    incl    %%eax\n \
\n \
gpo_loc_0A2D:         # 83A\n \
    movl    %%eax,_gploc_B0\n \
    movl    %%ebp,%%eax\n \
    movl    _gploc_168,%%edx\n \
    movl    _gploc_138,%%ebx\n \
    subl    %%edx,%%ebx\n \
    movl    _gploc_150,%%ecx\n \
    subl    %%edx,%%ecx\n \
    imull   %%esi,%%ecx\n \
    imull   %%edi,%%ebx\n \
    subl    %%ecx,%%ebx\n \
    imull   %%ebx\n \
    shll    $1,%%eax\n \
    rcll    $1,%%edx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_0A5D\n \
    incl    %%eax\n \
\n \
gpo_loc_0A5D:         # 86A\n \
    movl    %%eax,_gploc_AC\n \
    jmp gpo_loc_0A7D\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_0A66:         # 7C3\n \
    xorl    %%eax,%%eax\n \
    movl    %%eax,_gploc_A8\n \
    movl    %%eax,_gploc_B0\n \
    movl    %%eax,_gploc_AC\n \
\n \
gpo_loc_0A7D:         # 87\n \
    popa    \n \
" : : : "memory", "cc");
#endif
}

void draw_gpoly_sub2b()
{
#if __GNUC__
    asm volatile (" \
    pusha   \n \
    movl    _factor_chk,%%esi\n \
    orl %%esi,%%esi\n \
    js  gpo_loc_0BFC\n \
    movl    _gploc_pt_by,%%ecx\n \
    subl    _gploc_pt_ay,%%ecx\n \
    cmpl    $0x0FF,%%ecx\n \
    jg  gpo_loc_0AA2\n \
    movl    _gpoly_reptable(,%%ecx,4),%%ebx\n \
    jmp gpo_loc_0AB0\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_0AA2:         # 8A7\n \
    movl    $0,%%edx\n \
    movl    $0x7FFFFFFF,%%eax\n \
    idivl   %%ecx\n \
    movl    %%eax,%%ebx\n \
\n \
gpo_loc_0AB0:         # 8B0\n \
    movl    _gploc_158,%%eax\n \
    subl    _gploc_170,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_0AC5\n \
    incl    %%eax\n \
\n \
gpo_loc_0AC5:         # 8D2\n \
    movl    %%eax,_gploc_point_c\n \
    movl    _gploc_154,%%eax\n \
    subl    _gploc_16C,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_0ADE\n \
    incl    %%eax\n \
\n \
gpo_loc_0ADE:         # 8EB\n \
    movl    %%eax,_gploc_194\n \
    movl    _gploc_150,%%eax\n \
    subl    _gploc_168,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_0AF7\n \
    incl    %%eax\n \
\n \
gpo_loc_0AF7:         # 90\n \
    movl    %%eax,_gploc_188\n \
    movl    _gploc_pt_cy,%%ecx\n \
    subl    _gploc_pt_by,%%ecx\n \
    cmpl    $0x0FF,%%ecx\n \
    jg  gpo_loc_0B14\n \
    movl    _gpoly_reptable(,%%ecx,4),%%ebx\n \
    jmp gpo_loc_0B22\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_0B14:         # 91\n \
    movl    $0,%%edx\n \
    movl    $0x7FFFFFFF,%%eax\n \
    idivl   %%ecx\n \
    movl    %%eax,%%ebx\n \
\n \
gpo_loc_0B22:         # 922\n \
    movl    _gploc_140,%%eax\n \
    subl    _gploc_158,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_0B37\n \
    incl    %%eax\n \
\n \
gpo_loc_0B37:         # 94\n \
    movl    %%eax,_gploc_1A0\n \
    movl    _gploc_13C,%%eax\n \
    subl    _gploc_154,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_0B50\n \
    incl    %%eax\n \
\n \
gpo_loc_0B50:         # 95D\n \
    movl    %%eax,_gploc_198\n \
    movl    _gploc_138,%%eax\n \
    subl    _gploc_150,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_0B69\n \
    incl    %%eax\n \
\n \
gpo_loc_0B69:         # 976\n \
    movl    %%eax,_gploc_18C\n \
    movl    _gploc_point_a,%%eax\n \
    movl    _gploc_B0,%%ebx\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    subl    %%eax,_gploc_194\n \
    movl    _gploc_point_a,%%eax\n \
    movl    _gploc_AC,%%ebx\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    subl    %%eax,_gploc_188\n \
    movl    _gploc_point_a,%%eax\n \
    movl    _gploc_A8,%%ebx\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    subl    %%eax,_gploc_point_c\n \
    movl    _gploc_point_b,%%eax\n \
    movl    _gploc_B0,%%ebx\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    subl    %%eax,_gploc_198\n \
    movl    _gploc_point_b,%%eax\n \
    movl    _gploc_AC,%%ebx\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    subl    %%eax,_gploc_18C\n \
    movl    _gploc_point_b,%%eax\n \
    movl    _gploc_A8,%%ebx\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    subl    %%eax,_gploc_1A0\n \
    jmp gpo_loc_0CB0\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_0BFC:         # 893\n \
    movl    _gploc_pt_cy,%%ecx\n \
    subl    _gploc_pt_ay,%%ecx\n \
    cmpl    $0x0FF,%%ecx\n \
    jg  gpo_loc_0C15\n \
    movl    _gpoly_reptable(,%%ecx,4),%%ebx\n \
    jmp gpo_loc_0C23\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_0C15:         # A1A\n \
    movl    $0,%%edx\n \
    movl    $0x7FFFFFFF,%%eax\n \
    idivl   %%ecx\n \
    movl    %%eax,%%ebx\n \
\n \
gpo_loc_0C23:         # A23\n \
    movl    _gploc_140,%%eax\n \
    subl    _gploc_170,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_0C38\n \
    incl    %%eax\n \
\n \
gpo_loc_0C38:         # A45\n \
    movl    %%eax,_gploc_point_c\n \
    movl    _gploc_13C,%%eax\n \
    subl    _gploc_16C,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_0C51\n \
    incl    %%eax\n \
\n \
gpo_loc_0C51:         # A5E\n \
    movl    %%eax,_gploc_194\n \
    movl    _gploc_138,%%eax\n \
    subl    _gploc_168,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_0C6A\n \
    incl    %%eax\n \
\n \
gpo_loc_0C6A:         # A77\n \
    movl    %%eax,_gploc_188\n \
    movl    _factor_ca,%%eax\n \
    movl    _gploc_B0,%%ebx\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    subl    %%eax,_gploc_194\n \
    movl    _factor_ca,%%eax\n \
    movl    _gploc_AC,%%ebx\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    subl    %%eax,_gploc_188\n \
    movl    _factor_ca,%%eax\n \
    movl    _gploc_A8,%%ebx\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    subl    %%eax,_gploc_point_c\n \
\n \
gpo_loc_0CB0:         # A07\n \
    popa    \n \
" : : : "memory", "cc");
#endif
}

void draw_gpoly_sub2c()
{
    gploc_58 = (gploc_170 << 16) + gploc_A8;
    gploc_54 = (gploc_16C << 16) + gploc_B0;
    gploc_50 = (gploc_168 << 16) + gploc_AC;
    gploc_4C = (gploc_158 << 16) + gploc_A8;
    gploc_48 = (gploc_154 << 16) + gploc_B0;
    gploc_44 = (gploc_150 << 16) + gploc_AC;

    unk_update_gpoly1_tri16a(&gploc_B8, &gploc_BC, gploc_word03, gploc_B0, 65536);
    unk_update_gpoly1_tri8a(&gploc_B4, &gploc_B8, gploc_B8, gploc_AC, 256);
    unk_update_gpoly1_tri16a(&gploc_2C, &gploc_5C, gploc_word03, gploc_B0, 65535);
    unk_update_gpoly1_tri8a(&gploc_28, &gploc_2C, gploc_2C, gploc_AC, 256);
    unk_update_gpoly1_tri16a(&gploc_A0, &gploc_A4, gploc_word01, gploc_194, 65536);
    unk_update_gpoly1_tri8a(&gploc_9C, &gploc_A0, gploc_A0, gploc_188, 256);
    unk_update_gpoly1_tri16b(&gploc_84, &gploc_88, &gploc_8C, gploc_50, gploc_54, gploc_58);

    if ( factor_chk >= 0 )
    {
        unk_update_gpoly1_tri16a(&gploc_94, &gploc_98, gploc_word02, gploc_198, 65536);
        unk_update_gpoly1_tri8a(&gploc_90, &gploc_94, gploc_94, gploc_18C, 256);
        unk_update_gpoly1_tri16b(&gploc_78, &gploc_7C, &gploc_80, gploc_44, gploc_48, gploc_4C);
    }

}

void draw_gpoly_sub3a()
{
#if __GNUC__
    asm volatile (" \
    pusha   \n \
    movl    _gploc_pt_bx,%%esi\n \
    movl    _factor_chk,%%edi\n \
    orl %%edi,%%edi\n \
    subl    $0,%%esi\n \
    addl    $0,%%esi\n \
    movl    _gploc_pt_ax,%%eax\n \
    subl    %%eax,%%esi\n \
    movl    _gploc_pt_cx,%%edi\n \
    subl    %%eax,%%edi\n \
    movl    _gploc_pt_ay,%%eax\n \
    movl    _gploc_pt_by,%%ebx\n \
    subl    %%eax,%%ebx\n \
    movl    _gploc_pt_cy,%%ecx\n \
    subl    %%eax,%%ecx\n \
    movl    %%ecx,%%eax\n \
    imull   %%esi,%%ecx\n \
    movl    _factor_chk,%%ebp\n \
    orl %%ebp,%%ebp\n \
    js  gpo_loc_0FAC\n \
    subl    %%eax,%%ecx\n \
    subl    %%eax,%%ecx\n \
\n \
gpo_loc_0FAC:         # DB6\n \
    addl    %%eax,%%ecx\n \
    imull   %%edi,%%ebx\n \
    subl    %%ecx,%%ebx\n \
    jz  gpo_loc_1002\n \
    xorl    %%edx,%%edx\n \
    movl    $0x7FFFFFFF,%%eax\n \
    idivl   %%ebx\n \
    movl    %%eax,%%ebp\n \
    movl    _gploc_pt_ay,%%eax\n \
    movl    _gploc_pt_cy,%%esi\n \
    subl    %%eax,%%esi\n \
    movl    _gploc_pt_by,%%edi\n \
    subl    %%eax,%%edi\n \
    movl    %%ebp,%%eax\n \
    movl    _gploc_170,%%edx\n \
    movl    _gploc_140,%%ebx\n \
    subl    %%edx,%%ebx\n \
    movl    _gploc_158,%%ecx\n \
    subl    %%edx,%%ecx\n \
    imull   %%esi,%%ecx\n \
    imull   %%edi,%%ebx\n \
    subl    %%ecx,%%ebx\n \
    imull   %%ebx\n \
    shll    $1,%%eax\n \
    rcll    $1,%%edx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_0FF9\n \
    incl    %%eax\n \
\n \
gpo_loc_0FF9:         # E06\n \
    movl    %%eax,_gploc_A8\n \
    jmp gpo_loc_100B\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_1002:         # DC3\n \
    xorl    %%eax,%%eax\n \
    movl    %%eax,_gploc_A8\n \
\n \
gpo_loc_100B:         # E10\n \
    popa    \n \
" : : : "memory", "cc");
#endif
}

void draw_gpoly_sub3b()
{
#if __GNUC__
    asm volatile (" \
    pusha   \n \
    movl    _factor_chk,%%esi\n \
    orl %%esi,%%esi\n \
    js  gpo_loc_1099\n \
    movl    _gploc_pt_by,%%ecx\n \
    subl    _gploc_pt_ay,%%ecx\n \
    cmpl    $0x0FF,%%ecx\n \
    jg  gpo_loc_1030\n \
    movl    _gpoly_reptable(,%%ecx,4),%%ebx\n \
    jmp gpo_loc_103E\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_1030:         # E35\n \
    movl    $0,%%edx\n \
    movl    $0x7FFFFFFF,%%eax\n \
    idivl   %%ecx\n \
    movl    %%eax,%%ebx\n \
\n \
gpo_loc_103E:         # E3E\n \
    movl    _gploc_158,%%eax\n \
    subl    _gploc_170,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_1053\n \
    incl    %%eax\n \
\n \
gpo_loc_1053:         # E60\n \
    movl    %%eax,_gploc_point_c\n \
    movl    _gploc_pt_cy,%%ecx\n \
    subl    _gploc_pt_by,%%ecx\n \
    cmpl    $0x0FF,%%ecx\n \
    jg  gpo_loc_1070\n \
    movl    _gpoly_reptable(,%%ecx,4),%%ebx\n \
    jmp gpo_loc_107E\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_1070:         # E75\n \
    movl    $0,%%edx\n \
    movl    $0x7FFFFFFF,%%eax\n \
    idivl   %%ecx\n \
    movl    %%eax,%%ebx\n \
\n \
gpo_loc_107E:         # E7E\n \
    movl    _gploc_140,%%eax\n \
    subl    _gploc_158,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_1093\n \
    incl    %%eax\n \
\n \
gpo_loc_1093:         # EA0\n \
    movl    %%eax,_gploc_1A0\n \
    jmp gpo_loc_10D9\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_1099:         # E2\n \
    movl    _gploc_pt_cy,%%ecx\n \
    subl    _gploc_pt_ay,%%ecx\n \
    cmpl    $0x0FF,%%ecx\n \
    jg  gpo_loc_10B2\n \
    movl    _gpoly_reptable(,%%ecx,4),%%ebx\n \
    jmp gpo_loc_10C0\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_10B2:         # EB7\n \
    movl    $0,%%edx\n \
    movl    $0x7FFFFFFF,%%eax\n \
    idivl   %%ecx\n \
    movl    %%eax,%%ebx\n \
\n \
gpo_loc_10C0:         # EC0\n \
    movl    _gploc_140,%%eax\n \
    subl    _gploc_170,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_10D5\n \
    incl    %%eax\n \
\n \
gpo_loc_10D5:         # EE2\n \
    movl    %%eax,_gploc_point_c\n \
\n \
gpo_loc_10D9:         # EA7\n \
    movl    _gploc_170,%%eax\n \
    shll    $0x10,%%eax\n \
    movl    %%eax,_gploc_58\n \
    movl    _gploc_158,%%eax\n \
    shll    $0x10,%%eax\n \
    movl    %%eax,_gploc_4C\n \
    popa    \n \
" : : : "memory", "cc");
#endif
}

void draw_gpoly_sub4()
{
#if __GNUC__
    asm volatile (" \
    pusha   \n \
    movl    _gploc_pt_bx,%%esi\n \
    movl    _factor_chk,%%edi\n \
    orl %%edi,%%edi\n \
    subl    $0,%%esi\n \
    addl    $0,%%esi\n \
    movl    _gploc_pt_ax,%%eax\n \
    subl    %%eax,%%esi\n \
    movl    _gploc_pt_cx,%%edi\n \
    subl    %%eax,%%edi\n \
    movl    _gploc_pt_ay,%%eax\n \
    movl    _gploc_pt_by,%%ebx\n \
    subl    %%eax,%%ebx\n \
    movl    _gploc_pt_cy,%%ecx\n \
    subl    %%eax,%%ecx\n \
    movl    %%ecx,%%eax\n \
    imull   %%esi,%%ecx\n \
    movl    _factor_chk,%%ebp\n \
    orl %%ebp,%%ebp\n \
    js  gpo_loc_1137\n \
    subl    %%eax,%%ecx\n \
    subl    %%eax,%%ecx\n \
\n \
gpo_loc_1137:         # F4\n \
    addl    %%eax,%%ecx\n \
    imull   %%edi,%%ebx\n \
    subl    %%ecx,%%ebx\n \
    jz  gpo_loc_11BD\n \
    xorl    %%edx,%%edx\n \
    movl    $0x7FFFFFFF,%%eax\n \
    idivl   %%ebx\n \
    movl    %%eax,%%ebp\n \
    movl    _gploc_pt_ay,%%eax\n \
    movl    _gploc_pt_cy,%%esi\n \
    subl    %%eax,%%esi\n \
    movl    _gploc_pt_by,%%edi\n \
    subl    %%eax,%%edi\n \
    movl    %%ebp,%%eax\n \
    movl    _gploc_16C,%%edx\n \
    movl    _gploc_13C,%%ebx\n \
    subl    %%edx,%%ebx\n \
    movl    _gploc_154,%%ecx\n \
    subl    %%edx,%%ecx\n \
    imull   %%esi,%%ecx\n \
    imull   %%edi,%%ebx\n \
    subl    %%ecx,%%ebx\n \
    imull   %%ebx\n \
    shll    $1,%%eax\n \
    rcll    $1,%%edx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_1184\n \
    incl    %%eax\n \
\n \
gpo_loc_1184:         # F9\n \
    movl    %%eax,_gploc_B0\n \
    movl    %%ebp,%%eax\n \
    movl    _gploc_168,%%edx\n \
    movl    _gploc_138,%%ebx\n \
    subl    %%edx,%%ebx\n \
    movl    _gploc_150,%%ecx\n \
    subl    %%edx,%%ecx\n \
    imull   %%esi,%%ecx\n \
    imull   %%edi,%%ebx\n \
    subl    %%ecx,%%ebx\n \
    imull   %%ebx\n \
    shll    $1,%%eax\n \
    rcll    $1,%%edx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_11B4\n \
    incl    %%eax\n \
\n \
gpo_loc_11B4:         # FC\n \
    movl    %%eax,_gploc_AC\n \
    jmp gpo_loc_11CD\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_11BD:         # F4E\n \
    xorl    %%eax,%%eax\n \
    movl    %%eax,_gploc_B0\n \
    movl    %%eax,_gploc_AC\n \
\n \
gpo_loc_11CD:         # FCB\n \
    popa    \n \
" : : : "memory", "cc");
#endif

#if __GNUC__
    asm volatile (" \
    pusha   \n \
    movl    _factor_chk,%%esi\n \
    orl %%esi,%%esi\n \
    js  gpo_loc_128D\n \
    movl    _gploc_pt_by,%%ecx\n \
    subl    _gploc_pt_ay,%%ecx\n \
    cmpl    $0x0FF,%%ecx\n \
    jg  gpo_loc_11F2\n \
    movl    _gpoly_reptable(,%%ecx,4),%%ebx\n \
    jmp gpo_loc_1200\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_11F2:         # FF7\n \
    movl    $0,%%edx\n \
    movl    $0x7FFFFFFF,%%eax\n \
    idivl   %%ecx\n \
    movl    %%eax,%%ebx\n \
\n \
gpo_loc_1200:         # 1000\n \
    movl    _gploc_154,%%eax\n \
    subl    _gploc_16C,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_1215\n \
    incl    %%eax\n \
\n \
gpo_loc_1215:         # 1022\n \
    movl    %%eax,_gploc_194\n \
    movl    _gploc_150,%%eax\n \
    subl    _gploc_168,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_122E\n \
    incl    %%eax\n \
\n \
gpo_loc_122E:         # 103B\n \
    movl    %%eax,_gploc_188\n \
    movl    _gploc_pt_cy,%%ecx\n \
    subl    _gploc_pt_by,%%ecx\n \
    cmpl    $0x0FF,%%ecx\n \
    jg  gpo_loc_124B\n \
    movl    _gpoly_reptable(,%%ecx,4),%%ebx\n \
    jmp gpo_loc_1259\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_124B:         # 1050\n \
    movl    $0,%%edx\n \
    movl    $0x7FFFFFFF,%%eax\n \
    idivl   %%ecx\n \
    movl    %%eax,%%ebx\n \
\n \
gpo_loc_1259:         # 105\n \
    movl    _gploc_13C,%%eax\n \
    subl    _gploc_154,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_126E\n \
    incl    %%eax\n \
\n \
gpo_loc_126E:         # 107B\n \
    movl    %%eax,_gploc_198\n \
    movl    _gploc_138,%%eax\n \
    subl    _gploc_150,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_1287\n \
    incl    %%eax\n \
\n \
gpo_loc_1287:         # 109\n \
    movl    %%eax,_gploc_18C\n \
    jmp gpo_loc_12E6\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_128D:         # FE3\n \
    movl    _gploc_pt_cy,%%ecx\n \
    subl    _gploc_pt_ay,%%ecx\n \
    cmpl    $0x0FF,%%ecx\n \
    jg  gpo_loc_12A6\n \
    movl    _gpoly_reptable(,%%ecx,4),%%ebx\n \
    jmp gpo_loc_12B4\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_12A6:         # 10AB\n \
    movl    $0,%%edx\n \
    movl    $0x7FFFFFFF,%%eax\n \
    idivl   %%ecx\n \
    movl    %%eax,%%ebx\n \
\n \
gpo_loc_12B4:         # 10B\n \
    movl    _gploc_13C,%%eax\n \
    subl    _gploc_16C,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_12C9\n \
    incl    %%eax\n \
\n \
gpo_loc_12C9:         # 10D6\n \
    movl    %%eax,_gploc_194\n \
    movl    _gploc_138,%%eax\n \
    subl    _gploc_168,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_12E2\n \
    incl    %%eax\n \
\n \
gpo_loc_12E2:         # 10E\n \
    movl    %%eax,_gploc_188\n \
\n \
gpo_loc_12E6:         # 109B\n \
    movl    _gploc_16C,%%eax\n \
    shll    $0x10,%%eax\n \
    movl    %%eax,_gploc_54\n \
    movl    _gploc_168,%%eax\n \
    shll    $0x10,%%eax\n \
    movl    %%eax,_gploc_50\n \
    movl    _gploc_154,%%eax\n \
    shll    $0x10,%%eax\n \
    movl    %%eax,_gploc_48\n \
    movl    _gploc_150,%%eax\n \
    shll    $0x10,%%eax\n \
    movl    %%eax,_gploc_44\n \
    movl    _gploc_B0,%%eax\n \
    movl    %%eax,%%edx\n \
    shll    $0x10,%%eax\n \
    sarl    $0x10,%%edx\n \
    movl    %%eax,_gploc_BC\n \
    movl    %%edx,_gploc_B8\n \
    movl    _gploc_AC,%%eax\n \
    shll    $0x10,%%eax\n \
    movl    _gploc_AC,%%edx\n \
    sarl    $0x10,%%edx\n \
    movb    _gploc_B8,%%al\n \
    orb %%al,%%al\n \
    jns gpo_loc_1362\n \
    subl    $0x100,%%eax\n \
    sbbb    $0,%%dl\n \
\n \
gpo_loc_1362:         # 1168\n \
    movl    %%eax,_gploc_B8\n \
    movl    %%edx,_gploc_B4\n \
    movl    _gploc_194,%%eax\n \
    movl    %%eax,%%edx\n \
    shll    $0x10,%%eax\n \
    sarl    $0x10,%%edx\n \
    movl    %%eax,_gploc_A4\n \
    movl    %%edx,_gploc_A0\n \
    movl    _gploc_188,%%eax\n \
    shll    $0x10,%%eax\n \
    movl    _gploc_188,%%edx\n \
    sarl    $0x10,%%edx\n \
    movb    _gploc_A0,%%al\n \
    orb %%al,%%al\n \
    jns gpo_loc_13AB\n \
    subl    $0x100,%%eax\n \
    sbbb    $0,%%dl\n \
\n \
gpo_loc_13AB:         # 11B\n \
    movl    %%eax,_gploc_A0\n \
    movl    %%edx,_gploc_9C\n \
    movl    _gploc_54,%%ecx\n \
    movl    _gploc_50,%%edx\n \
    movl    %%ecx,%%eax\n \
    shll    $0x10,%%ecx\n \
    shrl    $0x10,%%eax\n \
    movl    %%ecx,_gploc_8C\n \
    movl    %%edx,%%ecx\n \
    shll    $0x10,%%ecx\n \
    shll    $8,%%edx\n \
    shrl    $0x18,%%edx\n \
    shll    $8,%%edx\n \
    movb    %%al,%%cl\n \
    movl    %%ecx,_gploc_88\n \
    movl    %%edx,_gploc_84\n \
    movl    _factor_chk,%%esi\n \
    orl %%esi,%%esi\n \
    js  gpo_loc_1484\n \
    movl    _gploc_198,%%eax\n \
    movl    %%eax,%%edx\n \
    shll    $0x10,%%eax\n \
    sarl    $0x10,%%edx\n \
    movl    %%eax,_gploc_98\n \
    movl    %%edx,_gploc_94\n \
    movl    _gploc_18C,%%eax\n \
    shll    $0x10,%%eax\n \
    movl    _gploc_18C,%%edx\n \
    sarl    $0x10,%%edx\n \
    movb    _gploc_94,%%al\n \
    orb %%al,%%al\n \
    jns gpo_loc_143B\n \
    subl    $0x100,%%eax\n \
    sbbb    $0,%%dl\n \
\n \
gpo_loc_143B:         # 124\n \
    movl    %%eax,_gploc_94\n \
    movl    %%edx,_gploc_90\n \
    movl    _gploc_48,%%ecx\n \
    movl    _gploc_44,%%edx\n \
    movl    %%ecx,%%eax\n \
    shll    $0x10,%%ecx\n \
    shrl    $0x10,%%eax\n \
    movl    %%ecx,_gploc_80\n \
    movl    %%edx,%%ecx\n \
    shll    $0x10,%%ecx\n \
    shll    $8,%%edx\n \
    shrl    $0x18,%%edx\n \
    shll    $8,%%edx\n \
    movb    %%al,%%cl\n \
    movl    %%ecx,_gploc_7C\n \
    movl    %%edx,_gploc_78\n \
\n \
gpo_loc_1484:         # 120A\n \
    popa    \n \
" : : : "memory", "cc");
#endif
}

void draw_gpoly_sub5()
{
#if __GNUC__
    asm volatile (" \
    pusha   \n \
    movl    _gploc_pt_bx,%%esi\n \
    movl    _factor_chk,%%edi\n \
    orl %%edi,%%edi\n \
    subl    $0,%%esi\n \
    addl    $0,%%esi\n \
    movl    _gploc_pt_ax,%%eax\n \
    subl    %%eax,%%esi\n \
    movl    _gploc_pt_cx,%%edi\n \
    subl    %%eax,%%edi\n \
    movl    _gploc_pt_ay,%%eax\n \
    movl    _gploc_pt_by,%%ebx\n \
    subl    %%eax,%%ebx\n \
    movl    _gploc_pt_cy,%%ecx\n \
    subl    %%eax,%%ecx\n \
    movl    %%ecx,%%eax\n \
    imull   %%esi,%%ecx\n \
    movl    _factor_chk,%%ebp\n \
    orl %%ebp,%%ebp\n \
    js  gpo_loc_14C6\n \
    subl    %%eax,%%ecx\n \
    subl    %%eax,%%ecx\n \
\n \
gpo_loc_14C6:         # 12D0\n \
    addl    %%eax,%%ecx\n \
    imull   %%edi,%%ebx\n \
    subl    %%ecx,%%ebx\n \
    jz  gpo_loc_154C\n \
    xorl    %%edx,%%edx\n \
    movl    $0x7FFFFFFF,%%eax\n \
    idivl   %%ebx\n \
    movl    %%eax,%%ebp\n \
    movl    _gploc_pt_ay,%%eax\n \
    movl    _gploc_pt_cy,%%esi\n \
    subl    %%eax,%%esi\n \
    movl    _gploc_pt_by,%%edi\n \
    subl    %%eax,%%edi\n \
    movl    %%ebp,%%eax\n \
    movl    _gploc_16C,%%edx\n \
    movl    _gploc_13C,%%ebx\n \
    subl    %%edx,%%ebx\n \
    movl    _gploc_154,%%ecx\n \
    subl    %%edx,%%ecx\n \
    imull   %%esi,%%ecx\n \
    imull   %%edi,%%ebx\n \
    subl    %%ecx,%%ebx\n \
    imull   %%ebx\n \
    shll    $1,%%eax\n \
    rcll    $1,%%edx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_1513\n \
    incl    %%eax\n \
\n \
gpo_loc_1513:         # 1320\n \
    movl    %%eax,_gploc_B0\n \
    movl    %%ebp,%%eax\n \
    movl    _gploc_168,%%edx\n \
    movl    _gploc_138,%%ebx\n \
    subl    %%edx,%%ebx\n \
    movl    _gploc_150,%%ecx\n \
    subl    %%edx,%%ecx\n \
    imull   %%esi,%%ecx\n \
    imull   %%edi,%%ebx\n \
    subl    %%ecx,%%ebx\n \
    imull   %%ebx\n \
    shll    $1,%%eax\n \
    rcll    $1,%%edx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_1543\n \
    incl    %%eax\n \
\n \
gpo_loc_1543:         # 1350\n \
    movl    %%eax,_gploc_AC\n \
    jmp gpo_loc_155C\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_154C:         # 12DD\n \
    xorl    %%eax,%%eax\n \
    movl    %%eax,_gploc_B0\n \
    movl    %%eax,_gploc_AC\n \
\n \
gpo_loc_155C:         # 135A\n \
    popa    \n \
" : : : "memory", "cc");
#endif

#if __GNUC__
    asm volatile (" \
    pusha   \n \
    movl    _factor_chk,%%esi\n \
    orl %%esi,%%esi\n \
    js  gpo_loc_161C\n \
    movl    _gploc_pt_by,%%ecx\n \
    subl    _gploc_pt_ay,%%ecx\n \
    cmpl    $0x0FF,%%ecx\n \
    jg  gpo_loc_1581\n \
    movl    _gpoly_reptable(,%%ecx,4),%%ebx\n \
    jmp gpo_loc_158F\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_1581:         # 1386\n \
    movl    $0,%%edx\n \
    movl    $0x7FFFFFFF,%%eax\n \
    idivl   %%ecx\n \
    movl    %%eax,%%ebx\n \
\n \
gpo_loc_158F:         # 138\n \
    movl    _gploc_154,%%eax\n \
    subl    _gploc_16C,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_15A4\n \
    incl    %%eax\n \
\n \
gpo_loc_15A4:         # 13B\n \
    movl    %%eax,_gploc_194\n \
    movl    _gploc_150,%%eax\n \
    subl    _gploc_168,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_15BD\n \
    incl    %%eax\n \
\n \
gpo_loc_15BD:         # 13CA\n \
    movl    %%eax,_gploc_188\n \
    movl    _gploc_pt_cy,%%ecx\n \
    subl    _gploc_pt_by,%%ecx\n \
    cmpl    $0x0FF,%%ecx\n \
    jg  gpo_loc_15DA\n \
    movl    _gpoly_reptable(,%%ecx,4),%%ebx\n \
    jmp gpo_loc_15E8\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_15DA:         # 13D\n \
    movl    $0,%%edx\n \
    movl    $0x7FFFFFFF,%%eax\n \
    idivl   %%ecx\n \
    movl    %%eax,%%ebx\n \
\n \
gpo_loc_15E8:         # 13E8\n \
    movl    _gploc_13C,%%eax\n \
    subl    _gploc_154,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_15FD\n \
    incl    %%eax\n \
\n \
gpo_loc_15FD:         # 140A\n \
    movl    %%eax,_gploc_198\n \
    movl    _gploc_138,%%eax\n \
    subl    _gploc_150,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_1616\n \
    incl    %%eax\n \
\n \
gpo_loc_1616:         # 1423\n \
    movl    %%eax,_gploc_18C\n \
    jmp gpo_loc_1675\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_161C:         # 1372\n \
    movl    _gploc_pt_cy,%%ecx\n \
    subl    _gploc_pt_ay,%%ecx\n \
    cmpl    $0x0FF,%%ecx\n \
    jg  gpo_loc_1635\n \
    movl    _gpoly_reptable(,%%ecx,4),%%ebx\n \
    jmp gpo_loc_1643\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_1635:         # 143A\n \
    movl    $0,%%edx\n \
    movl    $0x7FFFFFFF,%%eax\n \
    idivl   %%ecx\n \
    movl    %%eax,%%ebx\n \
\n \
gpo_loc_1643:         # 1443\n \
    movl    _gploc_13C,%%eax\n \
    subl    _gploc_16C,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_1658\n \
    incl    %%eax\n \
\n \
gpo_loc_1658:         # 1465\n \
    movl    %%eax,_gploc_194\n \
    movl    _gploc_138,%%eax\n \
    subl    _gploc_168,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_1671\n \
    incl    %%eax\n \
\n \
gpo_loc_1671:         # 147E\n \
    movl    %%eax,_gploc_188\n \
\n \
gpo_loc_1675:         # 142A\n \
    movl    _gploc_16C,%%eax\n \
    shll    $0x10,%%eax\n \
    movl    %%eax,_gploc_54\n \
    movl    _gploc_168,%%eax\n \
    shll    $0x10,%%eax\n \
    movl    %%eax,_gploc_50\n \
    movl    _gploc_154,%%eax\n \
    shll    $0x10,%%eax\n \
    movl    %%eax,_gploc_48\n \
    movl    _gploc_150,%%eax\n \
    shll    $0x10,%%eax\n \
    movl    %%eax,_gploc_44\n \
    movl    _gploc_AC,%%eax\n \
    movl    %%eax,%%edx\n \
    shll    $0x10,%%eax\n \
    movl    %%eax,_gploc_BC\n \
    movl    _gploc_B0,%%eax\n \
    orl %%edx,%%edx\n \
    jns gpo_loc_16CC\n \
    decl    %%eax\n \
\n \
gpo_loc_16CC:         # 14D\n \
    shll    $8,%%eax\n \
    shrl    $0x10,%%edx\n \
    andl    $0x0FF,%%edx\n \
    orl %%eax,%%edx\n \
    movl    %%edx,_gploc_B8\n \
    movl    _gploc_188,%%eax\n \
    movl    %%eax,%%edx\n \
    shll    $0x10,%%eax\n \
    movl    %%eax,_gploc_A4\n \
    movl    _gploc_194,%%eax\n \
    orl %%edx,%%edx\n \
    jns gpo_loc_16FA\n \
    decl    %%eax\n \
\n \
gpo_loc_16FA:         # 1507\n \
    shll    $8,%%eax\n \
    shrl    $0x10,%%edx\n \
    andl    $0x0FF,%%edx\n \
    orl %%eax,%%edx\n \
    movl    %%edx,_gploc_A0\n \
    movl    _gploc_50,%%eax\n \
    movl    %%eax,%%edx\n \
    shll    $0x10,%%eax\n \
    movl    %%eax,_gploc_8C\n \
    movl    _gploc_54,%%eax\n \
    shll    $8,%%eax\n \
    shrl    $0x10,%%edx\n \
    andl    $0x0FF,%%edx\n \
    orl %%eax,%%edx\n \
    movl    %%edx,_gploc_88\n \
    movl    _factor_chk,%%esi\n \
    orl %%esi,%%esi\n \
    js  gpo_loc_17A3\n \
    movl    _gploc_18C,%%eax\n \
    movl    %%eax,%%edx\n \
    shll    $0x10,%%eax\n \
    movl    %%eax,_gploc_98\n \
    movl    _gploc_198,%%eax\n \
    orl %%edx,%%edx\n \
    jns gpo_loc_175F\n \
    decl    %%eax\n \
\n \
gpo_loc_175F:         # 156C\n \
    shll    $8,%%eax\n \
    shrl    $0x10,%%edx\n \
    andl    $0x0FF,%%edx\n \
    orl %%eax,%%edx\n \
    movl    %%edx,_gploc_94\n \
    movl    _gploc_44,%%eax\n \
    movl    %%eax,%%edx\n \
    shll    $0x10,%%eax\n \
    movl    %%eax,_gploc_80\n \
    movl    _gploc_48,%%eax\n \
    shll    $8,%%eax\n \
    shrl    $0x10,%%edx\n \
    andl    $0x0FF,%%edx\n \
    orl %%eax,%%edx\n \
    movl    %%edx,_gploc_7C\n \
\n \
gpo_loc_17A3:         # 155\n \
    popa    \n \
" : : : "memory", "cc");
#endif
}

void draw_gpoly_sub6()
{
#if __GNUC__
    asm volatile (" \
    pusha   \n \
    movl    _gploc_pt_bx,%%esi\n \
    movl    _factor_chk,%%edi\n \
    orl %%edi,%%edi\n \
    subl    $0,%%esi\n \
    addl    $0,%%esi\n \
    movl    _gploc_pt_ax,%%eax\n \
    subl    %%eax,%%esi\n \
    movl    _gploc_pt_cx,%%edi\n \
    subl    %%eax,%%edi\n \
    movl    _gploc_pt_ay,%%eax\n \
    movl    _gploc_pt_by,%%ebx\n \
    subl    %%eax,%%ebx\n \
    movl    _gploc_pt_cy,%%ecx\n \
    subl    %%eax,%%ecx\n \
    movl    %%ecx,%%eax\n \
    imull   %%esi,%%ecx\n \
    movl    _factor_chk,%%ebp\n \
    orl %%ebp,%%ebp\n \
    js  gpo_loc_17E5\n \
    subl    %%eax,%%ecx\n \
    subl    %%eax,%%ecx\n \
\n \
gpo_loc_17E5:         # 15E\n \
    addl    %%eax,%%ecx\n \
    imull   %%edi,%%ebx\n \
    subl    %%ecx,%%ebx\n \
    jz  gpo_loc_189F\n \
    xorl    %%edx,%%edx\n \
    movl    $0x7FFFFFFF,%%eax\n \
    idivl   %%ebx\n \
    movl    %%eax,%%ebp\n \
    movl    _gploc_pt_ay,%%eax\n \
    movl    _gploc_pt_cy,%%esi\n \
    subl    %%eax,%%esi\n \
    movl    _gploc_pt_by,%%edi\n \
    subl    %%eax,%%edi\n \
    movl    %%ebp,%%eax\n \
    movl    _gploc_170,%%edx\n \
    movl    _gploc_140,%%ebx\n \
    subl    %%edx,%%ebx\n \
    movl    _gploc_158,%%ecx\n \
    subl    %%edx,%%ecx\n \
    imull   %%esi,%%ecx\n \
    imull   %%edi,%%ebx\n \
    subl    %%ecx,%%ebx\n \
    imull   %%ebx\n \
    shll    $1,%%eax\n \
    rcll    $1,%%edx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_1836\n \
    incl    %%eax\n \
\n \
gpo_loc_1836:         # 1643\n \
    movl    %%eax,_gploc_A8\n \
    movl    %%ebp,%%eax\n \
    movl    _gploc_16C,%%edx\n \
    movl    _gploc_13C,%%ebx\n \
    subl    %%edx,%%ebx\n \
    movl    _gploc_154,%%ecx\n \
    subl    %%edx,%%ecx\n \
    imull   %%esi,%%ecx\n \
    imull   %%edi,%%ebx\n \
    subl    %%ecx,%%ebx\n \
    imull   %%ebx\n \
    shll    $1,%%eax\n \
    rcll    $1,%%edx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_1866\n \
    incl    %%eax\n \
\n \
gpo_loc_1866:         # 1673\n \
    movl    %%eax,_gploc_B0\n \
    movl    %%ebp,%%eax\n \
    movl    _gploc_168,%%edx\n \
    movl    _gploc_138,%%ebx\n \
    subl    %%edx,%%ebx\n \
    movl    _gploc_150,%%ecx\n \
    subl    %%edx,%%ecx\n \
    imull   %%esi,%%ecx\n \
    imull   %%edi,%%ebx\n \
    subl    %%ecx,%%ebx\n \
    imull   %%ebx\n \
    shll    $1,%%eax\n \
    rcll    $1,%%edx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_1896\n \
    incl    %%eax\n \
\n \
gpo_loc_1896:         # 16A3\n \
    movl    %%eax,_gploc_AC\n \
    jmp gpo_loc_18B6\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_189F:         # 15FC\n \
    xorl    %%eax,%%eax\n \
    movl    %%eax,_gploc_A8\n \
    movl    %%eax,_gploc_B0\n \
    movl    %%eax,_gploc_AC\n \
\n \
gpo_loc_18B6:         # 16AD\n \
    popa    \n \
" : : : "memory", "cc");
#endif

#if __GNUC__
    asm volatile (" \
    pusha   \n \
    movl    _factor_chk,%%esi\n \
    orl %%esi,%%esi\n \
    js  gpo_loc_19A8\n \
    movl    _gploc_pt_by,%%ecx\n \
    subl    _gploc_pt_ay,%%ecx\n \
    cmpl    $0x0FF,%%ecx\n \
    jg  gpo_loc_18DB\n \
    movl    _gpoly_reptable(,%%ecx,4),%%ebx\n \
    jmp gpo_loc_18E9\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_18DB:         # 16E0\n \
    movl    $0,%%edx\n \
    movl    $0x7FFFFFFF,%%eax\n \
    idivl   %%ecx\n \
    movl    %%eax,%%ebx\n \
\n \
gpo_loc_18E9:         # 16E\n \
    movl    _gploc_158,%%eax\n \
    subl    _gploc_170,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_18FE\n \
    incl    %%eax\n \
\n \
gpo_loc_18FE:         # 170B\n \
    movl    %%eax,_gploc_point_c\n \
    movl    _gploc_154,%%eax\n \
    subl    _gploc_16C,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_1917\n \
    incl    %%eax\n \
\n \
gpo_loc_1917:         # 172\n \
    movl    %%eax,_gploc_194\n \
    movl    _gploc_150,%%eax\n \
    subl    _gploc_168,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_1930\n \
    incl    %%eax\n \
\n \
gpo_loc_1930:         # 173D\n \
    movl    %%eax,_gploc_188\n \
    movl    _gploc_pt_cy,%%ecx\n \
    subl    _gploc_pt_by,%%ecx\n \
    cmpl    $0x0FF,%%ecx\n \
    jg  gpo_loc_194D\n \
    movl    _gpoly_reptable(,%%ecx,4),%%ebx\n \
    jmp gpo_loc_195B\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_194D:         # 1752\n \
    movl    $0,%%edx\n \
    movl    $0x7FFFFFFF,%%eax\n \
    idivl   %%ecx\n \
    movl    %%eax,%%ebx\n \
\n \
gpo_loc_195B:         # 175B\n \
    movl    _gploc_140,%%eax\n \
    subl    _gploc_158,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_1970\n \
    incl    %%eax\n \
\n \
gpo_loc_1970:         # 177D\n \
    movl    %%eax,_gploc_1A0\n \
    movl    _gploc_13C,%%eax\n \
    subl    _gploc_154,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_1989\n \
    incl    %%eax\n \
\n \
gpo_loc_1989:         # 1796\n \
    movl    %%eax,_gploc_198\n \
    movl    _gploc_138,%%eax\n \
    subl    _gploc_150,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_19A2\n \
    incl    %%eax\n \
\n \
gpo_loc_19A2:         # 17A\n \
    movl    %%eax,_gploc_18C\n \
    jmp gpo_loc_1A1A\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_19A8:         # 16CC\n \
    movl    _gploc_pt_cy,%%ecx\n \
    subl    _gploc_pt_ay,%%ecx\n \
    cmpl    $0x0FF,%%ecx\n \
    jg  gpo_loc_19C1\n \
    movl    _gpoly_reptable(,%%ecx,4),%%ebx\n \
    jmp gpo_loc_19CF\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_19C1:         # 17C6\n \
    movl    $0,%%edx\n \
    movl    $0x7FFFFFFF,%%eax\n \
    idivl   %%ecx\n \
    movl    %%eax,%%ebx\n \
\n \
gpo_loc_19CF:         # 17C\n \
    movl    _gploc_140,%%eax\n \
    subl    _gploc_170,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_19E4\n \
    incl    %%eax\n \
\n \
gpo_loc_19E4:         # 17F\n \
    movl    %%eax,_gploc_point_c\n \
    movl    _gploc_13C,%%eax\n \
    subl    _gploc_16C,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_19FD\n \
    incl    %%eax\n \
\n \
gpo_loc_19FD:         # 180A\n \
    movl    %%eax,_gploc_194\n \
    movl    _gploc_138,%%eax\n \
    subl    _gploc_168,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_1A16\n \
    incl    %%eax\n \
\n \
gpo_loc_1A16:         # 1823\n \
    movl    %%eax,_gploc_188\n \
\n \
gpo_loc_1A1A:         # 17B6\n \
    movl    _gploc_170,%%eax\n \
    shll    $0x10,%%eax\n \
    movl    %%eax,_gploc_58\n \
    movl    _gploc_16C,%%eax\n \
    shll    $0x10,%%eax\n \
    movl    %%eax,_gploc_54\n \
    movl    _gploc_168,%%eax\n \
    shll    $0x10,%%eax\n \
    movl    %%eax,_gploc_50\n \
    movl    _gploc_158,%%eax\n \
    shll    $0x10,%%eax\n \
    movl    %%eax,_gploc_4C\n \
    movl    _gploc_154,%%eax\n \
    shll    $0x10,%%eax\n \
    movl    %%eax,_gploc_48\n \
    movl    _gploc_150,%%eax\n \
    shll    $0x10,%%eax\n \
    movl    %%eax,_gploc_44\n \
    movl    _gploc_B0,%%eax\n \
    movl    %%eax,%%edx\n \
    shll    $0x10,%%eax\n \
    sarl    $0x10,%%edx\n \
    movw    _gploc_word03,%%ax\n \
    orw %%ax,%%ax\n \
    jns gpo_loc_1A92\n \
    subl    $0x10000,%%eax\n \
    sbbb    $0,%%dl\n \
\n \
gpo_loc_1A92:         # 1898\n \
    movl    %%eax,_gploc_BC\n \
    movl    %%edx,_gploc_B8\n \
    movl    _gploc_AC,%%eax\n \
    shll    $0x10,%%eax\n \
    movl    _gploc_AC,%%edx\n \
    sarl    $0x10,%%edx\n \
    movb    _gploc_B8,%%al\n \
    orb %%al,%%al\n \
    jns gpo_loc_1AC7\n \
    subl    $0x100,%%eax\n \
    sbbb    $0,%%dl\n \
\n \
gpo_loc_1AC7:         # 18CD\n \
    movl    %%eax,_gploc_B8\n \
    movl    %%edx,_gploc_B4\n \
    movl    _gploc_B0,%%eax\n \
    movl    %%eax,%%edx\n \
    shll    $0x10,%%eax\n \
    sarl    $0x10,%%edx\n \
    movw    _gploc_word03,%%ax\n \
    orw %%ax,%%ax\n \
    jns gpo_loc_1AF9\n \
    subl    $0x0FFFF,%%eax\n \
    sbbb    $0,%%dl\n \
\n \
gpo_loc_1AF9:         # 18F\n \
    movl    %%eax,_gploc_5C\n \
    movl    %%edx,_gploc_2C\n \
    movl    _gploc_AC,%%eax\n \
    shll    $0x10,%%eax\n \
    movl    _gploc_AC,%%edx\n \
    sarl    $0x10,%%edx\n \
    movb    _gploc_2C,%%al\n \
    orb %%al,%%al\n \
    jns gpo_loc_1B2E\n \
    subl    $0x100,%%eax\n \
    sbbb    $0,%%dl\n \
\n \
gpo_loc_1B2E:         # 193\n \
    movl    %%eax,_gploc_2C\n \
    movl    %%edx,_gploc_28\n \
    movl    _gploc_194,%%eax\n \
    movl    %%eax,%%edx\n \
    shll    $0x10,%%eax\n \
    sarl    $0x10,%%edx\n \
    movw    _gploc_word01,%%ax\n \
    orw %%ax,%%ax\n \
    jns gpo_loc_1B5A\n \
    subl    $0x10000,%%eax\n \
    sbbb    $0,%%dl\n \
\n \
gpo_loc_1B5A:         # 1960\n \
    movl    %%eax,_gploc_A4\n \
    movl    %%edx,_gploc_A0\n \
    movl    _gploc_188,%%eax\n \
    shll    $0x10,%%eax\n \
    movl    _gploc_188,%%edx\n \
    sarl    $0x10,%%edx\n \
    movb    _gploc_A0,%%al\n \
    orb %%al,%%al\n \
    jns gpo_loc_1B89\n \
    subl    $0x100,%%eax\n \
    sbbb    $0,%%dl\n \
\n \
gpo_loc_1B89:         # 198\n \
    movl    %%eax,_gploc_A0\n \
    movl    %%edx,_gploc_9C\n \
    movl    _gploc_58,%%ebx\n \
    movl    _gploc_54,%%ecx\n \
    movl    _gploc_50,%%edx\n \
    movb    %%bl,_gploc_84\n \
    shrl    $8,%%ebx\n \
    movl    %%ecx,%%eax\n \
    shll    $0x10,%%ecx\n \
    shrl    $0x10,%%eax\n \
    movw    %%bx,%%cx\n \
    movl    %%ecx,_gploc_8C\n \
    movl    %%edx,%%ecx\n \
    shll    $0x10,%%ecx\n \
    shll    $8,%%edx\n \
    shrl    $0x18,%%edx\n \
    shll    $8,%%edx\n \
    movb    %%al,%%cl\n \
    movl    %%ecx,_gploc_88\n \
    movb    _gploc_84,%%dl\n \
    movl    %%edx,_gploc_84\n \
    movl    _factor_chk,%%esi\n \
    orl %%esi,%%esi\n \
    js  gpo_loc_1CAA\n \
    movl    _gploc_198,%%eax\n \
    movl    %%eax,%%edx\n \
    shll    $0x10,%%eax\n \
    sarl    $0x10,%%edx\n \
    movw    _gploc_word02,%%ax\n \
    orw %%ax,%%ax\n \
    jns gpo_loc_1C17\n \
    subl    $0x10000,%%eax\n \
    sbbb    $0,%%dl\n \
\n \
gpo_loc_1C17:         # 1A1D\n \
    movl    %%eax,_gploc_98\n \
    movl    %%edx,_gploc_94\n \
    movl    _gploc_18C,%%eax\n \
    shll    $0x10,%%eax\n \
    movl    _gploc_18C,%%edx\n \
    sarl    $0x10,%%edx\n \
    movb    _gploc_94,%%al\n \
    orb %%al,%%al\n \
    jns gpo_loc_1C46\n \
    subl    $0x100,%%eax\n \
    sbbb    $0,%%dl\n \
\n \
gpo_loc_1C46:         # 1A4C\n \
    movl    %%eax,_gploc_94\n \
    movl    %%edx,_gploc_90\n \
    movl    _gploc_4C,%%ebx\n \
    movl    _gploc_48,%%ecx\n \
    movl    _gploc_44,%%edx\n \
    movb    %%bl,_gploc_78\n \
    shrl    $8,%%ebx\n \
    movl    %%ecx,%%eax\n \
    shll    $0x10,%%ecx\n \
    shrl    $0x10,%%eax\n \
    movw    %%bx,%%cx\n \
    movl    %%ecx,_gploc_80\n \
    movl    %%edx,%%ecx\n \
    shll    $0x10,%%ecx\n \
    shll    $8,%%edx\n \
    shrl    $0x18,%%edx\n \
    shll    $8,%%edx\n \
    movb    %%al,%%cl\n \
    movl    %%ecx,_gploc_7C\n \
    movb    _gploc_78,%%dl\n \
    movl    %%edx,_gploc_78\n \
\n \
gpo_loc_1CAA:\n \
    popa    \n \
" : : : "memory", "cc");
#endif
}

void draw_gpoly_sub7()
{
#if __GNUC__
    asm volatile (" \
    pusha   \n \
    movl    _gploc_pt_bx,%%esi\n \
    movl    _factor_chk,%%edi\n \
    orl     %%edi,%%edi\n \
    subl    $0x0,%%esi\n \
    addl    $0x0,%%esi\n \
    movl    _gploc_pt_ax,%%eax\n \
    subl    %%eax,%%esi\n \
    movl    _gploc_pt_cx,%%edi\n \
    subl    %%eax,%%edi\n \
    movl    _gploc_pt_ay,%%eax\n \
    movl    _gploc_pt_by,%%ebx\n \
    subl    %%eax,%%ebx\n \
    movl    _gploc_pt_cy,%%ecx\n \
    subl    %%eax,%%ecx\n \
    movl    %%ecx,%%eax\n \
    imull   %%esi,%%ecx\n \
    movl    _factor_chk,%%ebp\n \
    orl     %%ebp,%%ebp\n \
    js      gpo_loc_1CEC\n \
    subl    %%eax,%%ecx\n \
    subl    %%eax,%%ecx\n \
\n \
gpo_loc_1CEC:         # 1AF6\n \
    addl    %%eax,%%ecx\n \
    imull   %%edi,%%ebx\n \
    subl    %%ecx,%%ebx\n \
    jz      gpo_loc_1DA6\n \
    xorl    %%edx,%%edx\n \
    movl    $0x7FFFFFFF,%%eax\n \
    idivl   %%ebx\n \
    movl    %%eax,%%ebp\n \
    movl    _gploc_pt_ay,%%eax\n \
    movl    _gploc_pt_cy,%%esi\n \
    subl    %%eax,%%esi\n \
    movl    _gploc_pt_by,%%edi\n \
    subl    %%eax,%%edi\n \
    movl    %%ebp,%%eax\n \
    movl    _gploc_170,%%edx\n \
    movl    _gploc_140,%%ebx\n \
    subl    %%edx,%%ebx\n \
    movl    _gploc_158,%%ecx\n \
    subl    %%edx,%%ecx\n \
    imull   %%esi,%%ecx\n \
    imull   %%edi,%%ebx\n \
    subl    %%ecx,%%ebx\n \
    imull   %%ebx\n \
    shll    $1,%%eax\n \
    rcll    $1,%%edx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_1D3D\n \
    incl    %%eax\n \
\n \
gpo_loc_1D3D:         # 1B4A\n \
    movl    %%eax,_gploc_A8\n \
    movl    %%ebp,%%eax\n \
    movl    _gploc_16C,%%edx\n \
    movl    _gploc_13C,%%ebx\n \
    subl    %%edx,%%ebx\n \
    movl    _gploc_154,%%ecx\n \
    subl    %%edx,%%ecx\n \
    imull   %%esi,%%ecx\n \
    imull   %%edi,%%ebx\n \
    subl    %%ecx,%%ebx\n \
    imull   %%ebx\n \
    shll    $1,%%eax\n \
    rcll    $1,%%edx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_1D6D\n \
    incl    %%eax\n \
\n \
gpo_loc_1D6D:         # 1B7A\n \
    movl    %%eax,_gploc_B0\n \
    movl    %%ebp,%%eax\n \
    movl    _gploc_168,%%edx\n \
    movl    _gploc_138,%%ebx\n \
    subl    %%edx,%%ebx\n \
    movl    _gploc_150,%%ecx\n \
    subl    %%edx,%%ecx\n \
    imull   %%esi,%%ecx\n \
    imull   %%edi,%%ebx\n \
    subl    %%ecx,%%ebx\n \
    imull   %%ebx\n \
    shll    $1,%%eax\n \
    rcll    $1,%%edx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_1D9D\n \
    incl    %%eax\n \
\n \
gpo_loc_1D9D:         # 1BAA\n \
    movl    %%eax,_gploc_AC\n \
    jmp gpo_loc_1DBD\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_1DA6:         # 1B03\n \
    xorl    %%eax,%%eax\n \
    movl    %%eax,_gploc_A8\n \
    movl    %%eax,_gploc_B0\n \
    movl    %%eax,_gploc_AC\n \
\n \
gpo_loc_1DBD:\n \
    popa    \n \
" : : : "memory", "cc");
#endif

#if __GNUC__
    asm volatile (" \
    pusha   \n \
    movl    _factor_chk,%%esi\n \
    orl %%esi,%%esi\n \
    js  gpo_loc_1EAF\n \
    movl    _gploc_pt_by,%%ecx\n \
    subl    _gploc_pt_ay,%%ecx\n \
    cmpl    $0x0FF,%%ecx\n \
    jg  gpo_loc_1DE2\n \
    movl    _gpoly_reptable(,%%ecx,4),%%ebx\n \
    jmp gpo_loc_1DF0\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_1DE2:         # 1BE7\n \
    movl    $0,%%edx\n \
    movl    $0x7FFFFFFF,%%eax\n \
    idivl   %%ecx\n \
    movl    %%eax,%%ebx\n \
\n \
gpo_loc_1DF0:         # 1BF0\n \
    movl    _gploc_158,%%eax\n \
    subl    _gploc_170,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_1E05\n \
    incl    %%eax\n \
\n \
gpo_loc_1E05:         # 1C12\n \
    movl    %%eax,_gploc_point_c\n \
    movl    _gploc_154,%%eax\n \
    subl    _gploc_16C,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_1E1E\n \
    incl    %%eax\n \
\n \
gpo_loc_1E1E:         # 1C2B\n \
    movl    %%eax,_gploc_194\n \
    movl    _gploc_150,%%eax\n \
    subl    _gploc_168,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_1E37\n \
    incl    %%eax\n \
\n \
gpo_loc_1E37:         # 1C4\n \
    movl    %%eax,_gploc_188\n \
    movl    _gploc_pt_cy,%%ecx\n \
    subl    _gploc_pt_by,%%ecx\n \
    cmpl    $0x0FF,%%ecx\n \
    jg  gpo_loc_1E54\n \
    movl    _gpoly_reptable(,%%ecx,4),%%ebx\n \
    jmp gpo_loc_1E62\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_1E54:         # 1C5\n \
    movl    $0,%%edx\n \
    movl    $0x7FFFFFFF,%%eax\n \
    idivl   %%ecx\n \
    movl    %%eax,%%ebx\n \
\n \
gpo_loc_1E62:         # 1C62\n \
    movl    _gploc_140,%%eax\n \
    subl    _gploc_158,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_1E77\n \
    incl    %%eax\n \
\n \
gpo_loc_1E77:         # 1C8\n \
    movl    %%eax,_gploc_1A0\n \
    movl    _gploc_13C,%%eax\n \
    subl    _gploc_154,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_1E90\n \
    incl    %%eax\n \
\n \
gpo_loc_1E90:         # 1C9D\n \
    movl    %%eax,_gploc_198\n \
    movl    _gploc_138,%%eax\n \
    subl    _gploc_150,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_1EA9\n \
    incl    %%eax\n \
\n \
gpo_loc_1EA9:         # 1CB6\n \
    movl    %%eax,_gploc_18C\n \
    jmp gpo_loc_1F21\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_1EAF:         # 1BD3\n \
    movl    _gploc_pt_cy,%%ecx\n \
    subl    _gploc_pt_ay,%%ecx\n \
    cmpl    $0x0FF,%%ecx\n \
    jg  gpo_loc_1EC8\n \
    movl    _gpoly_reptable(,%%ecx,4),%%ebx\n \
    jmp gpo_loc_1ED6\n \
# ---------------------------------------------------------------------------\n \
\n \
gpo_loc_1EC8:         # 1CCD\n \
    movl    $0,%%edx\n \
    movl    $0x7FFFFFFF,%%eax\n \
    idivl   %%ecx\n \
    movl    %%eax,%%ebx\n \
\n \
gpo_loc_1ED6:         # 1CD6\n \
    movl    _gploc_140,%%eax\n \
    subl    _gploc_170,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_1EEB\n \
    incl    %%eax\n \
\n \
gpo_loc_1EEB:         # 1CF8\n \
    movl    %%eax,_gploc_point_c\n \
    movl    _gploc_13C,%%eax\n \
    subl    _gploc_16C,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_1F04\n \
    incl    %%eax\n \
\n \
gpo_loc_1F04:         # 1D1\n \
    movl    %%eax,_gploc_194\n \
    movl    _gploc_138,%%eax\n \
    subl    _gploc_168,%%eax\n \
    shll    $1,%%eax\n \
    imull   %%ebx\n \
    movw    %%dx,%%ax\n \
    roll    $0x10,%%eax\n \
    jns gpo_loc_1F1D\n \
    incl    %%eax\n \
\n \
gpo_loc_1F1D:         # 1D2A\n \
    movl    %%eax,_gploc_188\n \
\n \
gpo_loc_1F21:         # 1CBD\n \
    movl    _gploc_170,%%eax\n \
    shll    $0x10,%%eax\n \
    movl    %%eax,_gploc_58\n \
    movl    _gploc_16C,%%eax\n \
    shll    $0x10,%%eax\n \
    movl    %%eax,_gploc_54\n \
    movl    _gploc_168,%%eax\n \
    shll    $0x10,%%eax\n \
    movl    %%eax,_gploc_50\n \
    movl    _gploc_158,%%eax\n \
    shll    $0x10,%%eax\n \
    movl    %%eax,_gploc_4C\n \
    movl    _gploc_154,%%eax\n \
    shll    $0x10,%%eax\n \
    movl    %%eax,_gploc_48\n \
    movl    _gploc_150,%%eax\n \
    shll    $0x10,%%eax\n \
    movl    %%eax,_gploc_44\n \
    movl    _gploc_AC,%%eax\n \
    movl    %%eax,%%edx\n \
    shll    $0x10,%%eax\n \
    sarl    $0x10,%%edx\n \
    movl    _gploc_A8,%%ebx\n \
    shll    $0x18,%%ebx\n \
    movl    %%ebx,_gploc_30\n \
    movl    _gploc_A8,%%ebx\n \
    sarl    $8,%%ebx\n \
    orl %%ebx,%%ebx\n \
    jns gpo_loc_1FB1\n \
    andl    $0x0FFFF,%%ebx\n \
    subl    $0x10000,%%eax\n \
    sbbl    $0,%%edx\n \
\n \
gpo_loc_1FB1:         # 1DB\n \
    addl    %%ebx,%%eax\n \
    adcl    $0,%%edx\n \
    movl    %%eax,_gploc_BC\n \
    movl    _gploc_B0,%%eax\n \
    orl %%edx,%%edx\n \
    jns gpo_loc_1FC9\n \
    decl    %%eax\n \
\n \
gpo_loc_1FC9:         # 1DD6\n \
    shll    $8,%%eax\n \
    andl    $0x0FF,%%edx\n \
    orl %%eax,%%edx\n \
    movl    %%edx,_gploc_B8\n \
    movl    _gploc_AC,%%eax\n \
    movl    %%eax,%%edx\n \
    shll    $0x10,%%eax\n \
    sarl    $0x10,%%edx\n \
    movl    _gploc_A8,%%ebx\n \
    sarl    $8,%%ebx\n \
    orl %%ebx,%%ebx\n \
    jns gpo_loc_2006\n \
    andl    $0x0FFFF,%%ebx\n \
    subl    $0x0FFFF,%%eax\n \
    sbbl    $0,%%edx\n \
\n \
gpo_loc_2006:         # 1E06\n \
    addl    %%ebx,%%eax\n \
    adcl    $0,%%edx\n \
    movl    %%eax,_gploc_5C\n \
    movl    _gploc_B0,%%eax\n \
    orl %%edx,%%edx\n \
    jns gpo_loc_201E\n \
    decl    %%eax\n \
\n \
gpo_loc_201E:         # 1E2B\n \
    shll    $8,%%eax\n \
    andl    $0x0FF,%%edx\n \
    orl %%eax,%%edx\n \
    movl    %%edx,_gploc_2C\n \
    movl    _gploc_188,%%eax\n \
    movl    %%eax,%%edx\n \
    shll    $0x10,%%eax\n \
    sarl    $0x10,%%edx\n \
    movl    _gploc_point_c,%%ebx\n \
    shll    $0x18,%%ebx\n \
    movl    %%ebx,_gploc_68\n \
    movl    _gploc_point_c,%%ebx\n \
    sarl    $8,%%ebx\n \
    orl %%ebx,%%ebx\n \
    jns gpo_loc_2063\n \
    andl    $0x0FFFF,%%ebx\n \
    subl    $0x10000,%%eax\n \
    sbbl    $0,%%edx\n \
\n \
gpo_loc_2063:         # 1E63\n \
    addl    %%ebx,%%eax\n \
    adcl    $0,%%edx\n \
    movl    %%eax,_gploc_A4\n \
    movl    _gploc_194,%%eax\n \
    orl %%edx,%%edx\n \
    jns gpo_loc_2078\n \
    decl    %%eax\n \
\n \
gpo_loc_2078:         # 1E85\n \
    shll    $8,%%eax\n \
    andl    $0x0FF,%%edx\n \
    orl %%eax,%%edx\n \
    movl    %%edx,_gploc_A0\n \
    movl    _gploc_50,%%eax\n \
    movl    %%eax,%%edx\n \
    shll    $0x10,%%eax\n \
    movl    _gploc_58,%%ebx\n \
    shrl    $8,%%ebx\n \
    orl %%ebx,%%eax\n \
    movl    %%eax,_gploc_8C\n \
    movl    _gploc_54,%%eax\n \
    shll    $8,%%eax\n \
    shrl    $0x10,%%edx\n \
    andl    $0x0FF,%%edx\n \
    orl %%eax,%%edx\n \
    movl    %%edx,_gploc_88\n \
    movl    _factor_chk,%%esi\n \
    orl %%esi,%%esi\n \
    js  gpo_case69_break\n \
    movl    _gploc_18C,%%eax\n \
    movl    %%eax,%%edx\n \
    shll    $0x10,%%eax\n \
    sarl    $0x10,%%edx\n \
    movl    _gploc_1A0,%%ebx\n \
    shll    $0x18,%%ebx\n \
    movl    %%ebx,_gploc_64\n \
    movl    _gploc_1A0,%%ebx\n \
    sarl    $8,%%ebx\n \
    orl %%ebx,%%ebx\n \
    jns gpo_loc_2104\n \
    andl    $0x0FFFF,%%ebx\n \
    subl    $0x10000,%%eax\n \
    sbbl    $0,%%edx\n \
\n \
gpo_loc_2104:         # 1F0\n \
    addl    %%ebx,%%eax\n \
    adcl    $0,%%edx\n \
    movl    %%eax,_gploc_98\n \
    movl    _gploc_198,%%eax\n \
    orl %%edx,%%edx\n \
    jns gpo_loc_2119\n \
    decl    %%eax\n \
\n \
gpo_loc_2119:         # 1F26\n \
    shll    $8,%%eax\n \
    andl    $0x0FF,%%edx\n \
    orl %%eax,%%edx\n \
    movl    %%edx,_gploc_94\n \
    movl    _gploc_44,%%eax\n \
    movl    %%eax,%%edx\n \
    shll    $0x10,%%eax\n \
    movl    _gploc_4C,%%ebx\n \
    shrl    $8,%%ebx\n \
    orl %%ebx,%%eax\n \
    movl    %%eax,_gploc_80\n \
    movl    _gploc_48,%%eax\n \
    shll    $8,%%eax\n \
    shrl    $0x10,%%edx\n \
    andl    $0x0FF,%%edx\n \
    orl %%eax,%%edx\n \
    movl    %%edx,_gploc_7C\n \
\n \
gpo_case69_break:\n \
    popa    \n \
" : : : "memory", "cc");
#endif
}

void draw_gpoly_sub11()
{
#if __GNUC__
    asm volatile (" \
    pusha   \n \
    movl    _gploc_8C,%%ecx\n \
    movl    _gploc_88,%%edx\n \
    movl    _gploc_84,%%ebx\n \
    movl    _gploc_pt_ay,%%esi\n \
    movl    _LOC_vec_screen_width,%%edi\n \
    imull   %%esi,%%edi\n \
    addl    _LOC_vec_screen,%%edi\n \
    movl    _gploc_pt_ay,%%eax\n \
    cmpl    _LOC_vec_window_height,%%eax\n \
    jg  locret5a\n \
    movl    _gploc_pt_by,%%eax\n \
    cmpl    _LOC_vec_window_height,%%eax\n \
    jle loc_782808\n \
    movl    _LOC_vec_window_height,%%eax\n \
\n \
loc_782808:         # 261\n \
    subl    _gploc_pt_ay,%%eax\n \
    movl    %%eax,_gploc_C0\n \
    movl    _gploc_pt_ax,%%esi\n \
    movl    %%esi,_gploc_74\n \
    movl    _gploc_pt_shax,%%eax\n \
    movl    %%eax,%%ebp\n \
    jz  loc_782CD8\n \
    movl    _gploc_pt_ay,%%esi\n \
    orl %%esi,%%esi\n \
    js  loc_782C50\n \
    movl    _gploc_74,%%esi\n \
    jmp loc_loop02\n \
# ---------------------------------------------------------------------------\n \
\n \
loc_782B70:         # 2910\n \
    addb    _gploc_A8,%%bl\n \
    adcl    _gploc_BC,%%ecx\n \
    adcl    _gploc_B8,%%edx\n \
    adcb    _gploc_B4,%%bh\n \
    incl    %%esi\n \
    cmpl    %%esi,%%eax\n \
    jle loc_782B08\n \
    jmp loc_782B70\n \
# ---------------------------------------------------------------------------\n \
\n \
loc_782BA0:         # 2912\n \
    subb    _gploc_A8,%%bl\n \
    sbbl    _gploc_BC,%%ecx\n \
    sbbl    _gploc_B8,%%edx\n \
    sbbb    _gploc_B4,%%bh\n \
    decl    %%esi\n \
    cmpl    %%esi,%%eax\n \
    jge loc_782B08\n \
    jmp loc_782BA0\n \
# ---------------------------------------------------------------------------\n \
\n \
loc_782BD0:         # 2908\n \
    orl %%esi,%%esi\n \
    jz  loc_782B08\n \
    js  loc_782BE0\n \
    jmp loc_782C10\n \
# ---------------------------------------------------------------------------\n \
\n \
loc_782BE0:         # 29E8\n \
    addb    _gploc_A8,%%bl\n \
    adcl    _gploc_BC,%%ecx\n \
    adcl    _gploc_B8,%%edx\n \
    adcb    _gploc_B4,%%bh\n \
    incl    %%esi\n \
    jz  loc_782B08\n \
    jmp loc_782BE0\n \
# ---------------------------------------------------------------------------\n \
\n \
loc_782C10:         # 29EA\n \
    subb    _gploc_A8,%%bl\n \
    sbbl    _gploc_BC,%%ecx\n \
    sbbl    _gploc_B8,%%edx\n \
    sbbb    _gploc_B4,%%bh\n \
    decl    %%esi\n \
    jz  loc_782B08\n \
    jmp loc_782C10\n \
# ---------------------------------------------------------------------------\n \
\n \
loc_782C40:         # 294\n \
    movl    _LOC_vec_window_width,%%ebp\n \
    jmp loc_782B3A\n \
# ---------------------------------------------------------------------------\n \
\n \
loc_782C50:         # 2640\n \
    addb    _gploc_60,%%bl\n \
    adcl    _gploc_CC,%%ecx\n \
    adcl    _gploc_C4,%%edx\n \
    adcb    _gploc_C8,%%bh\n \
    movl    %%eax,_gploc_FC\n \
    sarl    $0x10,%%eax\n \
    subl    %%eax,_gploc_74\n \
    movl    _gploc_FC,%%eax\n \
    addl    _gploc_12C,%%eax\n \
    addl    _gploc_128,%%ebp\n \
    movl    %%eax,_gploc_FC\n \
    sarl    $0x10,%%eax\n \
    addl    %%eax,_gploc_74\n \
    movl    _gploc_FC,%%eax\n \
    addl    _gploc_104,%%edi\n \
    decl _gploc_C0\n \
    jz  loc_782CD0\n \
    incl    %%esi\n \
    js  loc_782C50\n \
    movl    _gploc_74,%%esi\n \
    jmp loc_loop02\n \
# ---------------------------------------------------------------------------\n \
\
\n \
loc_782CD0:         # 2AC8\n \
    movl    _gploc_74,%%esi\n \
    nop \n \
\n \
loc_782CD8:         # 263\n \
    decl _gploc_180\n \
    jz  locret5a\n \
    movl    %%eax,_gploc_FC\n \
    movl    _factor_chk,%%eax\n \
    orl %%eax,%%eax\n \
    js  loc_782D90\n \
    movl    _factor_cb,%%eax\n \
    movl    %%eax,_gploc_12C\n \
    movl    _gploc_1A0,%%eax\n \
    movl    %%eax,_gploc_60\n \
    movl    _gploc_98,%%eax\n \
    movl    %%eax,_gploc_CC\n \
    movl    _gploc_94,%%eax\n \
    movl    %%eax,_gploc_C4\n \
    movl    _gploc_90,%%eax\n \
    movl    %%eax,_gploc_C8\n \
    movl    _gploc_80,%%ecx\n \
    movl    _gploc_7C,%%edx\n \
    movl    _gploc_78,%%ebx\n \
    movl    _gploc_pt_cy,%%eax\n \
    cmpl    _LOC_vec_window_height,%%eax\n \
    jle loc_782D5B\n \
    movl    _LOC_vec_window_height,%%eax\n \
\n \
loc_782D5B:         # 2B6\n \
    subl    _gploc_pt_by,%%eax\n \
    movl    %%eax,_gploc_C0\n \
    movl    _gploc_pt_bx,%%eax\n \
    movl    %%eax,_gploc_74\n \
    movl    _gploc_pt_shbx,%%eax\n \
    jle locret5a\n \
    movl    _gploc_pt_by,%%esi\n \
    orl %%esi,%%esi\n \
    js  loc_782C50\n \
    movl    _gploc_pt_bx,%%esi\n \
    jmp loc_loop02\n \
# ---------------------------------------------------------------------------\n \
\n \
loc_782D90:         # 2AF\n \
    movl    _factor_cb,%%ebp\n \
    movl    %%ebp,_gploc_128\n \
    movl    _gploc_pt_shbx,%%ebp\n \
    movl    _gploc_pt_cy,%%eax\n \
    cmpl    _LOC_vec_window_height,%%eax\n \
    jle loc_782DB0\n \
    movl    _LOC_vec_window_height,%%eax\n \
\n \
loc_782DB0:         # 2BB\n \
    subl    _gploc_pt_by,%%eax\n \
    movl    %%eax,_gploc_C0\n \
    movl    _gploc_FC,%%eax\n \
    jle locret5a\n \
    movl    %%esi,_gploc_74\n \
    movl    _gploc_pt_by,%%esi\n \
    orl %%esi,%%esi\n \
    js  loc_782C50\n \
    movl    _gploc_74,%%esi\n \
    jmp loc_loop02\n \
# ---------------------------------------------------------------------------\n \
\n \
loc_loop01:         # 294E\n \
    movl    _gploc_FC,%%eax\n \
    movl    _gploc_F8,%%ebp\n \
    movl    _gploc_F4,%%edi\n \
    movl    _gploc_74,%%esi\n \
    sarl    $0x10,%%eax\n \
    subl    %%eax,%%esi\n \
    movl    _gploc_FC,%%eax\n \
    addl    _gploc_12C,%%eax\n \
    addl    _gploc_128,%%ebp\n \
    movl    %%eax,_gploc_FC\n \
    sarl    $0x10,%%eax\n \
    addl    %%eax,%%esi\n \
    movl    _gploc_FC,%%eax\n \
    movl    _gploc_E0,%%ecx\n \
    movl    _gploc_E4,%%ebx\n \
    movl    _gploc_D8,%%edx\n \
    addb    _gploc_60,%%bl\n \
    adcl    _gploc_CC,%%ecx\n \
    adcl    _gploc_C4,%%edx\n \
    adcb    _gploc_C8,%%bh\n \
    addl    _gploc_104,%%edi\n \
    decl _gploc_C0\n \
    jz  loc_782CD8\n \
\n \
loc_loop02:         # 264D\n \
    movl    %%eax,_gploc_FC\n \
    movl    %%ebp,_gploc_F8\n \
    movl    %%edi,_gploc_F4\n \
    sarl    $0x10,%%eax\n \
    js  loc_782BD0\n \
    cmpl    %%esi,%%eax\n \
    jg  loc_782B70\n \
    jl  loc_782BA0\n \
\n \
loc_782B08:         # 299F\n \
    movl    %%esi,_gploc_74\n \
    movl    _gploc_F4,%%edi\n \
    movl    %%ecx,_gploc_E0\n \
    movl    %%ebx,_gploc_E4\n \
    movl    %%edx,_gploc_D8\n \
    sarl    $0x10,%%ebp\n \
    cmpl    _LOC_vec_window_width,%%ebp\n \
    jg  loc_782C40\n \
\n \
loc_782B3A:         # 2A56\n \
    addl    %%esi,%%edi\n \
    subl    %%esi,%%ebp\n \
    jle loc_loop01\n \
    movl    %%ebp,%%eax\n \
    andl    $0x0F,%%eax\n \
    addl    _gpoly_countdown(,%%eax,4),%%edi\n \
    movl    %%ebp,_gploc_D4\n \
    movl    _gploc_5C,%%ebp\n \
    movl    _LOC_vec_map,%%esi\n \
    jmp   *switch_vecmap(,%%eax,4)\n \
# ---------------------------------------------------------------------------\n \
\n \
loc_vecmap00:         # 285C\n \
    movb    %%ch,%%ah\n \
    movb    %%dl,%%bl\n \
    addl    %%ebp,%%ecx\n \
    movb    (%%ebx,%%esi),%%al\n \
    adcl    _gploc_2C,%%edx\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%eax),%%al\n \
    popl    %%ebx\n \
    adcb    _gploc_28,%%bh\n \
    movb    %%al,(%%edi)\n \
\n \
loc_vecmap15:         # 3E6C\n \
    movb    %%ch,%%ah\n \
    movb    %%dl,%%bl\n \
    addl    %%ebp,%%ecx\n \
    movb    (%%ebx,%%esi),%%al\n \
    adcl    _gploc_2C,%%edx\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%eax),%%al\n \
    popl    %%ebx\n \
    adcb    _gploc_28,%%bh\n \
    movb    %%al,1(%%edi)\n \
\n \
loc_vecmap14:         # 3E68\n \
    movb    %%ch,%%ah\n \
    movb    %%dl,%%bl\n \
    addl    %%ebp,%%ecx\n \
    movb    (%%ebx,%%esi),%%al\n \
    adcl    _gploc_2C,%%edx\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%eax),%%al\n \
    popl    %%ebx\n \
    adcb    _gploc_28,%%bh\n \
    movb    %%al,2(%%edi)\n \
\n \
loc_vecmap13:         # 3E64\n \
    movb    %%ch,%%ah\n \
    movb    %%dl,%%bl\n \
    addl    %%ebp,%%ecx\n \
    movb    (%%ebx,%%esi),%%al\n \
    adcl    _gploc_2C,%%edx\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%eax),%%al\n \
    popl    %%ebx\n \
    adcb    _gploc_28,%%bh\n \
    movb    %%al,3(%%edi)\n \
\n \
loc_vecmap12:         # 3E60\n \
    movb    %%ch,%%ah\n \
    movb    %%dl,%%bl\n \
    addl    %%ebp,%%ecx\n \
    movb    (%%ebx,%%esi),%%al\n \
    adcl    _gploc_2C,%%edx\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%eax),%%al\n \
    popl    %%ebx\n \
    adcb    _gploc_28,%%bh\n \
    movb    %%al,4(%%edi)\n \
\n \
loc_vecmap11:         # 3E5C\n \
    movb    %%ch,%%ah\n \
    movb    %%dl,%%bl\n \
    addl    %%ebp,%%ecx\n \
    movb    (%%ebx,%%esi),%%al\n \
    adcl    _gploc_2C,%%edx\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%eax),%%al\n \
    popl    %%ebx\n \
    adcb    _gploc_28,%%bh\n \
    movb    %%al,5(%%edi)\n \
\n \
loc_vecmap10:         # 3E58\n \
    movb    %%ch,%%ah\n \
    movb    %%dl,%%bl\n \
    addl    %%ebp,%%ecx\n \
    movb    (%%ebx,%%esi),%%al\n \
    adcl    _gploc_2C,%%edx\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%eax),%%al\n \
    popl    %%ebx\n \
    adcb    _gploc_28,%%bh\n \
    movb    %%al,6(%%edi)\n \
\n \
loc_vecmap09:         # 3E54\n \
    movb    %%ch,%%ah\n \
    movb    %%dl,%%bl\n \
    addl    %%ebp,%%ecx\n \
    movb    (%%ebx,%%esi),%%al\n \
    adcl    _gploc_2C,%%edx\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%eax),%%al\n \
    popl    %%ebx\n \
    adcb    _gploc_28,%%bh\n \
    movb    %%al,7(%%edi)\n \
\n \
loc_vecmap08:         # 3E50\n \
    movb    %%ch,%%ah\n \
    movb    %%dl,%%bl\n \
    addl    %%ebp,%%ecx\n \
    movb    (%%ebx,%%esi),%%al\n \
    adcl    _gploc_2C,%%edx\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%eax),%%al\n \
    popl    %%ebx\n \
    adcb    _gploc_28,%%bh\n \
    movb    %%al,8(%%edi)\n \
\n \
loc_vecmap07:         # 3E4C\n \
    movb    %%ch,%%ah\n \
    movb    %%dl,%%bl\n \
    addl    %%ebp,%%ecx\n \
    movb    (%%ebx,%%esi),%%al\n \
    adcl    _gploc_2C,%%edx\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%eax),%%al\n \
    popl    %%ebx\n \
    adcb    _gploc_28,%%bh\n \
    movb    %%al,9(%%edi)\n \
\n \
loc_vecmap06:         # 3E48\n \
    movb    %%ch,%%ah\n \
    movb    %%dl,%%bl\n \
    addl    %%ebp,%%ecx\n \
    movb    (%%ebx,%%esi),%%al\n \
    adcl    _gploc_2C,%%edx\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%eax),%%al\n \
    popl    %%ebx\n \
    adcb    _gploc_28,%%bh\n \
    movb    %%al,0x0A(%%edi)\n \
\n \
loc_vecmap05:         # 3E44\n \
    movb    %%ch,%%ah\n \
    movb    %%dl,%%bl\n \
    addl    %%ebp,%%ecx\n \
    movb    (%%ebx,%%esi),%%al\n \
    adcl    _gploc_2C,%%edx\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%eax),%%al\n \
    popl    %%ebx\n \
    adcb    _gploc_28,%%bh\n \
    movb    %%al,0x0B(%%edi)\n \
\n \
loc_vecmap04:         # 3E40\n \
    movb    %%ch,%%ah\n \
    movb    %%dl,%%bl\n \
    addl    %%ebp,%%ecx\n \
    movb    (%%ebx,%%esi),%%al\n \
    adcl    _gploc_2C,%%edx\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%eax),%%al\n \
    popl    %%ebx\n \
    adcb    _gploc_28,%%bh\n \
    movb    %%al,0x0C(%%edi)\n \
\n \
loc_vecmap03:         # 3E3C\n \
    movb    %%ch,%%ah\n \
    movb    %%dl,%%bl\n \
    addl    %%ebp,%%ecx\n \
    movb    (%%ebx,%%esi),%%al\n \
    adcl    _gploc_2C,%%edx\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%eax),%%al\n \
    popl    %%ebx\n \
    adcb    _gploc_28,%%bh\n \
    movb    %%al,0x0D(%%edi)\n \
\n \
loc_vecmap02:         # 3E38\n \
    movb    %%ch,%%ah\n \
    movb    %%dl,%%bl\n \
    addl    %%ebp,%%ecx\n \
    movb    (%%ebx,%%esi),%%al\n \
    adcl    _gploc_2C,%%edx\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%eax),%%al\n \
    popl    %%ebx\n \
    adcb    _gploc_28,%%bh\n \
    movb    %%al,0x0E(%%edi)\n \
\n \
loc_vecmap01:         # 3E34\n \
    movb    %%ch,%%ah\n \
    movb    %%dl,%%bl\n \
    addl    %%ebp,%%ecx\n \
    movb    (%%ebx,%%esi),%%al\n \
    adcl    _gploc_2C,%%edx\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%eax),%%al\n \
    popl    %%ebx\n \
    adcb    _gploc_28,%%bh\n \
    movb    %%al,0x0F(%%edi)\n \
    addl    $0x10,%%edi\n \
    subl $0x10,_gploc_D4\n \
    jg  loc_vecmap00\n \
    jmp  loc_loop01\n \
# ---------------------------------------------------------------------------\n \
\n \
switch_vecmap:\n \
    .int    loc_vecmap00\n \
    .int    loc_vecmap01\n \
    .int    loc_vecmap02\n \
    .int    loc_vecmap03\n \
    .int    loc_vecmap04\n \
    .int    loc_vecmap05\n \
    .int    loc_vecmap06\n \
    .int    loc_vecmap07\n \
    .int    loc_vecmap08\n \
    .int    loc_vecmap09\n \
    .int    loc_vecmap10\n \
    .int    loc_vecmap11\n \
    .int    loc_vecmap12\n \
    .int    loc_vecmap13\n \
    .int    loc_vecmap14\n \
    .int    loc_vecmap15\n \
\n \
locret5a:\n \
    popa    \n \
" : : : "memory", "cc");
#endif
}

void draw_gpoly_sub12()
{
#if __GNUC__
    asm volatile (" \
    pusha   \n \
    movl    _LOC_vec_screen_width,%%ecx\n \
    movl    %%ecx,_gploc_104\n \
    movl    $2,%%ecx\n \
    movl    %%ecx,_gploc_180\n \
    movl    _gploc_1A4,%%eax\n \
    movl    %%eax,_gploc_60\n \
    movl    _gploc_A4,%%eax\n \
    movl    %%eax,_gploc_CC\n \
    movl    _gploc_A0,%%eax\n \
    movl    %%eax,_gploc_C4\n \
    movl    _gploc_9C,%%eax\n \
    movl    %%eax,_gploc_C8\n \
    movl    _factor_chk,%%eax\n \
    orl %%eax,%%eax\n \
    js  loc_782209\n \
    movl    _factor_ba,%%eax\n \
    movl    %%eax,_gploc_12C\n \
    movl    _factor_ca,%%eax\n \
    movl    %%eax,_gploc_128\n \
    jmp loc_78221E\n \
# ---------------------------------------------------------------------------\n \
\n \
loc_782209:         # 2000\n \
    movl    _factor_ca,%%eax\n \
    movl    %%eax,_gploc_12C\n \
    movl    _factor_ba,%%eax\n \
    movl    %%eax,_gploc_128\n \
\n \
loc_78221E:         # 2017\n \
    movl    _gploc_8C,%%ecx\n \
    movl    _gploc_88,%%edx\n \
    movl    _gploc_84,%%ebx\n \
    movl    _gploc_pt_ay,%%esi\n \
    movl    _LOC_vec_screen_width,%%edi\n \
    imull   %%esi,%%edi\n \
    addl    _LOC_vec_screen,%%edi\n \
    movl    _gploc_pt_ay,%%eax\n \
    cmpl    _LOC_vec_window_height,%%eax\n \
    jg  locret5b\n \
    movl    _gploc_pt_by,%%eax\n \
    cmpl    _LOC_vec_window_height,%%eax\n \
    jle loc_782267\n \
    movl    _LOC_vec_window_height,%%eax\n \
\n \
loc_782267:         # 2070\n \
    subl    _gploc_pt_ay,%%eax\n \
    movl    %%eax,_gploc_C0\n \
    movl    _gploc_pt_ax,%%esi\n \
    movl    %%esi,_gploc_74\n \
    movl    _gploc_pt_shax,%%eax\n \
    movl    %%eax,%%ebp\n \
    jz  loc_782618\n \
    movl    _gploc_pt_ay,%%esi\n \
    orl %%esi,%%esi\n \
    js  loc_782590\n \
    movl    _gploc_74,%%esi\n \
    jmp loc_782520\n \
# ---------------------------------------------------------------------------\n \
\n \
loc_7822A1:         # 22BB\n \
    movb    %%ch,%%ah\n \
    movb    %%dl,%%bl\n \
    addl    %%ebp,%%ecx\n \
    movb    (%%ebx,%%esi),%%al\n \
    adcl    _gploc_2C,%%edx\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%eax),%%al\n \
    popl    %%ebx\n \
    adcb    _gploc_28,%%bh\n \
    movb    %%al,(%%edi)\n \
\n \
loc_7822C0:         # 3E2C\n \
    movb    %%ch,%%ah\n \
    movb    %%dl,%%bl\n \
    addl    %%ebp,%%ecx\n \
    movb    (%%ebx,%%esi),%%al\n \
    adcl    _gploc_2C,%%edx\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%eax),%%al\n \
    popl    %%ebx\n \
    adcb    _gploc_28,%%bh\n \
    movb    %%al,1(%%edi)\n \
\n \
loc_7822E0:         # 3E28\n \
    movb    %%ch,%%ah\n \
    movb    %%dl,%%bl\n \
    addl    %%ebp,%%ecx\n \
    movb    (%%ebx,%%esi),%%al\n \
    adcl    _gploc_2C,%%edx\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%eax),%%al\n \
    popl    %%ebx\n \
    adcb    _gploc_28,%%bh\n \
    movb    %%al,2(%%edi)\n \
\n \
loc_782300:         # 3E24\n \
    movb    %%ch,%%ah\n \
    movb    %%dl,%%bl\n \
    addl    %%ebp,%%ecx\n \
    movb    (%%ebx,%%esi),%%al\n \
    adcl    _gploc_2C,%%edx\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%eax),%%al\n \
    popl    %%ebx\n \
    adcb    _gploc_28,%%bh\n \
    movb    %%al,3(%%edi)\n \
\n \
loc_782320:         # 3E20\n \
    movb    %%ch,%%ah\n \
    movb    %%dl,%%bl\n \
    addl    %%ebp,%%ecx\n \
    movb    (%%ebx,%%esi),%%al\n \
    adcl    _gploc_2C,%%edx\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%eax),%%al\n \
    popl    %%ebx\n \
    adcb    _gploc_28,%%bh\n \
    movb    %%al,4(%%edi)\n \
\n \
loc_782340:         # 3E1C\n \
    movb    %%ch,%%ah\n \
    movb    %%dl,%%bl\n \
    addl    %%ebp,%%ecx\n \
    movb    (%%ebx,%%esi),%%al\n \
    adcl    _gploc_2C,%%edx\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%eax),%%al\n \
    popl    %%ebx\n \
    adcb    _gploc_28,%%bh\n \
    movb    %%al,5(%%edi)\n \
\n \
loc_782360:         # 3E18\n \
    movb    %%ch,%%ah\n \
    movb    %%dl,%%bl\n \
    addl    %%ebp,%%ecx\n \
    movb    (%%ebx,%%esi),%%al\n \
    adcl    _gploc_2C,%%edx\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%eax),%%al\n \
    popl    %%ebx\n \
    adcb    _gploc_28,%%bh\n \
    movb    %%al,6(%%edi)\n \
\n \
loc_782380:         # 3E14\n \
    movb    %%ch,%%ah\n \
    movb    %%dl,%%bl\n \
    addl    %%ebp,%%ecx\n \
    movb    (%%ebx,%%esi),%%al\n \
    adcl    _gploc_2C,%%edx\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%eax),%%al\n \
    popl    %%ebx\n \
    adcb    _gploc_28,%%bh\n \
    movb    %%al,7(%%edi)\n \
\n \
loc_7823A0:         # 3E10\n \
    movb    %%ch,%%ah\n \
    movb    %%dl,%%bl\n \
    addl    %%ebp,%%ecx\n \
    movb    (%%ebx,%%esi),%%al\n \
    adcl    _gploc_2C,%%edx\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%eax),%%al\n \
    popl    %%ebx\n \
    adcb    _gploc_28,%%bh\n \
    movb    %%al,8(%%edi)\n \
\n \
loc_7823C0:         # 3E0C\n \
    movb    %%ch,%%ah\n \
    movb    %%dl,%%bl\n \
    addl    %%ebp,%%ecx\n \
    movb    (%%ebx,%%esi),%%al\n \
    adcl    _gploc_2C,%%edx\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%eax),%%al\n \
    popl    %%ebx\n \
    adcb    _gploc_28,%%bh\n \
    movb    %%al,9(%%edi)\n \
\n \
loc_7823E0:         # 3E08\n \
    movb    %%ch,%%ah\n \
    movb    %%dl,%%bl\n \
    addl    %%ebp,%%ecx\n \
    movb    (%%ebx,%%esi),%%al\n \
    adcl    _gploc_2C,%%edx\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%eax),%%al\n \
    popl    %%ebx\n \
    adcb    _gploc_28,%%bh\n \
    movb    %%al,0x0A(%%edi)\n \
\n \
loc_782400:         # 3E04\n \
    movb    %%ch,%%ah\n \
    movb    %%dl,%%bl\n \
    addl    %%ebp,%%ecx\n \
    movb    (%%ebx,%%esi),%%al\n \
    adcl    _gploc_2C,%%edx\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%eax),%%al\n \
    popl    %%ebx\n \
    adcb    _gploc_28,%%bh\n \
    movb    %%al,0x0B(%%edi)\n \
\n \
loc_782420:         # 3E00\n \
    movb    %%ch,%%ah\n \
    movb    %%dl,%%bl\n \
    addl    %%ebp,%%ecx\n \
    movb    (%%ebx,%%esi),%%al\n \
    adcl    _gploc_2C,%%edx\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%eax),%%al\n \
    popl    %%ebx\n \
    adcb    _gploc_28,%%bh\n \
    movb    %%al,0x0C(%%edi)\n \
\n \
loc_782440:         # 3DFC\n \
    movb    %%ch,%%ah\n \
    movb    %%dl,%%bl\n \
    addl    %%ebp,%%ecx\n \
    movb    (%%ebx,%%esi),%%al\n \
    adcl    _gploc_2C,%%edx\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%eax),%%al\n \
    popl    %%ebx\n \
    adcb    _gploc_28,%%bh\n \
    movb    %%al,0x0D(%%edi)\n \
\n \
loc_782460:         # 3DF8\n \
    movb    %%ch,%%ah\n \
    movb    %%dl,%%bl\n \
    addl    %%ebp,%%ecx\n \
    movb    (%%ebx,%%esi),%%al\n \
    adcl    _gploc_2C,%%edx\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%eax),%%al\n \
    popl    %%ebx\n \
    adcb    _gploc_28,%%bh\n \
    movb    %%al,0x0E(%%edi)\n \
\n \
loc_782480:         # 3DF4\n \
    movb    %%ch,%%ah\n \
    movb    %%dl,%%bl\n \
    addl    %%ebp,%%ecx\n \
    movb    (%%ebx,%%esi),%%al\n \
    adcl    _gploc_2C,%%edx\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%eax),%%al\n \
    popl    %%ebx\n \
    adcb    _gploc_28,%%bh\n \
    movb    %%al,0x0F(%%edi)\n \
    addl    $0x10,%%edi\n \
    subl $0x10,_gploc_D4\n \
    jg  loc_7822A1\n \
\n \
loc_7824B1:         # 236B\n \
    movl    _gploc_FC,%%eax\n \
    movl    _gploc_F8,%%ebp\n \
    movl    _gploc_F4,%%edi\n \
    movl    _gploc_74,%%esi\n \
    addl    _gploc_12C,%%eax\n \
    addl    _gploc_128,%%ebp\n \
    movl    _gploc_E0,%%ecx\n \
    movl    _gploc_E4,%%ebx\n \
    movl    _gploc_D8,%%edx\n \
    addb    _gploc_60,%%bl\n \
    adcl    _gploc_CC,%%ecx\n \
    adcl    _gploc_C4,%%edx\n \
    adcb    _gploc_C8,%%bh\n \
    addl    _gploc_104,%%edi\n \
    decl _gploc_C0\n \
    jz  loc_782618\n \
\n \
loc_782520:         # 20AC\n \
# draw_gpoly_+2414 ...\n \
    movl    %%eax,_gploc_FC\n \
    movl    %%ebp,_gploc_F8\n \
    movl    %%edi,_gploc_F4\n \
    sarl    $0x10,%%eax\n \
    movl    _gploc_F4,%%edi\n \
    movl    %%ecx,_gploc_E0\n \
    movl    %%ebx,_gploc_E4\n \
    movl    %%edx,_gploc_D8\n \
    sarl    $0x10,%%ebp\n \
    addl    %%eax,%%edi\n \
    subl    %%eax,%%ebp\n \
    jle loc_7824B1\n \
    movl    %%ebp,%%eax\n \
    andl    $0x0F,%%eax\n \
    addl    _gpoly_countdown(,%%eax,4),%%edi\n \
    movl    %%ebp,_gploc_D4\n \
    movl    _gploc_5C,%%ebp\n \
    movl    _LOC_vec_map,%%esi\n \
    jmp   *off_783FE0(,%%eax,4)\n \
# ---------------------------------------------------------------------------\n \
\n \
loc_782590:         # 209\n \
    addb    _gploc_60,%%bl\n \
    adcl    _gploc_CC,%%ecx\n \
    adcl    _gploc_C4,%%edx\n \
    adcb    _gploc_C8,%%bh\n \
    movl    %%eax,_gploc_FC\n \
    sarl    $0x10,%%eax\n \
    subl    %%eax,_gploc_74\n \
    movl    _gploc_FC,%%eax\n \
    addl    _gploc_12C,%%eax\n \
    addl    _gploc_128,%%ebp\n \
    movl    %%eax,_gploc_FC\n \
    sarl    $0x10,%%eax\n \
    addl    %%eax,_gploc_74\n \
    movl    _gploc_FC,%%eax\n \
    addl    _gploc_104,%%edi\n \
    decl _gploc_C0\n \
    jz  loc_782610\n \
    incl    %%esi\n \
    js  loc_782590\n \
    movl    _gploc_74,%%esi\n \
    jmp loc_782520\n \
# ---------------------------------------------------------------------------\n \
\n \
loc_782610:         # 2408\n \
    movl    _gploc_74,%%esi\n \
    nop \n \
\n \
loc_782618:         # 2093\n \
    decl _gploc_180\n \
    jz  locret5b\n \
    movl    %%eax,_gploc_FC\n \
    movl    _factor_chk,%%eax\n \
    orl %%eax,%%eax\n \
    js  loc_7826D0\n \
    movl    _factor_cb,%%eax\n \
    movl    %%eax,_gploc_12C\n \
    movl    _gploc_1A0,%%eax\n \
    movl    %%eax,_gploc_60\n \
    movl    _gploc_98,%%eax\n \
    movl    %%eax,_gploc_CC\n \
    movl    _gploc_94,%%eax\n \
    movl    %%eax,_gploc_C4\n \
    movl    _gploc_90,%%eax\n \
    movl    %%eax,_gploc_C8\n \
    movl    _gploc_80,%%ecx\n \
    movl    _gploc_7C,%%edx\n \
    movl    _gploc_78,%%ebx\n \
    movl    _gploc_pt_cy,%%eax\n \
    cmpl    _LOC_vec_window_height,%%eax\n \
    jle loc_78269B\n \
    movl    _LOC_vec_window_height,%%eax\n \
\n \
loc_78269B:         # 24A\n \
    subl    _gploc_pt_by,%%eax\n \
    movl    %%eax,_gploc_C0\n \
    movl    _gploc_pt_bx,%%eax\n \
    movl    %%eax,_gploc_74\n \
    movl    _gploc_pt_shbx,%%eax\n \
    jle locret5b\n \
    movl    _gploc_pt_by,%%esi\n \
    orl %%esi,%%esi\n \
    js  loc_782590\n \
    movl    _gploc_pt_bx,%%esi\n \
    jmp loc_782520\n \
# ---------------------------------------------------------------------------\n \
\n \
loc_7826D0:         # 243\n \
    movl    _factor_cb,%%ebp\n \
    movl    %%ebp,_gploc_128\n \
    movl    _gploc_pt_shbx,%%ebp\n \
    movl    _gploc_pt_cy,%%eax\n \
    cmpl    _LOC_vec_window_height,%%eax\n \
    jle loc_7826F0\n \
    movl    _LOC_vec_window_height,%%eax\n \
\n \
loc_7826F0:         # 24F\n \
    subl    _gploc_pt_by,%%eax\n \
    movl    %%eax,_gploc_C0\n \
    movl    _gploc_FC,%%eax\n \
    jle locret5b\n \
    movl    %%esi,_gploc_74\n \
    movl    _gploc_pt_by,%%esi\n \
    orl %%esi,%%esi\n \
    js  loc_782590\n \
    movl    _gploc_74,%%esi\n \
    jmp loc_782520\n \
\n \
off_783FE0:\n \
    .int    loc_7822A1\n \
    .int    loc_782480\n \
    .int    loc_782460\n \
    .int    loc_782440\n \
    .int    loc_782420\n \
    .int    loc_782400\n \
    .int    loc_7823E0\n \
    .int    loc_7823C0\n \
    .int    loc_7823A0\n \
    .int    loc_782380\n \
    .int    loc_782360\n \
    .int    loc_782340\n \
    .int    loc_782320\n \
    .int    loc_782300\n \
    .int    loc_7822E0\n \
    .int    loc_7822C0\n \
\n \
locret5b:\n \
    popa    \n \
" : : : "memory", "cc");
#endif
}

void draw_gpoly_sub13()
{
#if __GNUC__
    asm volatile (" \
    pusha   \n \
    xorl    %%ecx,%%ecx\n \
    movl    _gploc_8C,%%edx\n \
    movl    _gploc_88,%%ebx\n \
    movl    _gploc_pt_ay,%%esi\n \
    movl    _LOC_vec_screen_width,%%edi\n \
    imull   %%esi,%%edi\n \
    addl    _LOC_vec_screen,%%edi\n \
    movl    _gploc_pt_ay,%%eax\n \
    cmpl    _LOC_vec_window_height,%%eax\n \
    jg  locret69a\n \
    movl    _gploc_pt_by,%%eax\n \
    cmpl    _LOC_vec_window_height,%%eax\n \
    jle loc_783508\n \
    movl    _LOC_vec_window_height,%%eax\n \
\n \
loc_783508:         # 331\n \
    subl    _gploc_pt_ay,%%eax\n \
    movl    %%eax,_gploc_C0\n \
    movl    _gploc_pt_ax,%%esi\n \
    movl    %%esi,_gploc_74\n \
    movl    _gploc_pt_shax,%%eax\n \
    movl    %%eax,%%ebp\n \
    jz  loc_783A68\n \
    movl    _gploc_pt_ay,%%esi\n \
    orl %%esi,%%esi\n \
    js  loc_7839E0\n \
    movl    _gploc_74,%%esi\n \
    jmp loc_783899\n \
# ---------------------------------------------------------------------------\n \
\n \
loc_783542:         # 361C\n \
    xorl    %%eax,%%eax\n \
    movb    (%%ecx,%%esi),%%al\n \
    movl    $0x0FF00,%%ecx\n \
    andl    %%edx,%%ecx\n \
    orl %%eax,%%ecx\n \
    xorl    %%eax,%%eax\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%ecx),%%al\n \
    popl    %%ebx\n \
    movl    $0x0FF0000FF,%%ecx\n \
    movb    %%al,(%%edi)\n \
    andl    %%ebx,%%ecx\n \
    addl    %%ebp,%%edx\n \
    adcl    _gploc_2C,%%ebx\n \
    roll    $8,%%ecx\n \
\n \
loc_78356D:         # 3EEC\n \
    xorl    %%eax,%%eax\n \
    movb    (%%ecx,%%esi),%%al\n \
    movl    $0x0FF00,%%ecx\n \
    andl    %%edx,%%ecx\n \
    orl %%eax,%%ecx\n \
    xorl    %%eax,%%eax\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%ecx),%%al\n \
    popl    %%ebx\n \
    movl    $0x0FF0000FF,%%ecx\n \
    movb    %%al,1(%%edi)\n \
    andl    %%ebx,%%ecx\n \
    addl    %%ebp,%%edx\n \
    adcl    _gploc_2C,%%ebx\n \
    roll    $8,%%ecx\n \
\n \
loc_783599:         # 3EE8\n \
    xorl    %%eax,%%eax\n \
    movb    (%%ecx,%%esi),%%al\n \
    movl    $0x0FF00,%%ecx\n \
    andl    %%edx,%%ecx\n \
    orl %%eax,%%ecx\n \
    xorl    %%eax,%%eax\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%ecx),%%al\n \
    popl    %%ebx\n \
    movl    $0x0FF0000FF,%%ecx\n \
    movb    %%al,2(%%edi)\n \
    andl    %%ebx,%%ecx\n \
    addl    %%ebp,%%edx\n \
    adcl    _gploc_2C,%%ebx\n \
    roll    $8,%%ecx\n \
\n \
loc_7835C5:         # 3EE4\n \
    xorl    %%eax,%%eax\n \
    movb    (%%ecx,%%esi),%%al\n \
    movl    $0x0FF00,%%ecx\n \
    andl    %%edx,%%ecx\n \
    orl %%eax,%%ecx\n \
    xorl    %%eax,%%eax\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%ecx),%%al\n \
    popl    %%ebx\n \
    movl    $0x0FF0000FF,%%ecx\n \
    movb    %%al,3(%%edi)\n \
    andl    %%ebx,%%ecx\n \
    addl    %%ebp,%%edx\n \
    adcl    _gploc_2C,%%ebx\n \
    roll    $8,%%ecx\n \
\n \
loc_7835F1:         # 3EE0\n \
    xorl    %%eax,%%eax\n \
    movb    (%%ecx,%%esi),%%al\n \
    movl    $0x0FF00,%%ecx\n \
    andl    %%edx,%%ecx\n \
    orl %%eax,%%ecx\n \
    xorl    %%eax,%%eax\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%ecx),%%al\n \
    popl    %%ebx\n \
    movl    $0x0FF0000FF,%%ecx\n \
    movb    %%al,4(%%edi)\n \
    andl    %%ebx,%%ecx\n \
    addl    %%ebp,%%edx\n \
    adcl    _gploc_2C,%%ebx\n \
    roll    $8,%%ecx\n \
\n \
loc_78361D:         # 3EDC\n \
    xorl    %%eax,%%eax\n \
    movb    (%%ecx,%%esi),%%al\n \
    movl    $0x0FF00,%%ecx\n \
    andl    %%edx,%%ecx\n \
    orl %%eax,%%ecx\n \
    xorl    %%eax,%%eax\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%ecx),%%al\n \
    popl    %%ebx\n \
    movl    $0x0FF0000FF,%%ecx\n \
    movb    %%al,5(%%edi)\n \
    andl    %%ebx,%%ecx\n \
    addl    %%ebp,%%edx\n \
    adcl    _gploc_2C,%%ebx\n \
    roll    $8,%%ecx\n \
\n \
loc_783649:         # 3ED8\n \
    xorl    %%eax,%%eax\n \
    movb    (%%ecx,%%esi),%%al\n \
    movl    $0x0FF00,%%ecx\n \
    andl    %%edx,%%ecx\n \
    orl %%eax,%%ecx\n \
    xorl    %%eax,%%eax\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%ecx),%%al\n \
    popl    %%ebx\n \
    movl    $0x0FF0000FF,%%ecx\n \
    movb    %%al,6(%%edi)\n \
    andl    %%ebx,%%ecx\n \
    addl    %%ebp,%%edx\n \
    adcl    _gploc_2C,%%ebx\n \
    roll    $8,%%ecx\n \
\n \
loc_783675:         # 3ED4\n \
    xorl    %%eax,%%eax\n \
    movb    (%%ecx,%%esi),%%al\n \
    movl    $0x0FF00,%%ecx\n \
    andl    %%edx,%%ecx\n \
    orl %%eax,%%ecx\n \
    xorl    %%eax,%%eax\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%ecx),%%al\n \
    popl    %%ebx\n \
    movl    $0x0FF0000FF,%%ecx\n \
    movb    %%al,7(%%edi)\n \
    andl    %%ebx,%%ecx\n \
    addl    %%ebp,%%edx\n \
    adcl    _gploc_2C,%%ebx\n \
    roll    $8,%%ecx\n \
\n \
loc_7836A1:         # 3ED0\n \
    xorl    %%eax,%%eax\n \
    movb    (%%ecx,%%esi),%%al\n \
    movl    $0x0FF00,%%ecx\n \
    andl    %%edx,%%ecx\n \
    orl %%eax,%%ecx\n \
    xorl    %%eax,%%eax\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%ecx),%%al\n \
    popl    %%ebx\n \
    movl    $0x0FF0000FF,%%ecx\n \
    movb    %%al,8(%%edi)\n \
    andl    %%ebx,%%ecx\n \
    addl    %%ebp,%%edx\n \
    adcl    _gploc_2C,%%ebx\n \
    roll    $8,%%ecx\n \
\n \
loc_7836CD:         # 3ECC\n \
    xorl    %%eax,%%eax\n \
    movb    (%%ecx,%%esi),%%al\n \
    movl    $0x0FF00,%%ecx\n \
    andl    %%edx,%%ecx\n \
    orl %%eax,%%ecx\n \
    xorl    %%eax,%%eax\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%ecx),%%al\n \
    popl    %%ebx\n \
    movl    $0x0FF0000FF,%%ecx\n \
    movb    %%al,9(%%edi)\n \
    andl    %%ebx,%%ecx\n \
    addl    %%ebp,%%edx\n \
    adcl    _gploc_2C,%%ebx\n \
    roll    $8,%%ecx\n \
\n \
loc_7836F9:         # 3EC8\n \
    xorl    %%eax,%%eax\n \
    movb    (%%ecx,%%esi),%%al\n \
    movl    $0x0FF00,%%ecx\n \
    andl    %%edx,%%ecx\n \
    orl %%eax,%%ecx\n \
    xorl    %%eax,%%eax\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%ecx),%%al\n \
    popl    %%ebx\n \
    movl    $0x0FF0000FF,%%ecx\n \
    movb    %%al,0x0A(%%edi)\n \
    andl    %%ebx,%%ecx\n \
    addl    %%ebp,%%edx\n \
    adcl    _gploc_2C,%%ebx\n \
    roll    $8,%%ecx\n \
\n \
loc_783725:         # 3EC4\n \
    xorl    %%eax,%%eax\n \
    movb    (%%ecx,%%esi),%%al\n \
    movl    $0x0FF00,%%ecx\n \
    andl    %%edx,%%ecx\n \
    orl %%eax,%%ecx\n \
    xorl    %%eax,%%eax\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%ecx),%%al\n \
    popl    %%ebx\n \
    movl    $0x0FF0000FF,%%ecx\n \
    movb    %%al,0x0B(%%edi)\n \
    andl    %%ebx,%%ecx\n \
    addl    %%ebp,%%edx\n \
    adcl    _gploc_2C,%%ebx\n \
    roll    $8,%%ecx\n \
\n \
loc_783751:         # 3EC0\n \
    xorl    %%eax,%%eax\n \
    movb    (%%ecx,%%esi),%%al\n \
    movl    $0x0FF00,%%ecx\n \
    andl    %%edx,%%ecx\n \
    orl %%eax,%%ecx\n \
    xorl    %%eax,%%eax\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%ecx),%%al\n \
    popl    %%ebx\n \
    movl    $0x0FF0000FF,%%ecx\n \
    movb    %%al,0x0C(%%edi)\n \
    andl    %%ebx,%%ecx\n \
    addl    %%ebp,%%edx\n \
    adcl    _gploc_2C,%%ebx\n \
    roll    $8,%%ecx\n \
\n \
loc_78377D:         # 3EBC\n \
    xorl    %%eax,%%eax\n \
    movb    (%%ecx,%%esi),%%al\n \
    movl    $0x0FF00,%%ecx\n \
    andl    %%edx,%%ecx\n \
    orl %%eax,%%ecx\n \
    xorl    %%eax,%%eax\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%ecx),%%al\n \
    popl    %%ebx\n \
    movl    $0x0FF0000FF,%%ecx\n \
    movb    %%al,0x0D(%%edi)\n \
    andl    %%ebx,%%ecx\n \
    addl    %%ebp,%%edx\n \
    adcl    _gploc_2C,%%ebx\n \
    roll    $8,%%ecx\n \
\n \
loc_7837A9:         # 3EB8\n \
    xorl    %%eax,%%eax\n \
    movb    (%%ecx,%%esi),%%al\n \
    movl    $0x0FF00,%%ecx\n \
    andl    %%edx,%%ecx\n \
    orl %%eax,%%ecx\n \
    xorl    %%eax,%%eax\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%ecx),%%al\n \
    popl    %%ebx\n \
    movl    $0x0FF0000FF,%%ecx\n \
    movb    %%al,0x0E(%%edi)\n \
    andl    %%ebx,%%ecx\n \
    addl    %%ebp,%%edx\n \
    adcl    _gploc_2C,%%ebx\n \
    roll    $8,%%ecx\n \
\n \
loc_7837D5:         # 3EB4\n \
    xorl    %%eax,%%eax\n \
    movb    (%%ecx,%%esi),%%al\n \
    movl    $0x0FF00,%%ecx\n \
    andl    %%edx,%%ecx\n \
    orl %%eax,%%ecx\n \
    xorl    %%eax,%%eax\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%ecx),%%al\n \
    popl    %%ebx\n \
    movl    $0x0FF0000FF,%%ecx\n \
    movb    %%al,0x0F(%%edi)\n \
    andl    %%ebx,%%ecx\n \
    addl    %%ebp,%%edx\n \
    adcl    _gploc_2C,%%ebx\n \
    roll    $8,%%ecx\n \
    addl    $0x10,%%edi\n \
    subl    $0x10,_gploc_D4\n \
    jg  loc_783542\n \
\n \
loc_783812:         # 370B\n \
    movl    _gploc_FC,%%eax\n \
    movl    _gploc_F8,%%ebp\n \
    movl    _gploc_F4,%%edi\n \
    movl    _gploc_74,%%esi\n \
    sarl    $0x10,%%eax\n \
    subl    %%eax,%%esi\n \
    movl    _gploc_FC,%%eax\n \
    addl    _gploc_12C,%%eax\n \
    addl    _gploc_128,%%ebp\n \
    movl    %%eax,_gploc_FC\n \
    sarl    $0x10,%%eax\n \
    addl    %%eax,%%esi\n \
    movl    _gploc_FC,%%eax\n \
    movl    _gploc_34,%%ecx\n \
    movl    _gploc_D8,%%edx\n \
    movl    _gploc_E4,%%ebx\n \
    addl    _gploc_60,%%ecx\n \
    adcl    _gploc_CC,%%edx\n \
    adcl    _gploc_C4,%%ebx\n \
    addl    _gploc_104,%%edi\n \
    decl _gploc_C0\n \
    jz  loc_783A68\n \
\n \
loc_783899:         # 334D\n \
    movl    %%eax,_gploc_FC\n \
    movl    %%ebp,_gploc_F8\n \
    movl    %%edi,_gploc_F4\n \
    sarl    $0x10,%%eax\n \
    js  loc_783980\n \
    cmpl    %%esi,%%eax\n \
    jg  loc_783940\n \
    jl  loc_783960\n \
\n \
loc_7838C5:         # 3768\n \
    movl    %%esi,_gploc_74\n \
    movl    _gploc_F4,%%edi\n \
    movl    %%ecx,_gploc_34\n \
    movl    %%edx,_gploc_D8\n \
    movl    %%ebx,_gploc_E4\n \
    sarl    $0x10,%%ebp\n \
    cmpl    _LOC_vec_window_width,%%ebp\n \
    jg  loc_7839D0\n \
\n \
loc_7838F7:         # 37E6\n \
    addl    %%esi,%%edi\n \
    subl    %%esi,%%ebp\n \
    jle loc_783812\n \
    movl    %%ebp,%%eax\n \
    andl    $0x0F,%%eax\n \
    addl    _gpoly_countdown(,%%eax,4),%%edi\n \
    movl    %%ebp,_gploc_D4\n \
    movl    $0x0FF0000FF,%%ecx\n \
    andl    %%ebx,%%ecx\n \
    roll    $8,%%ecx\n \
    movl    _LOC_vec_map,%%esi\n \
    movl    _gploc_5C,%%ebp\n \
    jmp     *off_7840A0(,%%eax,4)\n \
# ---------------------------------------------------------------------------\n \
\n \
loc_783940:         # 36C\n \
    addl    _gploc_30,%%ecx\n \
    adcl    _gploc_BC,%%edx\n \
    adcl    _gploc_B8,%%ebx\n \
    incl    %%esi\n \
    cmpl    %%esi,%%eax\n \
    jle loc_7838C5\n \
    jmp loc_783940\n \
# ---------------------------------------------------------------------------\n \
\n \
loc_783960:         # 36C\n \
    subl    _gploc_30,%%ecx\n \
    sbbl    _gploc_BC,%%edx\n \
    sbbl    _gploc_B8,%%ebx\n \
    decl    %%esi\n \
    cmpl    %%esi,%%eax\n \
    jge loc_7838C5\n \
    jmp loc_783960\n \
# ---------------------------------------------------------------------------\n \
\n \
loc_783980:         # 36C\n \
    orl %%esi,%%esi\n \
    jz  loc_7838C5\n \
    js  loc_783990\n \
    jmp loc_7839B0\n \
# ---------------------------------------------------------------------------\n \
\n \
loc_783990:         # 3798\n \
    addl    _gploc_30,%%ecx\n \
    adcl    _gploc_BC,%%edx\n \
    adcl    _gploc_B8,%%ebx\n \
    incl    %%esi\n \
    jz  loc_7838C5\n \
    jmp loc_783990\n \
# ---------------------------------------------------------------------------\n \
\n \
loc_7839B0:         # 379A\n \
    subl    _gploc_30,%%ecx\n \
    sbbl    _gploc_BC,%%edx\n \
    sbbl    _gploc_B8,%%ebx\n \
    decl    %%esi\n \
    jz  loc_7838C5\n \
    jmp loc_7839B0\n \
# ---------------------------------------------------------------------------\n \
\n \
loc_7839D0:         # 370\n \
    movl    _LOC_vec_window_width,%%ebp\n \
    jmp loc_7838F7\n \
# ---------------------------------------------------------------------------\n \
\n \
loc_7839E0:         # 3340\n \
    addl    _gploc_60,%%ecx\n \
    adcl    _gploc_CC,%%edx\n \
    adcl    _gploc_C4,%%ebx\n \
    movl    %%eax,_gploc_FC\n \
    sarl    $0x10,%%eax\n \
    subl    %%eax,_gploc_74\n \
    movl    _gploc_FC,%%eax\n \
    addl    _gploc_12C,%%eax\n \
    addl    _gploc_128,%%ebp\n \
    movl    %%eax,_gploc_FC\n \
    sarl    $0x10,%%eax\n \
    addl    %%eax,_gploc_74\n \
    movl    _gploc_FC,%%eax\n \
    addl    _gploc_104,%%edi\n \
    decl _gploc_C0\n \
    jz  loc_783A60\n \
    incl    %%esi\n \
    js  loc_7839E0\n \
    movl    _gploc_74,%%esi\n \
    jmp loc_783899\n \
# ---------------------------------------------------------------------------\n \
\
\n \
loc_783A60:         # 385\n \
    movl    _gploc_74,%%esi\n \
    nop \n \
\n \
loc_783A68:         # 333\n \
    decl _gploc_180\n \
    jz  locret69a\n \
    movl    %%eax,_gploc_FC\n \
    movl    _factor_chk,%%eax\n \
    orl %%eax,%%eax\n \
    js  loc_783B10\n \
    movl    _factor_cb,%%eax\n \
    movl    %%eax,_gploc_12C\n \
    movl    _gploc_64,%%eax\n \
    movl    %%eax,_gploc_60\n \
    movl    _gploc_98,%%eax\n \
    movl    %%eax,_gploc_CC\n \
    movl    _gploc_94,%%eax\n \
    movl    %%eax,_gploc_C4\n \
    xorl    %%ecx,%%ecx\n \
    movl    _gploc_80,%%edx\n \
    movl    _gploc_7C,%%ebx\n \
    movl    _gploc_pt_cy,%%eax\n \
    cmpl    _LOC_vec_window_height,%%eax\n \
    jle loc_783ADB\n \
    movl    _LOC_vec_window_height,%%eax\n \
\n \
loc_783ADB:         # 38E\n \
    subl    _gploc_pt_by,%%eax\n \
    movl    %%eax,_gploc_C0\n \
    movl    _gploc_pt_bx,%%eax\n \
    movl    %%eax,_gploc_74\n \
    movl    _gploc_pt_shbx,%%eax\n \
    jle locret69a\n \
    movl    _gploc_pt_by,%%esi\n \
    orl %%esi,%%esi\n \
    js  loc_7839E0\n \
    movl    _gploc_pt_bx,%%esi\n \
    jmp loc_783899\n \
# ---------------------------------------------------------------------------\n \
\n \
loc_783B10:         # 388\n \
    movl    _factor_cb,%%ebp\n \
    movl    %%ebp,_gploc_128\n \
    movl    _gploc_pt_shbx,%%ebp\n \
    movl    _gploc_pt_cy,%%eax\n \
    cmpl    _LOC_vec_window_height,%%eax\n \
    jle loc_783B30\n \
    movl    _LOC_vec_window_height,%%eax\n \
\n \
loc_783B30:         # 393\n \
    subl    _gploc_pt_by,%%eax\n \
    movl    %%eax,_gploc_C0\n \
    movl    _gploc_FC,%%eax\n \
    jle locret69a\n \
    movl    %%esi,_gploc_74\n \
    movl    _gploc_pt_by,%%esi\n \
    orl %%esi,%%esi\n \
    js  loc_7839E0\n \
    movl    _gploc_74,%%esi\n \
    jmp loc_783899\n \
\n \
off_7840A0:\n \
    .int    loc_783542\n \
    .int    loc_7837D5\n \
    .int    loc_7837A9\n \
    .int    loc_78377D\n \
    .int    loc_783751\n \
    .int    loc_783725\n \
    .int    loc_7836F9\n \
    .int    loc_7836CD\n \
    .int    loc_7836A1\n \
    .int    loc_783675\n \
    .int    loc_783649\n \
    .int    loc_78361D\n \
    .int    loc_7835F1\n \
    .int    loc_7835C5\n \
    .int    loc_783599\n \
    .int    loc_78356D\n \
\n \
locret69a:\n \
    popa    \n \
" : : : "memory", "cc");
#endif
}

void draw_gpoly_sub14()
{
#if __GNUC__
    asm volatile (" \
    pusha   \n \
    xorl    %%ecx,%%ecx\n \
    movl    _gploc_8C,%%edx\n \
    movl    _gploc_88,%%ebx\n \
    movl    _gploc_pt_ay,%%esi\n \
    movl    _LOC_vec_screen_width,%%edi\n \
    imull   %%esi,%%edi\n \
    addl    _LOC_vec_screen,%%edi\n \
    movl    _gploc_pt_ay,%%eax\n \
    cmpl    _LOC_vec_window_height,%%eax\n \
    jg  locret69b\n \
    movl    _gploc_pt_by,%%eax\n \
    cmpl    _LOC_vec_window_height,%%eax\n \
    jle loc_782EC7\n \
    movl    _LOC_vec_window_height,%%eax\n \
\n \
loc_782EC7:         # 2CD0\n \
    subl    _gploc_pt_ay,%%eax\n \
    movl    %%eax,_gploc_C0\n \
    movl    _gploc_pt_ax,%%esi\n \
    movl    %%esi,_gploc_74\n \
    movl    _gploc_pt_shax,%%eax\n \
    movl    %%eax,%%ebp\n \
    jz  loc_783338\n \
    movl    _gploc_pt_ay,%%esi\n \
    orl %%esi,%%esi\n \
    js  loc_7832B0\n \
    movl    _gploc_74,%%esi\n \
    jmp loc_783239\n \
# ---------------------------------------------------------------------------\n \
\n \
loc_782F01:         # 2FDB\n \
    xorl    %%eax,%%eax\n \
    movb    (%%ecx,%%esi),%%al\n \
    movl    $0x0FF00,%%ecx\n \
    andl    %%edx,%%ecx\n \
    orl %%eax,%%ecx\n \
    xorl    %%eax,%%eax\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%ecx),%%al\n \
    popl    %%ebx\n \
    movl    $0x0FF0000FF,%%ecx\n \
    movb    %%al,(%%edi)\n \
    andl    %%ebx,%%ecx\n \
    addl    %%ebp,%%edx\n \
    adcl    _gploc_2C,%%ebx\n \
    roll    $8,%%ecx\n \
\n \
loc_782F2C:         # 3EAC\n \
    xorl    %%eax,%%eax\n \
    movb    (%%ecx,%%esi),%%al\n \
    movl    $0x0FF00,%%ecx\n \
    andl    %%edx,%%ecx\n \
    orl %%eax,%%ecx\n \
    xorl    %%eax,%%eax\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%ecx),%%al\n \
    popl    %%ebx\n \
    movl    $0x0FF0000FF,%%ecx\n \
    movb    %%al,1(%%edi)\n \
    andl    %%ebx,%%ecx\n \
    addl    %%ebp,%%edx\n \
    adcl    _gploc_2C,%%ebx\n \
    roll    $8,%%ecx\n \
\n \
loc_782F58:         # 3EA8\n \
    xorl    %%eax,%%eax\n \
    movb    (%%ecx,%%esi),%%al\n \
    movl    $0x0FF00,%%ecx\n \
    andl    %%edx,%%ecx\n \
    orl %%eax,%%ecx\n \
    xorl    %%eax,%%eax\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%ecx),%%al\n \
    popl    %%ebx\n \
    movl    $0x0FF0000FF,%%ecx\n \
    movb    %%al,2(%%edi)\n \
    andl    %%ebx,%%ecx\n \
    addl    %%ebp,%%edx\n \
    adcl    _gploc_2C,%%ebx\n \
    roll    $8,%%ecx\n \
\n \
loc_782F84:         # 3EA4\n \
    xorl    %%eax,%%eax\n \
    movb    (%%ecx,%%esi),%%al\n \
    movl    $0x0FF00,%%ecx\n \
    andl    %%edx,%%ecx\n \
    orl %%eax,%%ecx\n \
    xorl    %%eax,%%eax\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%ecx),%%al\n \
    popl    %%ebx\n \
    movl    $0x0FF0000FF,%%ecx\n \
    movb    %%al,3(%%edi)\n \
    andl    %%ebx,%%ecx\n \
    addl    %%ebp,%%edx\n \
    adcl    _gploc_2C,%%ebx\n \
    roll    $8,%%ecx\n \
\n \
loc_782FB0:         # 3EA0\n \
    xorl    %%eax,%%eax\n \
    movb    (%%ecx,%%esi),%%al\n \
    movl    $0x0FF00,%%ecx\n \
    andl    %%edx,%%ecx\n \
    orl %%eax,%%ecx\n \
    xorl    %%eax,%%eax\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%ecx),%%al\n \
    popl    %%ebx\n \
    movl    $0x0FF0000FF,%%ecx\n \
    movb    %%al,4(%%edi)\n \
    andl    %%ebx,%%ecx\n \
    addl    %%ebp,%%edx\n \
    adcl    _gploc_2C,%%ebx\n \
    roll    $8,%%ecx\n \
\n \
loc_782FDC:         # 3E9C\n \
    xorl    %%eax,%%eax\n \
    movb    (%%ecx,%%esi),%%al\n \
    movl    $0x0FF00,%%ecx\n \
    andl    %%edx,%%ecx\n \
    orl %%eax,%%ecx\n \
    xorl    %%eax,%%eax\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%ecx),%%al\n \
    popl    %%ebx\n \
    movl    $0x0FF0000FF,%%ecx\n \
    movb    %%al,5(%%edi)\n \
    andl    %%ebx,%%ecx\n \
    addl    %%ebp,%%edx\n \
    adcl    _gploc_2C,%%ebx\n \
    roll    $8,%%ecx\n \
\n \
loc_783008:         # 3E98\n \
    xorl    %%eax,%%eax\n \
    movb    (%%ecx,%%esi),%%al\n \
    movl    $0x0FF00,%%ecx\n \
    andl    %%edx,%%ecx\n \
    orl %%eax,%%ecx\n \
    xorl    %%eax,%%eax\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%ecx),%%al\n \
    popl    %%ebx\n \
    movl    $0x0FF0000FF,%%ecx\n \
    movb    %%al,6(%%edi)\n \
    andl    %%ebx,%%ecx\n \
    addl    %%ebp,%%edx\n \
    adcl    _gploc_2C,%%ebx\n \
    roll    $8,%%ecx\n \
\n \
loc_783034:         # 3E94\n \
    xorl    %%eax,%%eax\n \
    movb    (%%ecx,%%esi),%%al\n \
    movl    $0x0FF00,%%ecx\n \
    andl    %%edx,%%ecx\n \
    orl %%eax,%%ecx\n \
    xorl    %%eax,%%eax\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%ecx),%%al\n \
    popl    %%ebx\n \
    movl    $0x0FF0000FF,%%ecx\n \
    movb    %%al,7(%%edi)\n \
    andl    %%ebx,%%ecx\n \
    addl    %%ebp,%%edx\n \
    adcl    _gploc_2C,%%ebx\n \
    roll    $8,%%ecx\n \
\n \
loc_783060:         # 3E90\n \
    xorl    %%eax,%%eax\n \
    movb    (%%ecx,%%esi),%%al\n \
    movl    $0x0FF00,%%ecx\n \
    andl    %%edx,%%ecx\n \
    orl     %%eax,%%ecx\n \
    xorl    %%eax,%%eax\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%ecx),%%al\n \
    popl    %%ebx\n \
    movl    $0x0FF0000FF,%%ecx\n \
    movb    %%al,8(%%edi)\n \
    andl    %%ebx,%%ecx\n \
    addl    %%ebp,%%edx\n \
    adcl    _gploc_2C,%%ebx\n \
    roll    $8,%%ecx\n \
\n \
loc_78308C:         # 3E8C\n \
    xorl    %%eax,%%eax\n \
    movb    (%%ecx,%%esi),%%al\n \
    movl    $0x0FF00,%%ecx\n \
    andl    %%edx,%%ecx\n \
    orl %%eax,%%ecx\n \
    xorl    %%eax,%%eax\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%ecx),%%al\n \
    popl    %%ebx\n \
    movl    $0x0FF0000FF,%%ecx\n \
    movb    %%al,9(%%edi)\n \
    andl    %%ebx,%%ecx\n \
    addl    %%ebp,%%edx\n \
    adcl    _gploc_2C,%%ebx\n \
    roll    $8,%%ecx\n \
\n \
loc_7830B8:         # 3E88\n \
    xorl    %%eax,%%eax\n \
    movb    (%%ecx,%%esi),%%al\n \
    movl    $0x0FF00,%%ecx\n \
    andl    %%edx,%%ecx\n \
    orl %%eax,%%ecx\n \
    xorl    %%eax,%%eax\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%ecx),%%al\n \
    popl    %%ebx\n \
    movl    $0x0FF0000FF,%%ecx\n \
    movb    %%al,0x0A(%%edi)\n \
    andl    %%ebx,%%ecx\n \
    addl    %%ebp,%%edx\n \
    adcl    _gploc_2C,%%ebx\n \
    roll    $8,%%ecx\n \
\n \
loc_7830E4:         # 3E84\n \
    xorl    %%eax,%%eax\n \
    movb    (%%ecx,%%esi),%%al\n \
    movl    $0x0FF00,%%ecx\n \
    andl    %%edx,%%ecx\n \
    orl %%eax,%%ecx\n \
    xorl    %%eax,%%eax\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%ecx),%%al\n \
    popl    %%ebx\n \
    movl    $0x0FF0000FF,%%ecx\n \
    movb    %%al,0x0B(%%edi)\n \
    andl    %%ebx,%%ecx\n \
    addl    %%ebp,%%edx\n \
    adcl    _gploc_2C,%%ebx\n \
    roll    $8,%%ecx\n \
\n \
loc_783110:         # 3E80\n \
    xorl    %%eax,%%eax\n \
    movb    (%%ecx,%%esi),%%al\n \
    movl    $0x0FF00,%%ecx\n \
    andl    %%edx,%%ecx\n \
    orl %%eax,%%ecx\n \
    xorl    %%eax,%%eax\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%ecx),%%al\n \
    popl    %%ebx\n \
    movl    $0x0FF0000FF,%%ecx\n \
    movb    %%al,0x0C(%%edi)\n \
    andl    %%ebx,%%ecx\n \
    addl    %%ebp,%%edx\n \
    adcl    _gploc_2C,%%ebx\n \
    roll    $8,%%ecx\n \
\n \
loc_78313C:         # 3E7C\n \
    xorl    %%eax,%%eax\n \
    movb    (%%ecx,%%esi),%%al\n \
    movl    $0x0FF00,%%ecx\n \
    andl    %%edx,%%ecx\n \
    orl %%eax,%%ecx\n \
    xorl    %%eax,%%eax\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%ecx),%%al\n \
    popl    %%ebx\n \
    movl    $0x0FF0000FF,%%ecx\n \
    movb    %%al,0x0D(%%edi)\n \
    andl    %%ebx,%%ecx\n \
    addl    %%ebp,%%edx\n \
    adcl    _gploc_2C,%%ebx\n \
    roll    $8,%%ecx\n \
\n \
loc_783168:         # 3E78\n \
    xorl    %%eax,%%eax\n \
    movb    (%%ecx,%%esi),%%al\n \
    movl    $0x0FF00,%%ecx\n \
    andl    %%edx,%%ecx\n \
    orl     %%eax,%%ecx\n \
    xorl    %%eax,%%eax\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%ecx),%%al\n \
    popl    %%ebx\n \
    movl    $0x0FF0000FF,%%ecx\n \
    movb    %%al,0x0E(%%edi)\n \
    andl    %%ebx,%%ecx\n \
    addl    %%ebp,%%edx\n \
    adcl    _gploc_2C,%%ebx\n \
    roll    $8,%%ecx\n \
\n \
loc_783194:         # 3E74\n \
    xorl    %%eax,%%eax\n \
    movb    (%%ecx,%%esi),%%al\n \
    movl    $0x0FF00,%%ecx\n \
    andl    %%edx,%%ecx\n \
    orl %%eax,%%ecx\n \
    xorl    %%eax,%%eax\n \
    pushl   %%ebx\n \
    movl    _render_fade_tables,%%ebx\n \
    movb    (%%ebx,%%ecx),%%al\n \
    popl    %%ebx\n \
    movl    $0x0FF0000FF,%%ecx\n \
    movb    %%al,0x0F(%%edi)\n \
    andl    %%ebx,%%ecx\n \
    addl    %%ebp,%%edx\n \
    adcl    _gploc_2C,%%ebx\n \
    roll    $8,%%ecx\n \
    addl    $0x10,%%edi\n \
    subl $0x10,_gploc_D4\n \
    jg  loc_782F01\n \
\n \
loc_7831D1:         # 3084\n \
    movl    _gploc_FC,%%eax\n \
    movl    _gploc_F8,%%ebp\n \
    movl    _gploc_F4,%%edi\n \
    movl    _gploc_74,%%esi\n \
    addl    _gploc_12C,%%eax\n \
    addl    _gploc_128,%%ebp\n \
    movl    _gploc_34,%%ecx\n \
    movl    _gploc_D8,%%edx\n \
    movl    _gploc_E4,%%ebx\n \
    addl    _gploc_60,%%ecx\n \
    adcl    _gploc_CC,%%edx\n \
    adcl    _gploc_C4,%%ebx\n \
    addl    _gploc_104,%%edi\n \
    decl _gploc_C0\n \
    jz  loc_783338\n \
\n \
loc_783239:         # 2D0C\n \
    movl    %%eax,_gploc_FC\n \
    movl    %%ebp,_gploc_F8\n \
    movl    %%edi,_gploc_F4\n \
    sarl    $0x10,%%eax\n \
    movl    _gploc_F4,%%edi\n \
    movl    %%ecx,_gploc_34\n \
    movl    %%edx,_gploc_D8\n \
    movl    %%ebx,_gploc_E4\n \
    sarl    $0x10,%%ebp\n \
    addl    %%eax,%%edi\n \
    subl    %%eax,%%ebp\n \
    jle loc_7831D1\n \
    movl    %%ebp,%%eax\n \
    andl    $0x0F,%%eax\n \
    addl    _gpoly_countdown(,%%eax,4),%%edi\n \
    movl    %%ebp,_gploc_D4\n \
    movl    $0x0FF0000FF,%%ecx\n \
    andl    %%ebx,%%ecx\n \
    roll    $8,%%ecx\n \
    movl    _LOC_vec_map,%%esi\n \
    movl    _gploc_5C,%%ebp\n \
    jmp   *off_784060(,%%eax,4)\n \
# ---------------------------------------------------------------------------\n \
\n \
loc_7832B0:         # 2CF\n \
    addl    _gploc_60,%%ecx\n \
    adcl    _gploc_CC,%%edx\n \
    adcl    _gploc_C4,%%ebx\n \
    movl    %%eax,_gploc_FC\n \
    sarl    $0x10,%%eax\n \
    subl    %%eax,_gploc_74\n \
    movl    _gploc_FC,%%eax\n \
    addl    _gploc_12C,%%eax\n \
    addl    _gploc_128,%%ebp\n \
    movl    %%eax,_gploc_FC\n \
    sarl    $0x10,%%eax\n \
    addl    %%eax,_gploc_74\n \
    movl    _gploc_FC,%%eax\n \
    addl    _gploc_104,%%edi\n \
    decl _gploc_C0\n \
    jz  loc_783330\n \
    incl    %%esi\n \
    js  loc_7832B0\n \
    movl    _gploc_74,%%esi\n \
    jmp loc_783239\n \
# ---------------------------------------------------------------------------\n \
\
\n \
loc_783330:         # 312\n \
    movl    _gploc_74,%%esi\n \
    nop \n \
\n \
loc_783338:         # 2CF3\n \
    decl _gploc_180\n \
    jz  locret69b\n \
    movl    %%eax,_gploc_FC\n \
    movl    _factor_chk,%%eax\n \
    orl %%eax,%%eax\n \
    js  loc_7833E0\n \
    movl    _factor_cb,%%eax\n \
    movl    %%eax,_gploc_12C\n \
    movl    _gploc_64,%%eax\n \
    movl    %%eax,_gploc_60\n \
    movl    _gploc_98,%%eax\n \
    movl    %%eax,_gploc_CC\n \
    movl    _gploc_94,%%eax\n \
    movl    %%eax,_gploc_C4\n \
    xorl    %%ecx,%%ecx\n \
    movl    _gploc_80,%%edx\n \
    movl    _gploc_7C,%%ebx\n \
    movl    _gploc_pt_cy,%%eax\n \
    cmpl    _LOC_vec_window_height,%%eax\n \
    jle loc_7833AB\n \
    movl    _LOC_vec_window_height,%%eax\n \
\n \
loc_7833AB:         # 31B\n \
    subl    _gploc_pt_by,%%eax\n \
    movl    %%eax,_gploc_C0\n \
    movl    _gploc_pt_bx,%%eax\n \
    movl    %%eax,_gploc_74\n \
    movl    _gploc_pt_shbx,%%eax\n \
    jle locret69b\n \
    movl    _gploc_pt_by,%%esi\n \
    orl %%esi,%%esi\n \
    js  loc_7832B0\n \
    movl    _gploc_pt_bx,%%esi\n \
    jmp loc_783239\n \
# ---------------------------------------------------------------------------\n \
\n \
loc_7833E0:         # 315\n \
    movl    _factor_cb,%%ebp\n \
    movl    %%ebp,_gploc_128\n \
    movl    _gploc_pt_shbx,%%ebp\n \
    movl    _gploc_pt_cy,%%eax\n \
    cmpl    _LOC_vec_window_height,%%eax\n \
    jle loc_783400\n \
    movl    _LOC_vec_window_height,%%eax\n \
\n \
loc_783400:         # 320\n \
    subl    _gploc_pt_by,%%eax\n \
    movl    %%eax,_gploc_C0\n \
    movl    _gploc_FC,%%eax\n \
    jle locret69b\n \
    movl    %%esi,_gploc_74\n \
    movl    _gploc_pt_by,%%esi\n \
    orl %%esi,%%esi\n \
    js  loc_7832B0\n \
    movl    _gploc_74,%%esi\n \
    jmp loc_783239\n \
\n \
off_784060:\n \
    .int    loc_782F01\n \
    .int    loc_783194\n \
    .int    loc_783168\n \
    .int    loc_78313C\n \
    .int    loc_783110\n \
    .int    loc_7830E4\n \
    .int    loc_7830B8\n \
    .int    loc_78308C\n \
    .int    loc_783060\n \
    .int    loc_783034\n \
    .int    loc_783008\n \
    .int    loc_782FDC\n \
    .int    loc_782FB0\n \
    .int    loc_782F84\n \
    .int    loc_782F58\n \
    .int    loc_782F2C\n \
\n \
locret69b:\n \
    popa    \n \
" : : : "memory", "cc");
#endif
}

/******************************************************************************/
