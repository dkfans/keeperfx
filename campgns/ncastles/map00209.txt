REM ********************************************
REM  Nikolai's Castles campaign for KeeperFX
REM  Script for Level 8, Castle Trinshi
REM   Trinshi is a Maracite expression; "Trin" or
REM   "Trint" (from the name of the musician Trent
REM   Reznor) meaning "broken"; -shi being a suffix
REM   which indicates that the action has
REM   brought the subject to completion, or has
REM   resulted in a pleasing effect.
REM  Version 1.00
REM ********************************************
SET_GENERATE_SPEED(700)

COMPUTER_PLAYER(PLAYER1,1)

MAX_CREATURES(PLAYER0,18)
MAX_CREATURES(PLAYER1,28)

START_MONEY(PLAYER0,10000)
START_MONEY(PLAYER1,10000)

ADD_CREATURE_TO_POOL(BUG,8)
ADD_CREATURE_TO_POOL(FLY,8)
ADD_CREATURE_TO_POOL(SPIDER,8)
ADD_CREATURE_TO_POOL(SORCEROR,4)
ADD_CREATURE_TO_POOL(BILE_DEMON,4)
ADD_CREATURE_TO_POOL(DARK_MISTRESS,4)
ADD_CREATURE_TO_POOL(DRAGON,8)

CREATURE_AVAILABLE(ALL_PLAYERS,SORCEROR,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,BILE_DEMON,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,DARK_MISTRESS,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,BUG,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,FLY,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,SPIDER,1,1)
CREATURE_AVAILABLE(ALL_PLAYERS,DRAGON,1,1)

MAGIC_AVAILABLE(ALL_PLAYERS,POWER_HAND,1,1)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_SLAP,1,1)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_DESTROY_WALLS,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_SIGHT,1,1)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_OBEY,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_CAVE_IN,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_HEAL_CREATURE,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_LIGHTNING,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_SPEED,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_PROTECT,1,0)
MAGIC_AVAILABLE(ALL_PLAYERS,POWER_CONCEAL,1,0)

ROOM_AVAILABLE(ALL_PLAYERS,LAIR,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,GARDEN,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,TRAINING,1,0)
ROOM_AVAILABLE(ALL_PLAYERS,RESEARCH,1,1)
ROOM_AVAILABLE(ALL_PLAYERS,BRIDGE,1,0)
ROOM_AVAILABLE(ALL_PLAYERS,WORKSHOP,1,0)
ROOM_AVAILABLE(ALL_PLAYERS,PRISON,1,0)
ROOM_AVAILABLE(ALL_PLAYERS,TORTURE,1,0)
ROOM_AVAILABLE(ALL_PLAYERS,TEMPLE,1,0)

TRAP_AVAILABLE(ALL_PLAYERS,LIGHTNING,1,0)

CREATE_PARTY(ALPHA)
    ADD_TO_PARTY(ALPHA,MONK,8,9900,STEAL_GOLD,0)
    ADD_TO_PARTY(ALPHA,MONK,8,9900,STEAL_GOLD,0)
    ADD_TO_PARTY(ALPHA,MONK,8,9900,STEAL_GOLD,0)
    ADD_TO_PARTY(ALPHA,MONK,8,9900,STEAL_GOLD,0)
    ADD_TO_PARTY(ALPHA,MONK,8,9900,STEAL_GOLD,0)

SET_TIMER(PLAYER0,TIMER1)

REM QUICK_OBJECTIVE(1,"This castle has stood for thousands of years, repelling all assaults. It's about time someone changed that, don't you agree?",ALL_PLAYERS)
DISPLAY_OBJECTIVE(18,ALL_PLAYERS)

IF(PLAYER0,BATTLES_WON >= 7)
    REM QUICK_INFORMATION(1,"I think you could have handled that with a little more finesse. Perhaps Quake is more your style. You know, the ham-fisted kind of URRRRGH KILL KILL KILL.")
    DISPLAY_INFORMATION(19,ALL_PLAYERS)
ENDIF

IF(PLAYER0,BATTLES_WON >= 33)
    REM QUICK_INFORMATION(2,"You're enjoying this, arent you? You sadistic thug! People like you should be kept in bamboo cages and poked with sharpened sticks!")
    DISPLAY_INFORMATION(20,ALL_PLAYERS)
ENDIF

IF(PLAYER0,TIMER1 >= 10000)
    REM QUICK_INFORMATION(3,"Are you entirely sure you know what you're doing? Perhaps some kind of strategy or plan... you do have a plan, don't you, Keeper?")
    DISPLAY_INFORMATION(21,ALL_PLAYERS)
ENDIF

IF(PLAYER0,TIMER1 >= 20000)
    REM QUICK_INFORMATION(4,"This all looks rather daunting, doesn't it? There's no shame in running away with your tail between your legs and cowering under the bed like a level one Imp, you know.")
    DISPLAY_INFORMATION(22,ALL_PLAYERS)
ENDIF

IF(PLAYER0,MONEY > 80000)
    REM QUICK_INFORMATION(5,"Er, Keeper? There's some Monks here to see you about last year's Tax Return. I think they want money.")
    DISPLAY_INFORMATION(23,ALL_PLAYERS)
    ADD_PARTY_TO_LEVEL(PLAYER_GOOD,ALPHA,1,3)
ENDIF

IF(PLAYER0,TIMER1 >= 30000)
    REM QUICK_INFORMATION(6,"My, you're a very model of stubborn persistence, aren't you? Never mind; I'm sure a huge swaft of heroes will be along at any moment to kick your nasty behind all the way to Seattle. Wherever that is.")
    DISPLAY_INFORMATION(24,ALL_PLAYERS)
ENDIF

IF(PLAYER0,ALL_DUNGEONS_DESTROYED == 1)
    WIN_GAME
ENDIF
