/******************************************************************************/
// Bullfrog Engine Emulation Library - for use to remake classic games like
// Syndicate Wars, Magic Carpet or Dungeon Keeper.
/******************************************************************************/
/** @file bflib_render_gpoly.c
 *     Rendering function draw_gpoly() for drawing 3D view elements.
 * @par Purpose:
 *     Function for rendering 3D elements.
 * @par Comment:
 *     Go away from here, you bad optimizer! Do not compile this with optimizations.
 * @author   Tomasz Lis
 * @date     20 Mar 2009 - 14 Feb 2010
 * @par  Copying and copyrights:
 *     This program is free software; you can redistribute it and/or modify
 *     it under the terms of the GNU General Public License as published by
 *     the Free Software Foundation; either version 2 of the License, or
 *     (at your option) any later version.
 */
/******************************************************************************/
#include "pre_inc.h"
#include "bflib_render.h"
#include "globals.h"
#include "bflib_basics.h"
#include "bflib_memory.h"
#include "bflib_video.h"
#include "bflib_sprite.h"
#include "bflib_vidraw.h"
#include "vidmode.h"
#include "post_inc.h"

namespace {

long gpoly_countdown[] = { 0,-15,-14,-13,-12,-11,-10, -9,  -8, -7, -6, -5, -4, -3, -2, -1 };

long gpoly_reptable[] = {
         0x0,0x7FFFFFFF,0x3FFFFFFF,0x2AAAAAAA,0x1FFFFFFF,0x19999999,0x15555555,0x12492492,
  0x0FFFFFFF,0x0E38E38E,0x0CCCCCCC,0x0BA2E8BA,0x0AAAAAAA, 0x9D89D89, 0x9249249, 0x8888888,
   0x7FFFFFF, 0x7878787, 0x71C71C7, 0x6BCA1AF, 0x6666666, 0x6186186, 0x5D1745D, 0x590B216,
   0x5555555, 0x51EB851, 0x4EC4EC4, 0x4BDA12F, 0x4924924, 0x469EE58, 0x4444444, 0x4210842,
   0x3FFFFFF, 0x3E0F83E, 0x3C3C3C3, 0x3A83A83, 0x38E38E3, 0x3759F22, 0x35E50D7, 0x3483483,
   0x3333333, 0x31F3831, 0x30C30C3, 0x2FA0BE8, 0x2E8BA2E, 0x2D82D82, 0x2C8590B, 0x2B93105,
   0x2AAAAAA, 0x29CBC14, 0x28F5C28, 0x2828282, 0x2762762, 0x26A439F, 0x25ED097, 0x253C825,
   0x2492492, 0x23EE08F, 0x234F72C, 0x22B63CB, 0x2222222, 0x2192E29, 0x2108421, 0x2082082,
   0x1FFFFFF, 0x1F81F81, 0x1F07C1F, 0x1E9131A, 0x1E1E1E1, 0x1DAE607, 0x1D41D41, 0x1CD8568,
   0x1C71C71, 0x1C0E070, 0x1BACF91, 0x1B4E81B, 0x1AF286B, 0x1A98EF6, 0x1A41A41, 0x19EC8E9,
   0x1999999, 0x1948B0F, 0x18F9C18, 0x18ACB90, 0x1861861, 0x1818181, 0x17D05F4, 0x178A4C8,
   0x1745D17, 0x1702E05, 0x16C16C1, 0x1681681, 0x1642C85, 0x1605816, 0x15C9882, 0x158ED23,
   0x1555555, 0x151D07E, 0x14E5E0A, 0x14AFD6A, 0x147AE14, 0x1446F86, 0x1414141, 0x13E22CB,
   0x13B13B1, 0x1381381, 0x13521CF, 0x1323E34, 0x12F684B, 0x12C9FB4, 0x129E412, 0x127350B,
   0x1249249, 0x121FB78, 0x11F7047, 0x11CF06A, 0x11A7B96, 0x1181181, 0x115B1E5, 0x1135C81,
   0x1111111, 0x10ECF56, 0x10C9714, 0x10A6810, 0x1084210, 0x10624DD, 0x1041041, 0x1020408,
   0x0FFFFFF, 0x0FE03F8, 0x0FC0FC0, 0x0FA232C, 0x0F83E0F, 0x0F6603D, 0x0F4898D, 0x0F2B9D6,
   0x0F0F0F0, 0x0EF2EB7, 0x0ED7303, 0x0EBBDB2, 0x0EA0EA0, 0x0E865AC, 0x0E6C2B4, 0x0E52598,
   0x0E38E38, 0x0E1FC78, 0x0E07038, 0x0DEE95C, 0x0DD67C8, 0x0DBEB61, 0x0DA740D, 0x0D901B2,
   0x0D79435, 0x0D62B80, 0x0D4C77B, 0x0D3680D, 0x0D20D20, 0x0D0B69F, 0x0CF6474, 0x0CE168A,
   0x0CCCCCC, 0x0CB8727, 0x0CA4587, 0x0C907DA, 0x0C7CE0C, 0x0C6980C, 0x0C565C8, 0x0C4372F,
   0x0C30C30, 0x0C1E4BB, 0x0C0C0C0, 0x0BFA02F, 0x0BE82FA, 0x0BD6910, 0x0BC5264, 0x0BB3EE7,
   0x0BA2E8B, 0x0B92143, 0x0B81702, 0x0B70FBB, 0x0B60B60, 0x0B509E6, 0x0B40B40, 0x0B30F63,
   0x0B21642, 0x0B11FD3, 0x0B02C0B, 0x0AF3ADD, 0x0AE4C41, 0x0AD602B, 0x0AC7691, 0x0AB8F69,
   0x0AAAAAA, 0x0A9C84A, 0x0A8E83F, 0x0A80A80, 0x0A72F05, 0x0A655C4, 0x0A57EB5, 0x0A4A9CF,
   0x0A3D70A, 0x0A3065E, 0x0A237C3, 0x0A16B31, 0x0A0A0A0, 0x09FD809, 0x09F1165, 0x09E4CAD,
   0x09D89D8, 0x09CC8E1, 0x09C09C0, 0x09B4C6F, 0x09A90E7, 0x099D722, 0x0991F1A, 0x09868C8,
   0x097B425, 0x097012E, 0x0964FDA, 0x095A025, 0x094F209, 0x0944580, 0x0939A85, 0x092F113,
   0x0924924, 0x091A2B3, 0x090FDBC, 0x0905A38, 0x08FB823, 0x08F1779, 0x08E7835, 0x08DDA52,
   0x08D3DCB, 0x08CA29C, 0x08C08C0, 0x08B7034, 0x08AD8F2, 0x08A42F8, 0x089AE40, 0x0891AC7,
   0x0888888, 0x087F780, 0x08767AB, 0x086D905, 0x0864B8A, 0x085BF37, 0x0853408, 0x084A9F9,
   0x0842108, 0x0839930, 0x083126E, 0x0828CBF, 0x0820820, 0x081848D, 0x0810204, 0x0808080,
         0x0,       0x0 };

long gpoly_divtable[] = {
   -8388607,-8388607,-8388607,-8388607,-8388607,-8388607,-8388607,-8388607,
    -8388607,-8388607,-8388607,-8388607,-8388607,-8388607,-8388607,-8388607,
    -8388607,-8388607,-8388607,-8388607,-8388607,-8388607,-8388607,-8388607,
    -8388607,-8388607,-8388607,-8388607,-8388607,-8388607,-8388607,-8388607,
           0, 8388607, 8388607, 8388607, 8388607, 8388607, 8388607, 8388607,
     8388607, 8388607, 8388607, 8388607, 8388607, 8388607, 8388607, 8388607,
     8388607, 8388607, 8388607, 8388607, 8388607, 8388607, 8388607, 8388607,
     8388607, 8388607, 8388607, 8388607, 8388607, 8388607, 8388607, 8388607,
    -2097152,-2031616,-1966080,-1900544,-1835008,-1769472,-1703936,-1638400,
    -1572864,-1507328,-1441792,-1376256,-1310720,-1245184,-1179648,-1114112,
    -1048576, -983040, -917504, -851968, -786432, -720896, -655360, -589824,
     -524288, -458752, -393216, -327680, -262144, -196608, -131072,  -65536,
           0,   65536,  131072,  196608,  262144,  327680,  393216,  458752,
      524288,  589824,  655360,  720896,  786432,  851968,  917504,  983040,
     1048576, 1114112, 1179648, 1245184, 1310720, 1376256, 1441792, 1507328,
     1572864, 1638400, 1703936, 1769472, 1835008, 1900544, 1966080, 2031616,
    -1048576,-1015808, -983040, -950272, -917504, -884736, -851968, -819200,
     -786432, -753664, -720896, -688128, -655360, -622592, -589824, -557056,
     -524288, -491520, -458752, -425984, -393216, -360448, -327680, -294912,
     -262144, -229376, -196608, -163840, -131072,  -98304,  -65536,  -32768,
           0,   32768,   65536,   98304,  131072,  163840,  196608,  229376,
      262144,  294912,  327680,  360448,  393216,  425984,  458752,  491520,
      524288,  557056,  589824,  622592,  655360,  688128,  720896,  753664,
      786432,  819200,  851968,  884736,  917504,  950272,  983040, 1015808,
     -699050, -677205, -655360, -633514, -611669, -589824, -567978, -546133,
     -524288, -502442, -480597, -458752, -436906, -415061, -393216, -371370,
     -349525, -327680, -305834, -283989, -262144, -240298, -218453, -196608,
     -174762, -152917, -131072, -109226,  -87381,  -65536,  -43690,  -21845,
           0,   21845,   43690,   65536,   87381,  109226,  131072,  152917,
      174762,  196608,  218453,  240298,  262144,  283989,  305834,  327680,
      349525,  371370,  393216,  415061,  436906,  458752,  480597,  502442,
      524288,  546133,  567978,  589824,  611669,  633514,  655360,  677205,
     -524288, -507904, -491520, -475136, -458752, -442368, -425984, -409600,
     -393216, -376832, -360448, -344064, -327680, -311296, -294912, -278528,
     -262144, -245760, -229376, -212992, -196608, -180224, -163840, -147456,
     -131072, -114688,  -98304,  -81920,  -65536,  -49152,  -32768,  -16384,
           0,   16384,   32768,   49152,   65536,   81920,   98304,  114688,
      131072,  147456,  163840,  180224,  196608,  212992,  229376,  245760,
      262144,  278528,  294912,  311296,  327680,  344064,  360448,  376832,
      393216,  409600,  425984,  442368,  458752,  475136,  491520,  507904,
     -419430, -406323, -393216, -380108, -367001, -353894, -340787, -327680,
     -314572, -301465, -288358, -275251, -262144, -249036, -235929, -222822,
     -209715, -196608, -183500, -170393, -157286, -144179, -131072, -117964,
     -104857,  -91750,  -78643,  -65536,  -52428,  -39321,  -26214,  -13107,
           0,   13107,   26214,   39321,   52428,   65536,   78643,   91750,
      104857,  117964,  131072,  144179,  157286,  170393,  183500,  196608,
      209715,  222822,  235929,  249036,  262144,  275251,  288358,  301465,
      314572,  327680,  340787,  353894,  367001,  380108,  393216,  406323,
     -349525, -338602, -327680, -316757, -305834, -294912, -283989, -273066,
     -262144, -251221, -240298, -229376, -218453, -207530, -196608, -185685,
     -174762, -163840, -152917, -141994, -131072, -120149, -109226,  -98304,
      -87381,  -76458,  -65536,  -54613,  -43690,  -32768,  -21845,  -10922,
           0,   10922,   21845,   32768,   43690,   54613,   65536,   76458,
       87381,   98304,  109226,  120149,  131072,  141994,  152917,  163840,
      174762,  185685,  196608,  207530,  218453,  229376,  240298,  251221,
      262144,  273066,  283989,  294912,  305834,  316757,  327680,  338602,
     -299593, -290230, -280868, -271506, -262144, -252781, -243419, -234057,
     -224694, -215332, -205970, -196608, -187245, -177883, -168521, -159158,
     -149796, -140434, -131072, -121709, -112347, -102985,  -93622,  -84260,
      -74898,  -65536,  -56173,  -46811,  -37449,  -28086,  -18724,   -9362,
           0,    9362,   18724,   28086,   37449,   46811,   56173,   65536,
       74898,   84260,   93622,  102985,  112347,  121709,  131072,  140434,
      149796,  159158,  168521,  177883,  187245,  196608,  205970,  215332,
      224694,  234057,  243419,  252781,  262144,  271506,  280868,  290230,
     -262144, -253952, -245760, -237568, -229376, -221184, -212992, -204800,
     -196608, -188416, -180224, -172032, -163840, -155648, -147456, -139264,
     -131072, -122880, -114688, -106496,  -98304,  -90112,  -81920,  -73728,
      -65536,  -57344,  -49152,  -40960,  -32768,  -24576,  -16384,   -8192,
           0,    8192,   16384,   24576,   32768,   40960,   49152,   57344,
       65536,   73728,   81920,   90112,   98304,  106496,  114688,  122880,
      131072,  139264,  147456,  155648,  163840,  172032,  180224,  188416,
      196608,  204800,  212992,  221184,  229376,  237568,  245760,  253952,
     -233016, -225735, -218453, -211171, -203889, -196608, -189326, -182044,
     -174762, -167480, -160199, -152917, -145635, -138353, -131072, -123790,
     -116508, -109226, -101944,  -94663,  -87381,  -80099,  -72817,  -65536,
      -58254,  -50972,  -43690,  -36408,  -29127,  -21845,  -14563,   -7281,
           0,    7281,   14563,   21845,   29127,   36408,   43690,   50972,
       58254,   65536,   72817,   80099,   87381,   94663,  101944,  109226,
      116508,  123790,  131072,  138353,  145635,  152917,  160199,  167480,
      174762,  182044,  189326,  196608,  203889,  211171,  218453,  225735,
     -209715, -203161, -196608, -190054, -183500, -176947, -170393, -163840,
     -157286, -150732, -144179, -137625, -131072, -124518, -117964, -111411,
     -104857,  -98304,  -91750,  -85196,  -78643,  -72089,  -65536,  -58982,
      -52428,  -45875,  -39321,  -32768,  -26214,  -19660,  -13107,   -6553,
           0,    6553,   13107,   19660,   26214,   32768,   39321,   45875,
       52428,   58982,   65536,   72089,   78643,   85196,   91750,   98304,
      104857,  111411,  117964,  124518,  131072,  137625,  144179,  150732,
      157286,  163840,  170393,  176947,  183500,  190054,  196608,  203161,
     -190650, -184692, -178734, -172776, -166818, -160861, -154903, -148945,
     -142987, -137029, -131072, -125114, -119156, -113198, -107240, -101282,
      -95325,  -89367,  -83409,  -77451,  -71493,  -65536,  -59578,  -53620,
      -47662,  -41704,  -35746,  -29789,  -23831,  -17873,  -11915,   -5957,
           0,    5957,   11915,   17873,   23831,   29789,   35746,   41704,
       47662,   53620,   59578,   65536,   71493,   77451,   83409,   89367,
       95325,  101282,  107240,  113198,  119156,  125114,  131072,  137029,
      142987,  148945,  154903,  160861,  166818,  172776,  178734,  184692,
     -174762, -169301, -163840, -158378, -152917, -147456, -141994, -136533,
     -131072, -125610, -120149, -114688, -109226, -103765,  -98304,  -92842,
      -87381,  -81920,  -76458,  -70997,  -65536,  -60074,  -54613,  -49152,
      -43690,  -38229,  -32768,  -27306,  -21845,  -16384,  -10922,   -5461,
           0,    5461,   10922,   16384,   21845,   27306,   32768,   38229,
       43690,   49152,   54613,   60074,   65536,   70997,   76458,   81920,
       87381,   92842,   98304,  103765,  109226,  114688,  120149,  125610,
      131072,  136533,  141994,  147456,  152917,  158378,  163840,  169301,
     -161319, -156278, -151236, -146195, -141154, -136113, -131072, -126030,
     -120989, -115948, -110907, -105865, -100824,  -95783,  -90742,  -85700,
      -80659,  -75618,  -70577,  -65536,  -60494,  -55453,  -50412,  -45371,
      -40329,  -35288,  -30247,  -25206,  -20164,  -15123,  -10082,   -5041,
           0,    5041,   10082,   15123,   20164,   25206,   30247,   35288,
       40329,   45371,   50412,   55453,   60494,   65536,   70577,   75618,
       80659,   85700,   90742,   95783,  100824,  105865,  110907,  115948,
      120989,  126030,  131072,  136113,  141154,  146195,  151236,  156278,
     -149796, -145115, -140434, -135753, -131072, -126390, -121709, -117028,
     -112347, -107666, -102985,  -98304,  -93622,  -88941,  -84260,  -79579,
      -74898,  -70217,  -65536,  -60854,  -56173,  -51492,  -46811,  -42130,
      -37449,  -32768,  -28086,  -23405,  -18724,  -14043,   -9362,   -4681,
           0,    4681,    9362,   14043,   18724,   23405,   28086,   32768,
       37449,   42130,   46811,   51492,   56173,   60854,   65536,   70217,
       74898,   79579,   84260,   88941,   93622,   98304,  102985,  107666,
      112347,  117028,  121709,  126390,  131072,  135753,  140434,  145115,
     -139810, -135441, -131072, -126702, -122333, -117964, -113595, -109226,
     -104857, -100488,  -96119,  -91750,  -87381,  -83012,  -78643,  -74274,
      -69905,  -65536,  -61166,  -56797,  -52428,  -48059,  -43690,  -39321,
      -34952,  -30583,  -26214,  -21845,  -17476,  -13107,   -8738,   -4369,
           0,    4369,    8738,   13107,   17476,   21845,   26214,   30583,
       34952,   39321,   43690,   48059,   52428,   56797,   61166,   65536,
       69905,   74274,   78643,   83012,   87381,   91750,   96119,  100488,
      104857,  109226,  113595,  117964,  122333,  126702,  131072,  135441,
     -131072, -126976, -122880, -118784, -114688, -110592, -106496, -102400,
      -98304,  -94208,  -90112,  -86016,  -81920,  -77824,  -73728,  -69632,
      -65536,  -61440,  -57344,  -53248,  -49152,  -45056,  -40960,  -36864,
      -32768,  -28672,  -24576,  -20480,  -16384,  -12288,   -8192,   -4096,
           0,    4096,    8192,   12288,   16384,   20480,   24576,   28672,
       32768,   36864,   40960,   45056,   49152,   53248,   57344,   61440,
       65536,   69632,   73728,   77824,   81920,   86016,   90112,   94208,
       98304,  102400,  106496,  110592,  114688,  118784,  122880,  126976,
     -123361, -119506, -115651, -111796, -107941, -104086, -100231,  -96376,
      -92521,  -88666,  -84811,  -80956,  -77101,  -73246,  -69391,  -65536,
      -61680,  -57825,  -53970,  -50115,  -46260,  -42405,  -38550,  -34695,
      -30840,  -26985,  -23130,  -19275,  -15420,  -11565,   -7710,   -3855,
           0,    3855,    7710,   11565,   15420,   19275,   23130,   26985,
       30840,   34695,   38550,   42405,   46260,   50115,   53970,   57825,
       61680,   65536,   69391,   73246,   77101,   80956,   84811,   88666,
       92521,   96376,  100231,  104086,  107941,  111796,  115651,  119506,
     -116508, -112867, -109226, -105585, -101944,  -98304,  -94663,  -91022,
      -87381,  -83740,  -80099,  -76458,  -72817,  -69176,  -65536,  -61895,
      -58254,  -54613,  -50972,  -47331,  -43690,  -40049,  -36408,  -32768,
      -29127,  -25486,  -21845,  -18204,  -14563,  -10922,   -7281,   -3640,
           0,    3640,    7281,   10922,   14563,   18204,   21845,   25486,
       29127,   32768,   36408,   40049,   43690,   47331,   50972,   54613,
       58254,   61895,   65536,   69176,   72817,   76458,   80099,   83740,
       87381,   91022,   94663,   98304,  101944,  105585,  109226,  112867,
     -110376, -106927, -103477, -100028,  -96579,  -93130,  -89680,  -86231,
      -82782,  -79333,  -75883,  -72434,  -68985,  -65536,  -62086,  -58637,
      -55188,  -51738,  -48289,  -44840,  -41391,  -37941,  -34492,  -31043,
      -27594,  -24144,  -20695,  -17246,  -13797,  -10347,   -6898,   -3449,
           0,    3449,    6898,   10347,   13797,   17246,   20695,   24144,
       27594,   31043,   34492,   37941,   41391,   44840,   48289,   51738,
       55188,   58637,   62086,   65536,   68985,   72434,   75883,   79333,
       82782,   86231,   89680,   93130,   96579,  100028,  103477,  106927,
     -104857, -101580,  -98304,  -95027,  -91750,  -88473,  -85196,  -81920,
      -78643,  -75366,  -72089,  -68812,  -65536,  -62259,  -58982,  -55705,
      -52428,  -49152,  -45875,  -42598,  -39321,  -36044,  -32768,  -29491,
      -26214,  -22937,  -19660,  -16384,  -13107,   -9830,   -6553,   -3276,
           0,    3276,    6553,    9830,   13107,   16384,   19660,   22937,
       26214,   29491,   32768,   36044,   39321,   42598,   45875,   49152,
       52428,   55705,   58982,   62259,   65536,   68812,   72089,   75366,
       78643,   81920,   85196,   88473,   91750,   95027,   98304,  101580,
      -99864,  -96743,  -93622,  -90502,  -87381,  -84260,  -81139,  -78019,
      -74898,  -71777,  -68656,  -65536,  -62415,  -59294,  -56173,  -53052,
      -49932,  -46811,  -43690,  -40569,  -37449,  -34328,  -31207,  -28086,
      -24966,  -21845,  -18724,  -15603,  -12483,   -9362,   -6241,   -3120,
           0,    3120,    6241,    9362,   12483,   15603,   18724,   21845,
       24966,   28086,   31207,   34328,   37449,   40569,   43690,   46811,
       49932,   53052,   56173,   59294,   62415,   65536,   68656,   71777,
       74898,   78019,   81139,   84260,   87381,   90502,   93622,   96743,
      -95325,  -92346,  -89367,  -86388,  -83409,  -80430,  -77451,  -74472,
      -71493,  -68514,  -65536,  -62557,  -59578,  -56599,  -53620,  -50641,
      -47662,  -44683,  -41704,  -38725,  -35746,  -32768,  -29789,  -26810,
      -23831,  -20852,  -17873,  -14894,  -11915,   -8936,   -5957,   -2978,
           0,    2978,    5957,    8936,   11915,   14894,   17873,   20852,
       23831,   26810,   29789,   32768,   35746,   38725,   41704,   44683,
       47662,   50641,   53620,   56599,   59578,   62557,   65536,   68514,
       71493,   74472,   77451,   80430,   83409,   86388,   89367,   92346,
      -91180,  -88331,  -85481,  -82632,  -79782,  -76933,  -74084,  -71234,
      -68385,  -65536,  -62686,  -59837,  -56987,  -54138,  -51289,  -48439,
      -45590,  -42740,  -39891,  -37042,  -34192,  -31343,  -28493,  -25644,
      -22795,  -19945,  -17096,  -14246,  -11397,   -8548,   -5698,   -2849,
           0,    2849,    5698,    8548,   11397,   14246,   17096,   19945,
       22795,   25644,   28493,   31343,   34192,   37042,   39891,   42740,
       45590,   48439,   51289,   54138,   56987,   59837,   62686,   65536,
       68385,   71234,   74084,   76933,   79782,   82632,   85481,   88331,
      -87381,  -84650,  -81920,  -79189,  -76458,  -73728,  -70997,  -68266,
      -65536,  -62805,  -60074,  -57344,  -54613,  -51882,  -49152,  -46421,
      -43690,  -40960,  -38229,  -35498,  -32768,  -30037,  -27306,  -24576,
      -21845,  -19114,  -16384,  -13653,  -10922,   -8192,   -5461,   -2730,
           0,    2730,    5461,    8192,   10922,   13653,   16384,   19114,
       21845,   24576,   27306,   30037,   32768,   35498,   38229,   40960,
       43690,   46421,   49152,   51882,   54613,   57344,   60074,   62805,
       65536,   68266,   70997,   73728,   76458,   79189,   81920,   84650,
      -83886,  -81264,  -78643,  -76021,  -73400,  -70778,  -68157,  -65536,
      -62914,  -60293,  -57671,  -55050,  -52428,  -49807,  -47185,  -44564,
      -41943,  -39321,  -36700,  -34078,  -31457,  -28835,  -26214,  -23592,
      -20971,  -18350,  -15728,  -13107,  -10485,   -7864,   -5242,   -2621,
           0,    2621,    5242,    7864,   10485,   13107,   15728,   18350,
       20971,   23592,   26214,   28835,   31457,   34078,   36700,   39321,
       41943,   44564,   47185,   49807,   52428,   55050,   57671,   60293,
       62914,   65536,   68157,   70778,   73400,   76021,   78643,   81264,
      -80659,  -78139,  -75618,  -73097,  -70577,  -68056,  -65536,  -63015,
      -60494,  -57974,  -55453,  -52932,  -50412,  -47891,  -45371,  -42850,
      -40329,  -37809,  -35288,  -32768,  -30247,  -27726,  -25206,  -22685,
      -20164,  -17644,  -15123,  -12603,  -10082,   -7561,   -5041,   -2520,
           0,    2520,    5041,    7561,   10082,   12603,   15123,   17644,
       20164,   22685,   25206,   27726,   30247,   32768,   35288,   37809,
       40329,   42850,   45371,   47891,   50412,   52932,   55453,   57974,
       60494,   63015,   65536,   68056,   70577,   73097,   75618,   78139,
      -77672,  -75245,  -72817,  -70390,  -67963,  -65536,  -63108,  -60681,
      -58254,  -55826,  -53399,  -50972,  -48545,  -46117,  -43690,  -41263,
      -38836,  -36408,  -33981,  -31554,  -29127,  -26699,  -24272,  -21845,
      -19418,  -16990,  -14563,  -12136,   -9709,   -7281,   -4854,   -2427,
           0,    2427,    4854,    7281,    9709,   12136,   14563,   16990,
       19418,   21845,   24272,   26699,   29127,   31554,   33981,   36408,
       38836,   41263,   43690,   46117,   48545,   50972,   53399,   55826,
       58254,   60681,   63108,   65536,   67963,   70390,   72817,   75245,
      -74898,  -72557,  -70217,  -67876,  -65536,  -63195,  -60854,  -58514,
      -56173,  -53833,  -51492,  -49152,  -46811,  -44470,  -42130,  -39789,
      -37449,  -35108,  -32768,  -30427,  -28086,  -25746,  -23405,  -21065,
      -18724,  -16384,  -14043,  -11702,   -9362,   -7021,   -4681,   -2340,
           0,    2340,    4681,    7021,    9362,   11702,   14043,   16384,
       18724,   21065,   23405,   25746,   28086,   30427,   32768,   35108,
       37449,   39789,   42130,   44470,   46811,   49152,   51492,   53833,
       56173,   58514,   60854,   63195,   65536,   67876,   70217,   72557,
      -72315,  -70055,  -67795,  -65536,  -63276,  -61016,  -58756,  -56496,
      -54236,  -51976,  -49716,  -47457,  -45197,  -42937,  -40677,  -38417,
      -36157,  -33897,  -31638,  -29378,  -27118,  -24858,  -22598,  -20338,
      -18078,  -15819,  -13559,  -11299,   -9039,   -6779,   -4519,   -2259,
           0,    2259,    4519,    6779,    9039,   11299,   13559,   15819,
       18078,   20338,   22598,   24858,   27118,   29378,   31638,   33897,
       36157,   38417,   40677,   42937,   45197,   47457,   49716,   51976,
       54236,   56496,   58756,   61016,   63276,   65536,   67795,   70055,
      -69905,  -67720,  -65536,  -63351,  -61166,  -58982,  -56797,  -54613,
      -52428,  -50244,  -48059,  -45875,  -43690,  -41506,  -39321,  -37137,
      -34952,  -32768,  -30583,  -28398,  -26214,  -24029,  -21845,  -19660,
      -17476,  -15291,  -13107,  -10922,   -8738,   -6553,   -4369,   -2184,
           0,    2184,    4369,    6553,    8738,   10922,   13107,   15291,
       17476,   19660,   21845,   24029,   26214,   28398,   30583,   32768,
       34952,   37137,   39321,   41506,   43690,   45875,   48059,   50244,
       52428,   54613,   56797,   58982,   61166,   63351,   65536,   67720,
      -67650,  -65536,  -63421,  -61307,  -59193,  -57079,  -54965,  -52851,
      -50737,  -48623,  -46509,  -44395,  -42281,  -40167,  -38053,  -35939,
      -33825,  -31710,  -29596,  -27482,  -25368,  -23254,  -21140,  -19026,
      -16912,  -14798,  -12684,  -10570,   -8456,   -6342,   -4228,   -2114,
           0,    2114,    4228,    6342,    8456,   10570,   12684,   14798,
       16912,   19026,   21140,   23254,   25368,   27482,   29596,   31710,
       33825,   35939,   38053,   40167,   42281,   44395,   46509,   48623,
       50737,   52851,   54965,   57079,   59193,   61307,   63421,   65536,
};

long gpoly_pro_enable_mode_ofs = 0;

template<typename T, typename U>
static inline __attribute__((always_inline)) auto CONCAT11(T a, U b) {
  return ((a & 0xff) << 8) | (b & 0xff);
}

template<typename T, typename U>
static inline __attribute__((always_inline)) auto CONCAT21(T a, U b) {
  return ((a & 0xffff) << 8) | (b & 0xff);
}

template<typename T, typename U>
static inline __attribute__((always_inline)) auto CONCAT22(T a, U b) {
  return ((a & 0xffff) << 16) | (b & 0xffff);
}

template<typename T, typename U>
static inline __attribute__((always_inline)) auto CONCAT31(T a, U b) {
  return ((a & 0xffffff) << 8) | (b & 0xff);
}

template<typename T, typename U>
static inline __attribute__((always_inline)) auto CARRY1(T a, U b) {
  return (uint8_t(b) > 0) && uint8_t(a) > CHAR_MAX - uint8_t(b);
}

template<typename T, typename U>
static inline __attribute__((always_inline)) auto CARRY4(T a, U b) {
  return (uint32_t(b) > 0) && uint32_t(a) > INT_MAX - uint32_t(b);
}

static inline __attribute__((always_inline)) int16_t GET12(uint & a) {
  return (a >> 8) & 0xffff;
}

}; // local

extern "C" void gpoly_enable_pentium_pro(TbBool state)
{
  SYNCMSG("Pentium Pro polygon rendering %s",state?"on":"off");
  if (state)
    gpoly_pro_enable_mode_ofs = (1<<6);
  else
    gpoly_pro_enable_mode_ofs = 0;
}

extern "C" void draw_gpoly(PolyPoint * param_3, PolyPoint * param_4, PolyPoint * param_5)
{
  int iVar1 = 0;
  int64_t lVar3 = 0;
  uint8_t bVar5 = 0;
  PolyPoint * pPVar7 = nullptr;
  PolyPoint * pPVar8 = nullptr;
  int iVar9 = 0;
  ushort uVar11 = 0;
  ushort uVar12 = 0;
  long lVar10 = 0;
  int iVar13 = 0;
  int iVar14 = 0;
  int iVar15 = 0;
  uint uVar16 = 0;
  uint uVar17 = 0;
  uint uVar18 = 0;
  uint uVar19 = 0;
  int iVar20 = 0;
  int iVar21 = 0;
  char cVar22 = 0;
  char cVar23 = 0;
  int iVar24 = 0;
  int iVar25 = 0;
  uint uVar26 = 0;
  uint uVar27 = 0;
  int iVar28 = 0;
  uint uVar29 = 0;
  uint uVar30 = 0;
  int iVar31 = 0;
  uint uVar32 = 0;
  uint uVar33 = 0;
  int iVar34 = 0;
  uint8_t *puVar35 = nullptr;
  TbBool bVar36 = 0;
  TbBool bVar37 = 0;
  long local_1b0 = 0;
  long local_1ac = 0;
  long local_1a8 = 0;
  uint uStack_1a4 = 0;
  uint uStack_1a0 = 0;
  uint uStack_198 = 0;
  uint uStack_194 = 0;
  uint uStack_18c = 0;
  uint uStack_188 = 0;
  int iStack_180 = 0;
  int iStack_12c = 0;
  int iStack_128 = 0;
  uint uStack_d4 = 0;
  uint uStack_cc = 0;
  uint uStack_c8 = 0;
  uint uStack_c4 = 0;
  int iStack_c0 = 0;
  uint uStack_bc = 0;
  uint uStack_b8 = 0;
  char cStack_b4 = 0;
  uint uStack_b0 = 0;
  uint uStack_ac = 0;
  uint uStack_a8 = 0;
  uint uStack_a4 = 0;
  uint uStack_a0 = 0;
  uint uStack_9c = 0;
  uint uStack_98 = 0;
  uint uStack_94 = 0;
  uint uStack_90 = 0;
  uint uStack_8c = 0;
  uint uStack_88 = 0;
  uint uStack_84 = 0;
  uint uStack_80 = 0;
  uint uStack_7c = 0;
  uint uStack_78 = 0;
  int iStack_74 = 0;
  uint uStack_68 = 0;
  uint uStack_64 = 0;
  uint uStack_60 = 0;
  uint uStack_5c = 0;
  uint uStack_30 = 0;
  uint uStack_2c = 0;
  char cStack_28 = 0;
  int64_t lVar2 = 0;
  uint8_t bVar6 = 0;
  uint8_t * ptr28 = nullptr;

  int gpoly_mode = (uint)vec_mode + gpoly_pro_enable_mode_ofs;
  iVar24 = param_4->X - param_5->X;
  if ((((iVar24 < 0x4000) && (-0x4000 < iVar24)) &&
      (iVar24 = param_4->Y - param_5->Y, iVar24 < 0x4000)) &&
     (((-0x4000 < iVar24 && (iVar24 = param_4->X - param_3->X, iVar24 < 0x4000)) &&
      ((-0x4000 < iVar24 &&
       ((iVar28 = param_5->Y - param_3->Y, iVar28 < 0x4000 && (-0x4000 < iVar28)))))))) {
    iVar25 = param_5->X - param_3->X;
    if ((iVar25 < 0x4000) &&
       ((((-0x4000 < iVar25 && (iVar13 = param_4->Y - param_3->Y, iVar13 < 0x4000)) &&
         (-0x4000 < iVar13)) && (iVar13 * iVar25 - iVar28 * iVar24 < 0)))) {
      if ((((param_3->X | param_4->X | param_5->X) < 0) || (vec_window_width < param_3->X)) ||
         ((vec_window_width < param_4->X || (vec_window_width < param_5->X)))) {
        bVar37 = true;
      }
      else {
        bVar37 = false;
      }
      iVar24 = param_3->Y;
      pPVar7 = param_3;
      if (param_4->Y < iVar24) {
        iVar24 = param_4->Y;
        pPVar7 = param_4;
        param_4 = param_3;
      }
      pPVar8 = pPVar7;
      if (param_5->Y < iVar24) {
        pPVar8 = param_5;
        param_5 = pPVar7;
      }
      pPVar7 = param_4;
      if (param_5->Y < param_4->Y) {
        pPVar7 = param_5;
        param_5 = param_4;
      }
      if (pPVar8->Y == param_5->Y) {
        return;
      }
      iStack_74 = pPVar8->X;
      iVar24 = pPVar8->Y;
      iVar14 = iStack_74 * 0x10000;
      iVar28 = pPVar7->X;
      iVar25 = pPVar7->Y;
      iVar15 = iVar28 * 0x10000;
      iVar13 = param_5->X;
      iVar1 = param_5->Y;
      uVar32 = (uint)pPVar8->S >> 0x10;
      uVar26 = (uint)pPVar7->S >> 0x10;
      uVar16 = (uint)param_5->S >> 0x10;
      uVar33 = (uint)pPVar8->U >> 0x10;
      uVar27 = (uint)pPVar8->V >> 0x10;
      uVar17 = (uint)pPVar7->U >> 0x10;
      uVar29 = (uint)pPVar7->V >> 0x10;
      uVar18 = (uint)param_5->U >> 0x10;
      uVar30 = (uint)param_5->V >> 0x10;
      uVar19 = iVar1 - iVar24;
      if (uVar19 != 0) {
        iVar9 = iVar13 - iStack_74;
        if ((((uVar19 & 0xffffffe0) == 0) && (-0x21 < iVar9)) && (iVar9 < 0x20)) {
          local_1b0 = gpoly_divtable[uVar19 * 0x40 + iVar9];
        }
        else {
          local_1b0 = (iVar9 * 0x10000) / (int)uVar19;
        }
        uVar19 = iVar25 - iVar24;
        if (uVar19 != 0) {
          iVar9 = iVar28 - iStack_74;
          if ((((uVar19 & 0xffffffe0) == 0) && (-0x21 < iVar9)) && (iVar9 < 0x20)) {
            local_1ac = gpoly_divtable[uVar19 * 0x40 + iVar9];
          }
          else {
            local_1ac = (iVar9 * 0x10000) / (int)uVar19;
          }
        }
        uVar19 = iVar1 - iVar25;
        if (uVar19 != 0) {
          iVar9 = iVar13 - iVar28;
          if ((((uVar19 & 0xffffffe0) == 0) && (-0x21 < iVar9)) && (iVar9 < 0x20)) {
            local_1a8 = gpoly_divtable[uVar19 * 0x40 + iVar9];
          }
          else {
            local_1a8 = (iVar9 * 0x10000) / (int)uVar19;
          }
        }
      }
      iVar9 = iVar14 + local_1b0 * (iVar25 - iVar24) + iVar28 * -0x10000;
      bVar5 = (uint8_t)((uint)pPVar8->U >> 0x10);
      bVar6 = (uint8_t)((uint)pPVar7->U >> 0x10);
      switch(gpoly_mode) {
      case 0:
      case 1:
      case 7:
      case 8:
      case 9:
      case 10:
      case 0xb:
      case 0xe:
      case 0xf:
      case 0x1a:
      case 0x29:
      case 0x2a:
      case 0x40:
      case 0x41:
        break;
      case 2:
      case 0x42:
        iVar20 = iVar1 - iVar24;
        iVar21 = iVar20 * (iVar28 - iStack_74);
        if (-1 < iVar9) {
          iVar21 = (iVar21 - iVar20) - iVar20;
        }
        iVar13 = (iVar25 - iVar24) * (iVar13 - iStack_74) - (iVar21 + iVar20);
        if (iVar13 == 0) {
          uStack_b0 = 0;
          uStack_ac = 0;
        }
        else {
          iVar13 = (int)(0x7fffffff / (int64_t)iVar13);
          lVar3 = (int64_t)iVar13 *
                  (int64_t)
                  (int)((uVar18 - uVar33) * (iVar25 - iVar24) - (uVar17 - uVar33) * (iVar1 - iVar24)
                       );
          iVar20 = (int)lVar3;
          iVar21 = iVar20 << 1;
          uVar11 = (ushort)((uint)iVar21 >> 0x10);
          uStack_b0 = CONCAT22(uVar11,(ushort)((int)((uint64_t)lVar3 >> 0x20) << 1) |
                                      (ushort)(iVar20 < 0)) << 0x10 | (uint)uVar11;
          if (iVar21 < 0) {
            uStack_b0 = uStack_b0 + 1;
          }
          lVar3 = (int64_t)iVar13 *
                  (int64_t)
                  (int)((uVar30 - uVar27) * (iVar25 - iVar24) - (uVar29 - uVar27) * (iVar1 - iVar24)
                       );
          iVar13 = (int)lVar3;
          iVar20 = iVar13 << 1;
          uVar11 = (ushort)((uint)iVar20 >> 0x10);
          uStack_ac = CONCAT22(uVar11,(ushort)((int)((uint64_t)lVar3 >> 0x20) << 1) |
                                      (ushort)(iVar13 < 0)) << 0x10 | (uint)uVar11;
          if (iVar20 < 0) {
            uStack_ac = uStack_ac + 1;
          }
        }
        if (iVar9 < 0) {
          iVar13 = iVar1 - iVar24;
          if (iVar13 < 0x100) {
            lVar10 = gpoly_reptable[iVar13];
          }
          else {
            lVar10 = (long)(0x7fffffff / (int64_t)iVar13);
          }
          iVar13 = (uVar18 - uVar33) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_194 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_194 = uStack_194 + 1;
          }
          iVar13 = (uVar30 - uVar27) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_188 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_188 = uStack_188 + 1;
          }
        }
        else {
          iVar13 = iVar25 - iVar24;
          if (iVar13 < 0x100) {
            lVar10 = gpoly_reptable[iVar13];
          }
          else {
            lVar10 = (long)(0x7fffffff / (int64_t)iVar13);
          }
          iVar13 = (uVar17 - uVar33) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_194 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_194 = uStack_194 + 1;
          }
          iVar13 = (uVar29 - uVar27) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_188 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_188 = uStack_188 + 1;
          }
          iVar13 = iVar1 - iVar25;
          if (iVar13 < 0x100) {
            lVar10 = gpoly_reptable[iVar13];
          }
          else {
            lVar10 = (long)(0x7fffffff / (int64_t)iVar13);
          }
          iVar13 = (uVar18 - uVar17) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_198 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_198 = uStack_198 + 1;
          }
          iVar13 = (uVar30 - uVar29) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_18c = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_18c = uStack_18c + 1;
          }
        }
        uStack_bc = uStack_ac << 0x10;
        if ((int)uStack_ac < 0) {
          uStack_b0 = uStack_b0 - 1;
        }
        uStack_b8 = ((uStack_ac >> 0x10) & 0xff) | (uStack_b0 << 8);
        uStack_a4 = uStack_188 << 0x10;
        if ((int)uStack_188 < 0) {
          uStack_194 = uStack_194 - 1;
        }
        uStack_a0 = ((uStack_188 >> 0x10) & 0xff) | (uStack_194 << 8);
        uStack_8c = 0;
        uStack_88 = (uVar27 & 0xff) | (uVar33 << 0x18);
        if (-1 < iVar9) {
          uStack_98 = uStack_18c << 0x10;
          if ((int)uStack_18c < 0) {
            uStack_198 = uStack_198 - 1;
          }
          uStack_94 = ((uStack_18c >> 0x10) & 0xff) | (uStack_198 << 8);
          uStack_80 = 0;
          uStack_7c = (uVar29 & 0xff) | (uVar17 << 0x18);
        }
        break;
      case 3:
      case 0xc:
      case 0xd:
      case 0x12:
      case 0x13:
      case 0x16:
      case 0x17:
      case 0x43:
        iVar20 = iVar1 - iVar24;
        iVar21 = iVar20 * (iVar28 - iStack_74);
        if (-1 < iVar9) {
          iVar21 = (iVar21 - iVar20) - iVar20;
        }
        iVar13 = (iVar25 - iVar24) * (iVar13 - iStack_74) - (iVar21 + iVar20);
        if (iVar13 == 0) {
          uStack_b0 = 0;
          uStack_ac = 0;
        }
        else {
          iVar13 = (int)(0x7fffffff / (int64_t)iVar13);
          lVar3 = (int64_t)iVar13 *
                  (int64_t)
                  (int)((uVar18 - uVar33) * (iVar25 - iVar24) - (uVar17 - uVar33) * (iVar1 - iVar24)
                       );
          iVar20 = (int)lVar3;
          iVar21 = iVar20 << 1;
          uVar11 = (ushort)((uint)iVar21 >> 0x10);
          uStack_b0 = CONCAT22(uVar11,(ushort)((int)((uint64_t)lVar3 >> 0x20) << 1) |
                                      (ushort)(iVar20 < 0)) << 0x10 | (uint)uVar11;
          if (iVar21 < 0) {
            uStack_b0 = uStack_b0 + 1;
          }
          lVar3 = (int64_t)iVar13 *
                  (int64_t)
                  (int)((uVar30 - uVar27) * (iVar25 - iVar24) - (uVar29 - uVar27) * (iVar1 - iVar24)
                       );
          iVar13 = (int)lVar3;
          iVar20 = iVar13 << 1;
          uVar11 = (ushort)((uint)iVar20 >> 0x10);
          uStack_ac = CONCAT22(uVar11,(ushort)((int)((uint64_t)lVar3 >> 0x20) << 1) |
                                      (ushort)(iVar13 < 0)) << 0x10 | (uint)uVar11;
          if (iVar20 < 0) {
            uStack_ac = uStack_ac + 1;
          }
        }
        if (iVar9 < 0) {
          iVar13 = iVar1 - iVar24;
          if (iVar13 < 0x100) {
            lVar10 = gpoly_reptable[iVar13];
          }
          else {
            lVar10 = (long)(0x7fffffff / (int64_t)iVar13);
          }
          iVar13 = (uVar18 - uVar33) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_194 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_194 = uStack_194 + 1;
          }
          iVar13 = (uVar30 - uVar27) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_188 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_188 = uStack_188 + 1;
          }
        }
        else {
          iVar13 = iVar25 - iVar24;
          if (iVar13 < 0x100) {
            lVar10 = gpoly_reptable[iVar13];
          }
          else {
            lVar10 = (long)(0x7fffffff / (int64_t)iVar13);
          }
          iVar13 = (uVar17 - uVar33) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_194 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_194 = uStack_194 + 1;
          }
          iVar13 = (uVar29 - uVar27) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_188 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_188 = uStack_188 + 1;
          }
          iVar13 = iVar1 - iVar25;
          if (iVar13 < 0x100) {
            lVar10 = gpoly_reptable[iVar13];
          }
          else {
            lVar10 = (long)(0x7fffffff / (int64_t)iVar13);
          }
          iVar13 = (uVar18 - uVar17) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_198 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_198 = uStack_198 + 1;
          }
          iVar13 = (uVar30 - uVar29) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_18c = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_18c = uStack_18c + 1;
          }
        }
        uStack_bc = uStack_b0 << 0x10;
        cStack_b4 = (char)(uStack_ac >> 0x10);
        uStack_b8 = CONCAT31(uStack_b8, (char)(uStack_b0 >> 0x10));
        uStack_b8 = CONCAT31((int)((uStack_ac << 0x10) >> 8),(char)uStack_b8);
        if ((char)uStack_b8 < '\0') {
          bVar36 = uStack_b8 < 0x100;
          uStack_b8 = uStack_b8 - 0x100;
          cStack_b4 = cStack_b4 - bVar36;
        }
        uStack_a4 = uStack_194 << 0x10;
        uStack_9c = (int)uStack_188 >> 0x10;
        uStack_a0 = CONCAT31(uStack_a0, (char)(uStack_194 >> 0x10));
        uStack_a0 = CONCAT31((int)((uStack_188 << 0x10) >> 8),(char)uStack_a0);
        if ((char)uStack_a0 < '\0') {
          bVar36 = uStack_a0 < 0x100;
          uStack_a0 = uStack_a0 - 0x100;
          uStack_9c = (uint)(uint8_t)((char)(uStack_188 >> 0x10) - bVar36);
        }
        uStack_8c = 0;
        uStack_84 = (uVar27 & 0xff) << 8;
        uStack_88 = (uint)bVar5;
        if (-1 < iVar9) {
          uStack_98 = uStack_198 << 0x10;
          uStack_90 = (int)uStack_18c >> 0x10;
          uStack_94 = CONCAT31(uStack_94, (char)(uStack_198 >> 0x10));
          uStack_94 = CONCAT31((int)((uStack_18c << 0x10) >> 8),(char)uStack_94);
          if ((char)uStack_94 < '\0') {
            bVar36 = uStack_94 < 0x100;
            uStack_94 = uStack_94 - 0x100;
            uStack_90 = (uint)(uint8_t)((char)(uStack_18c >> 0x10) - bVar36);
          }
          uStack_80 = 0;
          uStack_78 = (uVar29 & 0xff) << 8;
          uStack_7c = (uint)bVar6;
        }
        break;
      case 4:
      case 0x10:
      case 0x11:
      case 0x44:
        iVar20 = iVar1 - iVar24;
        iVar21 = iVar20 * (iVar28 - iStack_74);
        if (-1 < iVar9) {
          iVar21 = (iVar21 - iVar20) - iVar20;
        }
        iVar13 = (iVar25 - iVar24) * (iVar13 - iStack_74) - (iVar21 + iVar20);
        if (iVar13 == 0) {
          uStack_a8 = 0;
        }
        else {
          uVar17 = (int)(0x7fffffff / (int64_t)iVar13) *
                   ((uVar16 - uVar32) * (iVar25 - iVar24) - (uVar26 - uVar32) * (iVar1 - iVar24)) *
                   2;
          uStack_a8 = uVar17 >> 0x10;
          if ((int)uVar17 < 0) {
            uStack_a8 = uStack_a8 + 1;
          }
        }
        if (iVar9 < 0) {
          iVar13 = iVar1 - iVar24;
          if (iVar13 < 0x100) {
            lVar10 = gpoly_reptable[iVar13];
          }
          else {
            lVar10 = (long)(0x7fffffff / (int64_t)iVar13);
          }
          iVar13 = (uVar16 - uVar32) * 2;
          uStack_1a4 = (uint)(ushort)((uint64_t)((int64_t)iVar13 * (int64_t)lVar10) >> 0x10);
          if (iVar13 < 0) {
            uStack_1a4 = uStack_1a4 + 1;
          }
        }
        else {
          iVar13 = iVar25 - iVar24;
          if (iVar13 < 0x100) {
            lVar10 = gpoly_reptable[iVar13];
          }
          else {
            lVar10 = (long)(0x7fffffff / (int64_t)iVar13);
          }
          iVar13 = (uVar26 - uVar32) * 2;
          uStack_1a4 = (uint)(ushort)((uint64_t)((int64_t)iVar13 * (int64_t)lVar10) >> 0x10);
          if (iVar13 < 0) {
            uStack_1a4 = uStack_1a4 + 1;
          }
          iVar13 = iVar1 - iVar25;
          if (iVar13 < 0x100) {
            lVar10 = gpoly_reptable[iVar13];
          }
          else {
            lVar10 = (long)(0x7fffffff / (int64_t)iVar13);
          }
          iVar13 = (uVar16 - uVar26) * 2;
          uStack_1a0 = (uint)(ushort)((uint64_t)((int64_t)iVar13 * (int64_t)lVar10) >> 0x10);
          if (iVar13 < 0) {
            uStack_1a0 = uStack_1a0 + 1;
          }
        }
        break;
      case 5:
      case 6:
      case 0x14:
      case 0x15:
      case 0x18:
      case 0x19:
        iVar20 = iVar1 - iVar24;
        iVar21 = iVar20 * (iVar28 - iStack_74);
        if (-1 < iVar9) {
          iVar21 = (iVar21 - iVar20) - iVar20;
        }
        iVar13 = (iVar25 - iVar24) * (iVar13 - iStack_74) - (iVar21 + iVar20);
        if (iVar13 == 0) {
          uStack_a8 = 0;
          uStack_b0 = 0;
          uStack_ac = 0;
        }
        else {
          iVar13 = (int)(0x7fffffff / (int64_t)iVar13);
          iVar31 = iVar1 - iVar24;
          iVar34 = iVar25 - iVar24;
          lVar3 = (int64_t)iVar13 *
                  (int64_t)(int)((uVar16 - uVar32) * iVar34 - (uVar26 - uVar32) * iVar31);
          iVar20 = (int)lVar3;
          iVar21 = iVar20 << 1;
          uVar11 = (ushort)((uint)iVar21 >> 0x10);
          uStack_a8 = CONCAT22(uVar11,(ushort)((int)((uint64_t)lVar3 >> 0x20) << 1) |
                                      (ushort)(iVar20 < 0)) << 0x10 | (uint)uVar11;
          if (iVar21 < 0) {
            uStack_a8 = uStack_a8 + 1;
          }
          lVar3 = (int64_t)iVar13 *
                  (int64_t)(int)((uVar18 - uVar33) * iVar34 - (uVar17 - uVar33) * iVar31);
          iVar20 = (int)lVar3;
          iVar21 = iVar20 << 1;
          uVar11 = (ushort)((uint)iVar21 >> 0x10);
          uStack_b0 = CONCAT22(uVar11,(ushort)((int)((uint64_t)lVar3 >> 0x20) << 1) |
                                      (ushort)(iVar20 < 0)) << 0x10 | (uint)uVar11;
          if (iVar21 < 0) {
            uStack_b0 = uStack_b0 + 1;
          }
          lVar3 = (int64_t)iVar13 *
                  (int64_t)(int)((uVar30 - uVar27) * iVar34 - (uVar29 - uVar27) * iVar31);
          iVar13 = (int)lVar3;
          iVar20 = iVar13 << 1;
          uVar11 = (ushort)((uint)iVar20 >> 0x10);
          uStack_ac = CONCAT22(uVar11,(ushort)((int)((uint64_t)lVar3 >> 0x20) << 1) |
                                      (ushort)(iVar13 < 0)) << 0x10 | (uint)uVar11;
          if (iVar20 < 0) {
            uStack_ac = uStack_ac + 1;
          }
        }
        if (iVar9 < 0) {
          iVar13 = iVar1 - iVar24;
          if (iVar13 < 0x100) {
            lVar10 = gpoly_reptable[iVar13];
          }
          else {
            lVar10 = (long)(0x7fffffff / (int64_t)iVar13);
          }
          iVar13 = (uVar16 - uVar32) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_1a4 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_1a4 = uStack_1a4 + 1;
          }
          iVar13 = (uVar18 - uVar33) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_194 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_194 = uStack_194 + 1;
          }
          iVar13 = (uVar30 - uVar27) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_188 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_188 = uStack_188 + 1;
          }
        }
        else {
          iVar13 = iVar25 - iVar24;
          if (iVar13 < 0x100) {
            lVar10 = gpoly_reptable[iVar13];
          }
          else {
            lVar10 = (long)(0x7fffffff / (int64_t)iVar13);
          }
          iVar13 = (uVar26 - uVar32) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_1a4 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_1a4 = uStack_1a4 + 1;
          }
          iVar13 = (uVar17 - uVar33) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_194 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_194 = uStack_194 + 1;
          }
          iVar13 = (uVar29 - uVar27) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_188 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_188 = uStack_188 + 1;
          }
          iVar13 = iVar1 - iVar25;
          if (iVar13 < 0x100) {
            lVar10 = gpoly_reptable[iVar13];
          }
          else {
            lVar10 = (long)(0x7fffffff / (int64_t)iVar13);
          }
          iVar13 = (uVar16 - uVar26) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_1a0 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_1a0 = uStack_1a0 + 1;
          }
          iVar13 = (uVar18 - uVar17) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_198 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_198 = uStack_198 + 1;
          }
          iVar13 = (uVar30 - uVar29) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_18c = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_18c = uStack_18c + 1;
          }
        }
        cVar23 = (char)(uStack_b0 >> 0x10);
        uStack_bc = CONCAT22((short)uStack_b0,GET12(uStack_a8));
        cVar22 = cVar23;
        if (GET12(uStack_a8) < 0) {
          bVar36 = uStack_bc < 0x10000;
          uStack_bc = uStack_bc - 0x10000;
          cVar22 = cVar23 - bVar36;
        }
        cStack_28 = (char)(uStack_ac >> 0x10);
        uStack_b8 = CONCAT31((int)((uStack_ac << 0x10) >> 8),cVar22);
        cStack_b4 = cStack_28;
        if (cVar22 < '\0') {
          bVar36 = uStack_b8 < 0x100;
          uStack_b8 = uStack_b8 - 0x100;
          cStack_b4 = cStack_28 - bVar36;
        }
        uStack_5c = CONCAT22((short)uStack_b0,GET12(uStack_a8));
        if (GET12(uStack_a8) < 0) {
          bVar36 = uStack_5c < 0xffff;
          uStack_5c = uStack_5c - 0xffff;
          cVar23 = cVar23 - bVar36;
        }
        uStack_2c = CONCAT31((int)((uStack_ac << 0x10) >> 8),cVar23);
        if (cVar23 < '\0') {
          bVar36 = uStack_2c < 0x100;
          uStack_2c = uStack_2c - 0x100;
          cStack_28 = cStack_28 - bVar36;
        }
        cVar22 = (char)(uStack_194 >> 0x10);
        uStack_a4 = CONCAT22((short)uStack_194,GET12(uStack_1a4));
        if (GET12(uStack_1a4) < 0) {
          bVar36 = uStack_a4 < 0x10000;
          uStack_a4 = uStack_a4 - 0x10000;
          cVar22 = cVar22 - bVar36;
        }
        uStack_9c = (int)uStack_188 >> 0x10;
        uStack_a0 = CONCAT31((int)((uStack_188 << 0x10) >> 8),cVar22);
        if (cVar22 < '\0') {
          bVar36 = uStack_a0 < 0x100;
          uStack_a0 = uStack_a0 - 0x100;
          uStack_9c = (uint)(uint8_t)((char)(uStack_188 >> 0x10) - bVar36);
        }
        uStack_8c = (uVar32 << 0x10) >> 8 & 0xffff;
        uStack_88 = (uint)bVar5;
        uStack_84 = ((uint)pPVar8->V >> 0x10 & 0xff) << 8;
        if (-1 < iVar9) {
          cVar22 = (char)(uStack_198 >> 0x10);
          uStack_98 = CONCAT22((short)uStack_198,GET12(uStack_1a0));
          if (GET12(uStack_1a0) < 0) {
            bVar36 = uStack_98 < 0x10000;
            uStack_98 = uStack_98 - 0x10000;
            cVar22 = cVar22 - bVar36;
          }
          uStack_90 = (int)uStack_18c >> 0x10;
          uStack_94 = CONCAT31((int)((uStack_18c << 0x10) >> 8),cVar22);
          if (cVar22 < '\0') {
            bVar36 = uStack_94 < 0x100;
            uStack_94 = uStack_94 - 0x100;
            uStack_90 = (uint)(uint8_t)((char)(uStack_18c >> 0x10) - bVar36);
          }
          uStack_80 = (uVar26 << 0x10) >> 8 & 0xffff;
          uStack_7c = (uint)bVar6;
          uStack_78 = ((uint)pPVar7->V >> 0x10 & 0xff) << 8;
        }
        break;
      case 0x1b:
      case 0x1d:
      case 0x1f:
      case 0x20:
      case 0x21:
      case 0x22:
      case 0x25:
      case 0x26:
        iVar20 = iVar1 - iVar24;
        iVar21 = iVar20 * (iVar28 - iStack_74);
        if (-1 < iVar9) {
          iVar21 = (iVar21 - iVar20) - iVar20;
        }
        iVar13 = (iVar25 - iVar24) * (iVar13 - iStack_74) - (iVar21 + iVar20);
        if (iVar13 == 0) {
          uStack_b0 = 0;
          uStack_ac = 0;
        }
        else {
          iVar13 = (int)(0x7fffffff / (int64_t)iVar13);
          lVar3 = (int64_t)iVar13 *
                  (int64_t)
                  (int)((uVar18 - uVar33) * (iVar25 - iVar24) - (uVar17 - uVar33) * (iVar1 - iVar24)
                       );
          iVar20 = (int)lVar3;
          iVar21 = iVar20 << 1;
          uVar11 = (ushort)((uint)iVar21 >> 0x10);
          uStack_b0 = CONCAT22(uVar11,(ushort)((int)((uint64_t)lVar3 >> 0x20) << 1) |
                                      (ushort)(iVar20 < 0)) << 0x10 | (uint)uVar11;
          if (iVar21 < 0) {
            uStack_b0 = uStack_b0 + 1;
          }
          lVar3 = (int64_t)iVar13 *
                  (int64_t)
                  (int)((uVar30 - uVar27) * (iVar25 - iVar24) - (uVar29 - uVar27) * (iVar1 - iVar24)
                       );
          iVar13 = (int)lVar3;
          iVar20 = iVar13 << 1;
          uVar11 = (ushort)((uint)iVar20 >> 0x10);
          uStack_ac = CONCAT22(uVar11,(ushort)((int)((uint64_t)lVar3 >> 0x20) << 1) |
                                      (ushort)(iVar13 < 0)) << 0x10 | (uint)uVar11;
          if (iVar20 < 0) {
            uStack_ac = uStack_ac + 1;
          }
        }
        if (iVar9 < 0) {
          iVar13 = iVar1 - iVar24;
          if (iVar13 < 0x100) {
            lVar10 = gpoly_reptable[iVar13];
          }
          else {
            lVar10 = (long)(0x7fffffff / (int64_t)iVar13);
          }
          iVar13 = (uVar18 - uVar33) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_194 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_194 = uStack_194 + 1;
          }
          iVar13 = (uVar30 - uVar27) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_188 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_188 = uStack_188 + 1;
          }
          uVar11 = (ushort)((uint64_t)((int64_t)local_1b0 * (int64_t)(int)uStack_b0) >> 0x10);
          uStack_194 = uStack_194 -
                       (CONCAT22(uVar11,(short)((uint64_t)
                                                ((int64_t)local_1b0 * (int64_t)(int)uStack_b0) >>
                                               0x20)) << 0x10 | (uint)uVar11);
          uVar11 = (ushort)((uint64_t)((int64_t)local_1b0 * (int64_t)(int)uStack_ac) >> 0x10);
          uStack_188 = uStack_188 -
                       (CONCAT22(uVar11,(short)((uint64_t)
                                                ((int64_t)local_1b0 * (int64_t)(int)uStack_ac) >>
                                               0x20)) << 0x10 | (uint)uVar11);
          uVar11 = (ushort)((uint64_t)((int64_t)local_1b0 * (int64_t)(int)uStack_a8) >> 0x10);
        }
        else {
          iVar13 = iVar25 - iVar24;
          if (iVar13 < 0x100) {
            lVar10 = gpoly_reptable[iVar13];
          }
          else {
            lVar10 = (long)(0x7fffffff / (int64_t)iVar13);
          }
          iVar13 = (uVar17 - uVar33) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_194 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_194 = uStack_194 + 1;
          }
          iVar13 = (uVar29 - uVar27) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_188 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_188 = uStack_188 + 1;
          }
          iVar13 = iVar1 - iVar25;
          if (iVar13 < 0x100) {
            lVar10 = gpoly_reptable[iVar13];
          }
          else {
            lVar10 = (long)(0x7fffffff / (int64_t)iVar13);
          }
          iVar13 = (uVar18 - uVar17) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uVar16 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uVar16 = uVar16 + 1;
          }
          iVar13 = (uVar30 - uVar29) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uVar18 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uVar18 = uVar18 + 1;
          }
          uVar11 = (ushort)((uint64_t)((int64_t)local_1ac * (int64_t)(int)uStack_b0) >> 0x10);
          uStack_194 = uStack_194 -
                       (CONCAT22(uVar11,(short)((uint64_t)
                                                ((int64_t)local_1ac * (int64_t)(int)uStack_b0) >>
                                               0x20)) << 0x10 | (uint)uVar11);
          uVar11 = (ushort)((uint64_t)((int64_t)local_1ac * (int64_t)(int)uStack_ac) >> 0x10);
          uStack_188 = uStack_188 -
                       (CONCAT22(uVar11,(short)((uint64_t)
                                                ((int64_t)local_1ac * (int64_t)(int)uStack_ac) >>
                                               0x20)) << 0x10 | (uint)uVar11);
          uVar11 = (ushort)((uint64_t)((int64_t)local_1ac * (int64_t)(int)uStack_a8) >> 0x10);
          uVar12 = (ushort)((uint64_t)((int64_t)local_1a8 * (int64_t)(int)uStack_b0) >> 0x10);
          uStack_198 = uVar16 - (CONCAT22(uVar12,(short)((uint64_t)
                                                         ((int64_t)local_1a8 *
                                                         (int64_t)(int)uStack_b0) >> 0x20)) << 0x10
                                | (uint)uVar12);
          uVar12 = (ushort)((uint64_t)((int64_t)local_1a8 * (int64_t)(int)uStack_ac) >> 0x10);
          uStack_18c = uVar18 - (CONCAT22(uVar12,(short)((uint64_t)
                                                         ((int64_t)local_1a8 *
                                                         (int64_t)(int)uStack_ac) >> 0x20)) << 0x10
                                | (uint)uVar12);
          uStack_1a0 = uStack_1a0 -
                       (ushort)((uint64_t)((int64_t)local_1a8 * (int64_t)(int)uStack_a8) >> 0x10)
          ;
        }
        uStack_1a4 = uStack_1a4 - uVar11;
        uStack_bc = uStack_b0 << 0x10;
        cStack_b4 = (char)(uStack_ac >> 0x10);
        uStack_b8 = CONCAT31(uStack_b8, (char)(uStack_b0 >> 0x10));
        uStack_b8 = CONCAT31((int)((uStack_ac << 0x10) >> 8),(char)uStack_b8);
        if ((char)uStack_b8 < '\0') {
          bVar36 = uStack_b8 < 0x100;
          uStack_b8 = uStack_b8 - 0x100;
          cStack_b4 = cStack_b4 - bVar36;
        }
        uStack_a4 = uStack_194 << 0x10;
        uStack_9c = (int)uStack_188 >> 0x10;
        uStack_a0 = CONCAT31(uStack_a0, (char)(uStack_194 >> 0x10));
        uStack_a0 = CONCAT31((int)((uStack_188 << 0x10) >> 8),(char)uStack_a0);
        if ((char)uStack_a0 < '\0') {
          bVar36 = uStack_a0 < 0x100;
          uStack_a0 = uStack_a0 - 0x100;
          uStack_9c = (uint)(uint8_t)((char)(uStack_188 >> 0x10) - bVar36);
        }
        uStack_8c = uStack_b0 << 0x10;
        uStack_84 = ((uVar27 * 0x10000 + uStack_ac) * 0x100 >> 0x18) << 8;
        uStack_88 = CONCAT31((int)((uStack_ac << 0x10) >> 8),
                             (char)(((uVar33 * 0x10000) + uStack_b0) >> 0x10));
        if (-1 < iVar9) {
          uStack_98 = uStack_198 << 0x10;
          uStack_90 = (int)uStack_18c >> 0x10;
          uStack_94 = CONCAT31(uStack_94, (char)(uStack_198 >> 0x10));
          uStack_94 = CONCAT31((int)((uStack_18c << 0x10) >> 8),(char)uStack_94);
          if ((char)uStack_94 < '\0') {
            bVar36 = uStack_94 < 0x100;
            uStack_94 = uStack_94 - 0x100;
            uStack_90 = (uint)(uint8_t)((char)(uStack_18c >> 0x10) - bVar36);
          }
          uStack_80 = uStack_b0 << 0x10;
          uStack_78 = ((uVar29 * 0x10000 + uStack_ac) * 0x100 >> 0x18) << 8;
          uStack_7c = CONCAT31((int)((uStack_ac << 0x10) >> 8),
                               (char)(((uVar17 * 0x10000) + uStack_b0) >> 0x10));
        }
        break;
      case 0x1c:
      case 0x1e:
      case 0x23:
      case 0x24:
      case 0x27:
      case 0x28:
        iVar20 = iVar1 - iVar24;
        iVar21 = iVar20 * (iVar28 - iStack_74);
        if (-1 < iVar9) {
          iVar21 = (iVar21 - iVar20) - iVar20;
        }
        iVar13 = (iVar25 - iVar24) * (iVar13 - iStack_74) - (iVar21 + iVar20);
        if (iVar13 == 0) {
          uStack_a8 = 0;
          uStack_b0 = 0;
          uStack_ac = 0;
        }
        else {
          iVar13 = (int)(0x7fffffff / (int64_t)iVar13);
          iVar31 = iVar1 - iVar24;
          iVar34 = iVar25 - iVar24;
          lVar3 = (int64_t)iVar13 *
                  (int64_t)(int)((uVar16 - uVar32) * iVar34 - (uVar26 - uVar32) * iVar31);
          iVar20 = (int)lVar3;
          iVar21 = iVar20 << 1;
          uVar11 = (ushort)((uint)iVar21 >> 0x10);
          uStack_a8 = CONCAT22(uVar11,(ushort)((int)((uint64_t)lVar3 >> 0x20) << 1) |
                                      (ushort)(iVar20 < 0)) << 0x10 | (uint)uVar11;
          if (iVar21 < 0) {
            uStack_a8 = uStack_a8 + 1;
          }
          lVar3 = (int64_t)iVar13 *
                  (int64_t)(int)((uVar18 - uVar33) * iVar34 - (uVar17 - uVar33) * iVar31);
          iVar20 = (int)lVar3;
          iVar21 = iVar20 << 1;
          uVar11 = (ushort)((uint)iVar21 >> 0x10);
          uStack_b0 = CONCAT22(uVar11,(ushort)((int)((uint64_t)lVar3 >> 0x20) << 1) |
                                      (ushort)(iVar20 < 0)) << 0x10 | (uint)uVar11;
          if (iVar21 < 0) {
            uStack_b0 = uStack_b0 + 1;
          }
          lVar3 = (int64_t)iVar13 *
                  (int64_t)(int)((uVar30 - uVar27) * iVar34 - (uVar29 - uVar27) * iVar31);
          iVar13 = (int)lVar3;
          iVar20 = iVar13 << 1;
          uVar11 = (ushort)((uint)iVar20 >> 0x10);
          uStack_ac = CONCAT22(uVar11,(ushort)((int)((uint64_t)lVar3 >> 0x20) << 1) |
                                      (ushort)(iVar13 < 0)) << 0x10 | (uint)uVar11;
          if (iVar20 < 0) {
            uStack_ac = uStack_ac + 1;
          }
        }
        if (iVar9 < 0) {
          iVar13 = iVar1 - iVar24;
          if (iVar13 < 0x100) {
            lVar10 = gpoly_reptable[iVar13];
          }
          else {
            lVar10 = (long)(0x7fffffff / (int64_t)iVar13);
          }
          iVar13 = (uVar16 - uVar32) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uVar16 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uVar16 = uVar16 + 1;
          }
          iVar13 = (uVar18 - uVar33) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_194 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_194 = uStack_194 + 1;
          }
          iVar13 = (uVar30 - uVar27) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_188 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_188 = uStack_188 + 1;
          }
          uVar11 = (ushort)((uint64_t)((int64_t)local_1b0 * (int64_t)(int)uStack_b0) >> 0x10);
          uStack_194 = uStack_194 -
                       (CONCAT22(uVar11,(short)((uint64_t)
                                                ((int64_t)local_1b0 * (int64_t)(int)uStack_b0) >>
                                               0x20)) << 0x10 | (uint)uVar11);
          uVar11 = (ushort)((uint64_t)((int64_t)local_1b0 * (int64_t)(int)uStack_ac) >> 0x10);
          uStack_188 = uStack_188 -
                       (CONCAT22(uVar11,(short)((uint64_t)
                                                ((int64_t)local_1b0 * (int64_t)(int)uStack_ac) >>
                                               0x20)) << 0x10 | (uint)uVar11);
          uVar11 = (ushort)((uint64_t)((int64_t)local_1b0 * (int64_t)(int)uStack_a8) >> 0x10);
          uStack_1a4 = uVar16 - (CONCAT22(uVar11,(short)((uint64_t)
                                                         ((int64_t)local_1b0 *
                                                         (int64_t)(int)uStack_a8) >> 0x20)) << 0x10
                                | (uint)uVar11);
        }
        else {
          iVar13 = iVar25 - iVar24;
          if (iVar13 < 0x100) {
            lVar10 = gpoly_reptable[iVar13];
          }
          else {
            lVar10 = (long)(0x7fffffff / (int64_t)iVar13);
          }
          iVar13 = (uVar26 - uVar32) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uVar19 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uVar19 = uVar19 + 1;
          }
          iVar13 = (uVar17 - uVar33) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_194 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_194 = uStack_194 + 1;
          }
          iVar13 = (uVar29 - uVar27) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_188 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_188 = uStack_188 + 1;
          }
          iVar13 = iVar1 - iVar25;
          if (iVar13 < 0x100) {
            lVar10 = gpoly_reptable[iVar13];
          }
          else {
            lVar10 = (long)(0x7fffffff / (int64_t)iVar13);
          }
          iVar13 = (uVar16 - uVar26) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uVar16 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uVar16 = uVar16 + 1;
          }
          iVar13 = (uVar18 - uVar17) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uVar18 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uVar18 = uVar18 + 1;
          }
          iVar13 = (uVar30 - uVar29) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uVar30 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uVar30 = uVar30 + 1;
          }
          uVar11 = (ushort)((uint64_t)((int64_t)local_1ac * (int64_t)(int)uStack_b0) >> 0x10);
          uStack_194 = uStack_194 -
                       (CONCAT22(uVar11,(short)((uint64_t)
                                                ((int64_t)local_1ac * (int64_t)(int)uStack_b0) >>
                                               0x20)) << 0x10 | (uint)uVar11);
          uVar11 = (ushort)((uint64_t)((int64_t)local_1ac * (int64_t)(int)uStack_ac) >> 0x10);
          uStack_188 = uStack_188 -
                       (CONCAT22(uVar11,(short)((uint64_t)
                                                ((int64_t)local_1ac * (int64_t)(int)uStack_ac) >>
                                               0x20)) << 0x10 | (uint)uVar11);
          uVar11 = (ushort)((uint64_t)((int64_t)local_1ac * (int64_t)(int)uStack_a8) >> 0x10);
          uStack_1a4 = uVar19 - (CONCAT22(uVar11,(short)((uint64_t)
                                                         ((int64_t)local_1ac *
                                                         (int64_t)(int)uStack_a8) >> 0x20)) << 0x10
                                | (uint)uVar11);
          uVar11 = (ushort)((uint64_t)((int64_t)local_1a8 * (int64_t)(int)uStack_b0) >> 0x10);
          uStack_198 = uVar18 - (CONCAT22(uVar11,(short)((uint64_t)
                                                         ((int64_t)local_1a8 *
                                                         (int64_t)(int)uStack_b0) >> 0x20)) << 0x10
                                | (uint)uVar11);
          uVar11 = (ushort)((uint64_t)((int64_t)local_1a8 * (int64_t)(int)uStack_ac) >> 0x10);
          uStack_18c = uVar30 - (CONCAT22(uVar11,(short)((uint64_t)
                                                         ((int64_t)local_1a8 *
                                                         (int64_t)(int)uStack_ac) >> 0x20)) << 0x10
                                | (uint)uVar11);
          uVar11 = (ushort)((uint64_t)((int64_t)local_1a8 * (int64_t)(int)uStack_a8) >> 0x10);
          uStack_1a0 = uVar16 - (CONCAT22(uVar11,(short)((uint64_t)
                                                         ((int64_t)local_1a8 *
                                                         (int64_t)(int)uStack_a8) >> 0x20)) << 0x10
                                | (uint)uVar11);
        }
        iVar13 = uVar32 * 0x10000 + uStack_a8;
        iVar20 = uVar33 * 0x10000 + uStack_b0;
        iVar21 = uVar26 * 0x10000 + uStack_a8;
        iVar31 = uVar17 * 0x10000 + uStack_b0;
        cVar23 = (char)(uStack_b0 >> 0x10);
        uStack_bc = CONCAT22((short)uStack_b0,GET12(uStack_a8));
        cVar22 = cVar23;
        if (GET12(uStack_a8) < 0) {
          bVar36 = uStack_bc < 0x10000;
          uStack_bc = uStack_bc - 0x10000;
          cVar22 = cVar23 - bVar36;
        }
        cStack_28 = (char)(uStack_ac >> 0x10);
        uStack_b8 = CONCAT31((int)((uStack_ac << 0x10) >> 8),cVar22);
        cStack_b4 = cStack_28;
        if (cVar22 < '\0') {
          bVar36 = uStack_b8 < 0x100;
          uStack_b8 = uStack_b8 - 0x100;
          cStack_b4 = cStack_28 - bVar36;
        }
        uStack_5c = CONCAT22((short)uStack_b0,GET12(uStack_a8));
        if (GET12(uStack_a8) < 0) {
          bVar36 = uStack_5c < 0xffff;
          uStack_5c = uStack_5c - 0xffff;
          cVar23 = cVar23 - bVar36;
        }
        uStack_2c = CONCAT31((int)((uStack_ac << 0x10) >> 8),cVar23);
        if (cVar23 < '\0') {
          bVar36 = uStack_2c < 0x100;
          uStack_2c = uStack_2c - 0x100;
          cStack_28 = cStack_28 - bVar36;
        }
        cVar22 = (char)(uStack_194 >> 0x10);
        uStack_a4 = CONCAT22((short)uStack_194,GET12(uStack_1a4));
        if (GET12(uStack_1a4) < 0) {
          bVar36 = uStack_a4 < 0x10000;
          uStack_a4 = uStack_a4 - 0x10000;
          cVar22 = cVar22 - bVar36;
        }
        uStack_9c = (int)uStack_188 >> 0x10;
        uStack_a0 = CONCAT31((int)((uStack_188 << 0x10) >> 8),cVar22);
        if (cVar22 < '\0') {
          bVar36 = uStack_a0 < 0x100;
          uStack_a0 = uStack_a0 - 0x100;
          uStack_9c = (uint)(uint8_t)((char)(uStack_188 >> 0x10) - bVar36);
        }
        uStack_8c = CONCAT22((short)iVar20,(short)((uint)iVar13 >> 8));
        uStack_88 = CONCAT31((int)((uStack_ac << 0x10) >> 8),(char)((uint)iVar20 >> 0x10));
        uStack_84 = (uint)CONCAT11((char)(((uVar27 * 0x10000) + uStack_ac) >> 0x10),(char)iVar13);
        if (-1 < iVar9) {
          cVar22 = (char)(uStack_198 >> 0x10);
          uStack_98 = CONCAT22((short)uStack_198,GET12(uStack_1a0));
          if (GET12(uStack_1a0) < 0) {
            bVar36 = uStack_98 < 0x10000;
            uStack_98 = uStack_98 - 0x10000;
            cVar22 = cVar22 - bVar36;
          }
          uStack_90 = (int)uStack_18c >> 0x10;
          uStack_94 = CONCAT31((int)((uStack_18c << 0x10) >> 8),cVar22);
          if (cVar22 < '\0') {
            bVar36 = uStack_94 < 0x100;
            uStack_94 = uStack_94 - 0x100;
            uStack_90 = (uint)(uint8_t)((char)(uStack_18c >> 0x10) - bVar36);
          }
          uStack_80 = CONCAT22((short)iVar31,(short)((uint)iVar21 >> 8));
          uStack_7c = CONCAT31((int)((uStack_ac << 0x10) >> 8),(char)((uint)iVar31 >> 0x10));
          uStack_78 = (uint)CONCAT11((char)(((uVar29 * 0x10000) + uStack_ac) >> 0x10),(char)iVar21);
        }
        break;
      default:
        goto override_jmp_007804ee_case_8;
      case 0x45:
        iVar20 = iVar1 - iVar24;
        iVar21 = iVar20 * (iVar28 - iStack_74);
        if (-1 < iVar9) {
          iVar21 = (iVar21 - iVar20) - iVar20;
        }
        iVar13 = (iVar25 - iVar24) * (iVar13 - iStack_74) - (iVar21 + iVar20);
        if (iVar13 == 0) {
          uStack_a8 = 0;
          uStack_b0 = 0;
          uStack_ac = 0;
        }
        else {
          iVar13 = (int)(0x7fffffff / (int64_t)iVar13);
          iVar31 = iVar1 - iVar24;
          iVar34 = iVar25 - iVar24;
          lVar2 = (int64_t)iVar13 *
                  (int64_t)(int)((uVar16 - uVar32) * iVar34 - (uVar26 - uVar32) * iVar31);
          iVar20 = (int)lVar2;
          iVar21 = iVar20 << 1;
          uVar11 = (ushort)((uint)iVar21 >> 0x10);
          uStack_a8 = CONCAT22(uVar11,(ushort)((int)((uint64_t)lVar2 >> 0x20) << 1) |
                                      (ushort)(iVar20 < 0)) << 0x10 | (uint)uVar11;
          if (iVar21 < 0) {
            uStack_a8 = uStack_a8 + 1;
          }
          lVar3 = (int64_t)iVar13 *
                  (int64_t)(int)((uVar18 - uVar33) * iVar34 - (uVar17 - uVar33) * iVar31);
          iVar20 = (int)lVar3;
          iVar21 = iVar20 << 1;
          uVar11 = (ushort)((uint)iVar21 >> 0x10);
          uStack_b0 = CONCAT22(uVar11,(ushort)((int)((uint64_t)lVar3 >> 0x20) << 1) |
                                      (ushort)(iVar20 < 0)) << 0x10 | (uint)uVar11;
          if (iVar21 < 0) {
            uStack_b0 = uStack_b0 + 1;
          }
          lVar3 = (int64_t)iVar13 *
                  (int64_t)(int)((uVar30 - uVar27) * iVar34 - (uVar29 - uVar27) * iVar31);
          iVar13 = (int)lVar3;
          iVar20 = iVar13 << 1;
          uVar11 = (ushort)((uint)iVar20 >> 0x10);
          uStack_ac = CONCAT22(uVar11,(ushort)((int)((uint64_t)lVar3 >> 0x20) << 1) |
                                      (ushort)(iVar13 < 0)) << 0x10 | (uint)uVar11;
          if (iVar20 < 0) {
            uStack_ac = uStack_ac + 1;
          }
        }
        if (iVar9 < 0) {
          iVar13 = iVar1 - iVar24;
          if (iVar13 < 0x100) {
            lVar10 = gpoly_reptable[iVar13];
          }
          else {
            lVar10 = (long)(0x7fffffff / (int64_t)iVar13);
          }
          iVar13 = (uVar16 - uVar32) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_1a4 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_1a4 = uStack_1a4 + 1;
          }
          iVar13 = (uVar18 - uVar33) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_194 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_194 = uStack_194 + 1;
          }
          iVar13 = (uVar30 - uVar27) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_188 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_188 = uStack_188 + 1;
          }
        }
        else {
          iVar13 = iVar25 - iVar24;
          if (iVar13 < 0x100) {
            lVar10 = gpoly_reptable[iVar13];
          }
          else {
            lVar10 = (long)(0x7fffffff / (int64_t)iVar13);
          }
          iVar13 = (uVar26 - uVar32) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_1a4 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_1a4 = uStack_1a4 + 1;
          }
          iVar13 = (uVar17 - uVar33) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_194 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_194 = uStack_194 + 1;
          }
          iVar13 = (uVar29 - uVar27) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_188 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_188 = uStack_188 + 1;
          }
          iVar13 = iVar1 - iVar25;
          if (iVar13 < 0x100) {
            lVar10 = gpoly_reptable[iVar13];
          }
          else {
            lVar10 = (long)(0x7fffffff / (int64_t)iVar13);
          }
          iVar13 = (uVar16 - uVar26) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_1a0 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_1a0 = uStack_1a0 + 1;
          }
          iVar13 = (uVar18 - uVar17) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_198 = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_198 = uStack_198 + 1;
          }
          iVar13 = (uVar30 - uVar29) * 2;
          lVar3 = (int64_t)iVar13 * (int64_t)lVar10;
          uVar11 = (ushort)((uint64_t)lVar3 >> 0x10);
          uStack_18c = CONCAT22(uVar11,(short)((uint64_t)lVar3 >> 0x20)) << 0x10 | (uint)uVar11;
          if (iVar13 < 0) {
            uStack_18c = uStack_18c + 1;
          }
        }
        uVar18 = uStack_ac * 0x10000;
        iVar20 = (int)uStack_ac >> 0x10;
        uStack_30 = uStack_a8 << 0x18;
        uVar19 = (int)uStack_a8 >> 8;
        iVar13 = iVar20;
        uVar16 = uVar19;
        if ((int)uVar19 < 0) {
          uVar16 = uVar19 & 0xffff;
          bVar36 = uVar18 < 0x10000;
          uVar18 = uVar18 - 0x10000;
          iVar13 = iVar20 - (uint)bVar36;
        }
        uStack_bc = uVar18 + uVar16;
        uVar18 = iVar13 + (uint)CARRY4(uVar18,uVar16);
        uVar16 = uStack_b0;
        if ((int)uVar18 < 0) {
          uVar16 = uStack_b0 - 1;
        }
        uStack_b8 = (uVar18 & 0xff) | (uVar16 << 8);
        uStack_ac = uStack_ac * 0x10000;
        if ((int)uVar19 < 0) {
          uVar19 = uVar19 & 0xffff;
          bVar36 = uStack_ac < 0xffff;
          uStack_ac = uStack_ac - 0xffff;
          iVar20 = iVar20 - (uint)bVar36;
        }
        uStack_5c = uStack_ac + uVar19;
        uVar16 = iVar20 + (uint)CARRY4(uStack_ac,uVar19);
        if ((int)uVar16 < 0) {
          uStack_b0 = uStack_b0 - 1;
        }
        uStack_2c = (uVar16 & 0xff) | (uStack_b0 << 8);
        uVar16 = uStack_188 * 0x10000;
        iVar13 = (int)uStack_188 >> 0x10;
        uStack_68 = uStack_1a4 << 0x18;
        uVar18 = (int)uStack_1a4 >> 8;
        if ((int)uVar18 < 0) {
          uVar18 = uVar18 & 0xffff;
          bVar36 = uVar16 < 0x10000;
          uVar16 = uVar16 - 0x10000;
          iVar13 = iVar13 - (uint)bVar36;
        }
        uStack_a4 = uVar16 + uVar18;
        uVar16 = iVar13 + (uint)CARRY4(uVar16,uVar18);
        if ((int)uVar16 < 0) {
          uStack_194 = uStack_194 - 1;
        }
        uStack_a0 = (uVar16 & 0xff) | (uStack_194 << 8);
        uStack_8c = (uVar32 << 0x10) >> 8;
        uStack_88 = (uVar27 & 0xff) | (uVar33 << 0x18);
        if (-1 < iVar9) {
          uVar16 = uStack_18c * 0x10000;
          iVar13 = (int)uStack_18c >> 0x10;
          uStack_64 = uStack_1a0 << 0x18;
          uVar18 = (int)uStack_1a0 >> 8;
          if ((int)uVar18 < 0) {
            uVar18 = uVar18 & 0xffff;
            bVar36 = uVar16 < 0x10000;
            uVar16 = uVar16 - 0x10000;
            iVar13 = iVar13 - (uint)bVar36;
          }
          uStack_98 = uVar16 + uVar18;
          uVar16 = iVar13 + (uint)CARRY4(uVar16,uVar18);
          if ((int)uVar16 < 0) {
            uStack_198 = uStack_198 - 1;
          }
          uStack_94 = (uVar16 & 0xff) | (uStack_198 << 8);
          uStack_80 = (uVar26 << 0x10) >> 8;
          uStack_7c = (uVar29 & 0xff) | (uVar17 << 0x18);
        }
      }
      switch(gpoly_mode) {
      case 0:
      case 0x40:
        return;
      case 2:
      case 0x42:
        return;
      case 3:
      case 0x43:
        return;
      case 4:
      case 0x44:
        return;
      case 5:
        if (bVar37) {
          iStack_180 = 2;
          uStack_60 = uStack_1a4;
          uStack_cc = uStack_a4;
          uStack_c4 = uStack_a0;
          uStack_c8 = uStack_9c;
          if (iVar9 < 0) {
            iStack_12c = local_1b0;
            iStack_128 = local_1ac;
          }
          else {
            iStack_12c = local_1ac;
            iStack_128 = local_1b0;
          }
          ptr28 = &vec_screen[vec_screen_width * iVar24];
          if (iVar24 <= vec_window_height) {
            iStack_c0 = iVar25;
            if (vec_window_height < iVar25) {
              iStack_c0 = vec_window_height;
            }
            iStack_c0 = iStack_c0 - iVar24;
            iVar20 = iVar14;
            if (iStack_c0 == 0) goto LAB_00782cd8;
            if (iVar24 < 0) goto LAB_00782c50;
LAB_00782ae0:
            do {
              iVar21 = iVar14 >> 0x10;
              if (iVar21 < 0) {
                if (iStack_74 != 0) {
                  if (iStack_74 < 0) {
                    do {
                      uVar16 = (uint)CARRY1((uint8_t)uStack_84,(uint8_t)uStack_a8);
                      bVar37 = CARRY4(uStack_8c,uStack_bc);
                      uVar17 = uStack_8c + uStack_bc;
                      uStack_8c = uVar17 + uVar16;
                      uVar16 = (uint)(bVar37 || CARRY4(uVar17,uVar16));
                      bVar37 = CARRY4(uStack_88,uStack_b8);
                      uVar17 = uStack_88 + uStack_b8;
                      uStack_88 = uVar17 + uVar16;
                      uStack_84 = CONCAT22((short)(uStack_84 >> 0x10),
                                           CONCAT11((char)(uStack_84 >> 8) + cStack_b4 +
                                                    (bVar37 || CARRY4(uVar17,uVar16)),
                                                    (uint8_t)uStack_84 + (uint8_t)uStack_a8));
                      iStack_74 = iStack_74 + 1;
                    } while (iStack_74 != 0);
                  }
                  else {
                    do {
                      uVar16 = (uint)((uint8_t)uStack_84 < (uint8_t)uStack_a8);
                      bVar37 = uStack_8c < uStack_bc;
                      uVar17 = uStack_8c - uStack_bc;
                      uStack_8c = uVar17 - uVar16;
                      uVar16 = (uint)(bVar37 || uVar17 < uVar16);
                      bVar37 = uStack_88 < uStack_b8;
                      uVar17 = uStack_88 - uStack_b8;
                      uStack_88 = uVar17 - uVar16;
                      uStack_84 = CONCAT22((short)(uStack_84 >> 0x10),
                                           CONCAT11(((char)(uStack_84 >> 8) - cStack_b4) -
                                                    (bVar37 || uVar17 < uVar16),
                                                    (uint8_t)uStack_84 - (uint8_t)uStack_a8));
                      iStack_74 = iStack_74 + -1;
                    } while (iStack_74 != 0);
                  }
                }
              }
              else if (iStack_74 < iVar21) {
                do {
                  uVar16 = (uint)CARRY1((uint8_t)uStack_84,(uint8_t)uStack_a8);
                  bVar37 = CARRY4(uStack_8c,uStack_bc);
                  uVar17 = uStack_8c + uStack_bc;
                  uStack_8c = uVar17 + uVar16;
                  uVar16 = (uint)(bVar37 || CARRY4(uVar17,uVar16));
                  bVar37 = CARRY4(uStack_88,uStack_b8);
                  uVar17 = uStack_88 + uStack_b8;
                  uStack_88 = uVar17 + uVar16;
                  uStack_84 = CONCAT22((short)(uStack_84 >> 0x10),
                                       CONCAT11((char)(uStack_84 >> 8) + cStack_b4 +
                                                (bVar37 || CARRY4(uVar17,uVar16)),
                                                (uint8_t)uStack_84 + (uint8_t)uStack_a8));
                  iStack_74 = iStack_74 + 1;
                } while (iStack_74 < iVar21);
              }
              else {
                for (; iVar21 < iStack_74; iStack_74 = iStack_74 + -1) {
                  uVar16 = (uint)((uint8_t)uStack_84 < (uint8_t)uStack_a8);
                  bVar37 = uStack_8c < uStack_bc;
                  uVar17 = uStack_8c - uStack_bc;
                  uStack_8c = uVar17 - uVar16;
                  uVar16 = (uint)(bVar37 || uVar17 < uVar16);
                  bVar37 = uStack_88 < uStack_b8;
                  uVar17 = uStack_88 - uStack_b8;
                  uStack_88 = uVar17 - uVar16;
                  uStack_84 = CONCAT22((short)(uStack_84 >> 0x10),
                                       CONCAT11(((char)(uStack_84 >> 8) - cStack_b4) -
                                                (bVar37 || uVar17 < uVar16),
                                                (uint8_t)uStack_84 - (uint8_t)uStack_a8));
                }
              }
              iVar31 = iVar20 >> 0x10;
              if (vec_window_width < iVar20 >> 0x10) {
                iVar31 = vec_window_width;
              }
              uStack_d4 = iVar31 - iStack_74;
              if (uStack_d4 != 0 && iStack_74 <= iVar31) {
                puVar35 = ptr28 + iStack_74 + gpoly_countdown[uStack_d4 & 0xf];
                uVar16 = uStack_8c;
                uVar17 = uStack_8c;
                uVar18 = uStack_88;
                uVar19 = uStack_88;
                uVar26 = uStack_84;
                uVar27 = uStack_84;
                switch(uStack_d4 & 0xf) {
                case 1:
                  goto switchD_00782b64_caseD_1;
                case 2:
                  goto switchD_00782b64_caseD_2;
                case 3:
                  goto switchD_00782b64_caseD_3;
                case 4:
                  goto switchD_00782b64_caseD_4;
                case 5:
                  goto switchD_00782b64_caseD_5;
                case 6:
                  goto switchD_00782b64_caseD_6;
                case 7:
                  goto switchD_00782b64_caseD_7;
                case 8:
                  goto switchD_00782b64_caseD_8;
                case 9:
                  goto switchD_00782b64_caseD_9;
                case 10:
                  goto switchD_00782b64_caseD_a;
                case 0xb:
                  goto switchD_00782b64_caseD_b;
                case 0xc:
                  goto switchD_00782b64_caseD_c;
                case 0xd:
                  goto switchD_00782b64_caseD_d;
                case 0xe:
                  goto switchD_00782b64_caseD_e;
                case 0xf:
                  goto switchD_00782b64_caseD_f;
                }
                do {
                  uVar17 = uVar16 + uStack_5c;
                  uVar19 = uVar18 + uStack_2c + (uint)CARRY4(uVar16,uStack_5c);
                  uVar27 = (uint)CONCAT21((short)(uVar26 >> 0x10),
                                          (char)(uVar26 >> 8) + cStack_28 +
                                          (CARRY4(uVar18,uStack_2c) ||
                                          CARRY4(uVar18 + uStack_2c,(uint)CARRY4(uVar16,uStack_5c)))
                                         ) << 8;
                  *puVar35 = pixmap.fade_tables
                             [CONCAT11((char)(uVar16 >> 8),
                                       vec_map[CONCAT31((int)(uVar26 >> 8),(char)uVar18)])];
switchD_00782b64_caseD_f:
                  uVar16 = uVar17 + uStack_5c;
                  uVar18 = uVar19 + uStack_2c + (uint)CARRY4(uVar17,uStack_5c);
                  uVar26 = (uint)CONCAT21((short)(uVar27 >> 0x10),
                                          (char)(uVar27 >> 8) + cStack_28 +
                                          (CARRY4(uVar19,uStack_2c) ||
                                          CARRY4(uVar19 + uStack_2c,(uint)CARRY4(uVar17,uStack_5c)))
                                         ) << 8;
                  puVar35[1] = pixmap.fade_tables
                               [CONCAT11((char)(uVar17 >> 8),
                                         vec_map[CONCAT31((int)(uVar27 >> 8),(char)uVar19)])];
switchD_00782b64_caseD_e:
                  uVar17 = uVar16 + uStack_5c;
                  uVar19 = uVar18 + uStack_2c + (uint)CARRY4(uVar16,uStack_5c);
                  uVar27 = (uint)CONCAT21((short)(uVar26 >> 0x10),
                                          (char)(uVar26 >> 8) + cStack_28 +
                                          (CARRY4(uVar18,uStack_2c) ||
                                          CARRY4(uVar18 + uStack_2c,(uint)CARRY4(uVar16,uStack_5c)))
                                         ) << 8;
                  puVar35[2] = pixmap.fade_tables
                               [CONCAT11((char)(uVar16 >> 8),
                                         vec_map[CONCAT31((int)(uVar26 >> 8),(char)uVar18)])];
switchD_00782b64_caseD_d:
                  uVar16 = uVar17 + uStack_5c;
                  uVar18 = uVar19 + uStack_2c + (uint)CARRY4(uVar17,uStack_5c);
                  uVar26 = (uint)CONCAT21((short)(uVar27 >> 0x10),
                                          (char)(uVar27 >> 8) + cStack_28 +
                                          (CARRY4(uVar19,uStack_2c) ||
                                          CARRY4(uVar19 + uStack_2c,(uint)CARRY4(uVar17,uStack_5c)))
                                         ) << 8;
                  puVar35[3] = pixmap.fade_tables
                               [CONCAT11((char)(uVar17 >> 8),
                                         vec_map[CONCAT31((int)(uVar27 >> 8),(char)uVar19)])];
switchD_00782b64_caseD_c:
                  uVar17 = uVar16 + uStack_5c;
                  uVar19 = uVar18 + uStack_2c + (uint)CARRY4(uVar16,uStack_5c);
                  uVar27 = (uint)CONCAT21((short)(uVar26 >> 0x10),
                                          (char)(uVar26 >> 8) + cStack_28 +
                                          (CARRY4(uVar18,uStack_2c) ||
                                          CARRY4(uVar18 + uStack_2c,(uint)CARRY4(uVar16,uStack_5c)))
                                         ) << 8;
                  puVar35[4] = pixmap.fade_tables
                               [CONCAT11((char)(uVar16 >> 8),
                                         vec_map[CONCAT31((int)(uVar26 >> 8),(char)uVar18)])];
switchD_00782b64_caseD_b:
                  uVar16 = uVar17 + uStack_5c;
                  uVar18 = uVar19 + uStack_2c + (uint)CARRY4(uVar17,uStack_5c);
                  uVar26 = (uint)CONCAT21((short)(uVar27 >> 0x10),
                                          (char)(uVar27 >> 8) + cStack_28 +
                                          (CARRY4(uVar19,uStack_2c) ||
                                          CARRY4(uVar19 + uStack_2c,(uint)CARRY4(uVar17,uStack_5c)))
                                         ) << 8;
                  puVar35[5] = pixmap.fade_tables
                               [CONCAT11((char)(uVar17 >> 8),
                                         vec_map[CONCAT31((int)(uVar27 >> 8),(char)uVar19)])];
switchD_00782b64_caseD_a:
                  uVar17 = uVar16 + uStack_5c;
                  uVar19 = uVar18 + uStack_2c + (uint)CARRY4(uVar16,uStack_5c);
                  uVar27 = (uint)CONCAT21((short)(uVar26 >> 0x10),
                                          (char)(uVar26 >> 8) + cStack_28 +
                                          (CARRY4(uVar18,uStack_2c) ||
                                          CARRY4(uVar18 + uStack_2c,(uint)CARRY4(uVar16,uStack_5c)))
                                         ) << 8;
                  puVar35[6] = pixmap.fade_tables
                               [CONCAT11((char)(uVar16 >> 8),
                                         vec_map[CONCAT31((int)(uVar26 >> 8),(char)uVar18)])];
switchD_00782b64_caseD_9:
                  uVar16 = uVar17 + uStack_5c;
                  uVar18 = uVar19 + uStack_2c + (uint)CARRY4(uVar17,uStack_5c);
                  uVar26 = (uint)CONCAT21((short)(uVar27 >> 0x10),
                                          (char)(uVar27 >> 8) + cStack_28 +
                                          (CARRY4(uVar19,uStack_2c) ||
                                          CARRY4(uVar19 + uStack_2c,(uint)CARRY4(uVar17,uStack_5c)))
                                         ) << 8;
                  puVar35[7] = pixmap.fade_tables
                               [CONCAT11((char)(uVar17 >> 8),
                                         vec_map[CONCAT31((int)(uVar27 >> 8),(char)uVar19)])];
switchD_00782b64_caseD_8:
                  uVar17 = uVar16 + uStack_5c;
                  uVar19 = uVar18 + uStack_2c + (uint)CARRY4(uVar16,uStack_5c);
                  uVar27 = (uint)CONCAT21((short)(uVar26 >> 0x10),
                                          (char)(uVar26 >> 8) + cStack_28 +
                                          (CARRY4(uVar18,uStack_2c) ||
                                          CARRY4(uVar18 + uStack_2c,(uint)CARRY4(uVar16,uStack_5c)))
                                         ) << 8;
                  puVar35[8] = pixmap.fade_tables
                               [CONCAT11((char)(uVar16 >> 8),
                                         vec_map[CONCAT31((int)(uVar26 >> 8),(char)uVar18)])];
switchD_00782b64_caseD_7:
                  uVar16 = uVar17 + uStack_5c;
                  uVar18 = uVar19 + uStack_2c + (uint)CARRY4(uVar17,uStack_5c);
                  uVar26 = (uint)CONCAT21((short)(uVar27 >> 0x10),
                                          (char)(uVar27 >> 8) + cStack_28 +
                                          (CARRY4(uVar19,uStack_2c) ||
                                          CARRY4(uVar19 + uStack_2c,(uint)CARRY4(uVar17,uStack_5c)))
                                         ) << 8;
                  puVar35[9] = pixmap.fade_tables
                               [CONCAT11((char)(uVar17 >> 8),
                                         vec_map[CONCAT31((int)(uVar27 >> 8),(char)uVar19)])];
switchD_00782b64_caseD_6:
                  uVar17 = uVar16 + uStack_5c;
                  uVar19 = uVar18 + uStack_2c + (uint)CARRY4(uVar16,uStack_5c);
                  uVar27 = (uint)CONCAT21((short)(uVar26 >> 0x10),
                                          (char)(uVar26 >> 8) + cStack_28 +
                                          (CARRY4(uVar18,uStack_2c) ||
                                          CARRY4(uVar18 + uStack_2c,(uint)CARRY4(uVar16,uStack_5c)))
                                         ) << 8;
                  puVar35[10] = pixmap.fade_tables
                                [CONCAT11((char)(uVar16 >> 8),
                                          vec_map[CONCAT31((int)(uVar26 >> 8),(char)uVar18)])];
switchD_00782b64_caseD_5:
                  uVar16 = uVar17 + uStack_5c;
                  uVar18 = uVar19 + uStack_2c + (uint)CARRY4(uVar17,uStack_5c);
                  uVar26 = (uint)CONCAT21((short)(uVar27 >> 0x10),
                                          (char)(uVar27 >> 8) + cStack_28 +
                                          (CARRY4(uVar19,uStack_2c) ||
                                          CARRY4(uVar19 + uStack_2c,(uint)CARRY4(uVar17,uStack_5c)))
                                         ) << 8;
                  puVar35[0xb] = pixmap.fade_tables
                                 [CONCAT11((char)(uVar17 >> 8),
                                           vec_map[CONCAT31((int)(uVar27 >> 8),(char)uVar19)])];
switchD_00782b64_caseD_4:
                  uVar17 = uVar16 + uStack_5c;
                  uVar19 = uVar18 + uStack_2c + (uint)CARRY4(uVar16,uStack_5c);
                  uVar27 = (uint)CONCAT21((short)(uVar26 >> 0x10),
                                          (char)(uVar26 >> 8) + cStack_28 +
                                          (CARRY4(uVar18,uStack_2c) ||
                                          CARRY4(uVar18 + uStack_2c,(uint)CARRY4(uVar16,uStack_5c)))
                                         ) << 8;
                  puVar35[0xc] = pixmap.fade_tables
                                 [CONCAT11((char)(uVar16 >> 8),
                                           vec_map[CONCAT31((int)(uVar26 >> 8),(char)uVar18)])];
switchD_00782b64_caseD_3:
                  uVar16 = uVar17 + uStack_5c;
                  uVar18 = uVar19 + uStack_2c + (uint)CARRY4(uVar17,uStack_5c);
                  uVar26 = (uint)CONCAT21((short)(uVar27 >> 0x10),
                                          (char)(uVar27 >> 8) + cStack_28 +
                                          (CARRY4(uVar19,uStack_2c) ||
                                          CARRY4(uVar19 + uStack_2c,(uint)CARRY4(uVar17,uStack_5c)))
                                         ) << 8;
                  puVar35[0xd] = pixmap.fade_tables
                                 [CONCAT11((char)(uVar17 >> 8),
                                           vec_map[CONCAT31((int)(uVar27 >> 8),(char)uVar19)])];
switchD_00782b64_caseD_2:
                  uVar17 = uVar16 + uStack_5c;
                  uVar19 = uVar18 + uStack_2c + (uint)CARRY4(uVar16,uStack_5c);
                  uVar27 = (uint)CONCAT21((short)(uVar26 >> 0x10),
                                          (char)(uVar26 >> 8) + cStack_28 +
                                          (CARRY4(uVar18,uStack_2c) ||
                                          CARRY4(uVar18 + uStack_2c,(uint)CARRY4(uVar16,uStack_5c)))
                                         ) << 8;
                  puVar35[0xe] = pixmap.fade_tables
                                 [CONCAT11((char)(uVar16 >> 8),
                                           vec_map[CONCAT31((int)(uVar26 >> 8),(char)uVar18)])];
switchD_00782b64_caseD_1:
                  uVar16 = uVar17 + uStack_5c;
                  uVar18 = uVar19 + uStack_2c + (uint)CARRY4(uVar17,uStack_5c);
                  uVar26 = (uint)CONCAT21((short)(uVar27 >> 0x10),
                                          (char)(uVar27 >> 8) + cStack_28 +
                                          (CARRY4(uVar19,uStack_2c) ||
                                          CARRY4(uVar19 + uStack_2c,(uint)CARRY4(uVar17,uStack_5c)))
                                         ) << 8;
                  puVar35[0xf] = pixmap.fade_tables
                                 [CONCAT11((char)(uVar17 >> 8),
                                           vec_map[CONCAT31((int)(uVar27 >> 8),(char)uVar19)])];
                  puVar35 = puVar35 + 0x10;
                  uVar17 = uStack_d4 - 0x10;
                  bVar37 = 0xf < (int)uStack_d4;
                  uStack_d4 = uVar17;
                } while (uVar17 != 0 && bVar37);
              }
              iVar14 = iVar14 + iStack_12c;
              iVar20 = iVar20 + iStack_128;
              iStack_74 = (iStack_74 - iVar21) + (iVar14 >> 0x10);
              uVar16 = (uint)CARRY1((uint8_t)uStack_84,(uint8_t)uStack_60);
              bVar37 = CARRY4(uStack_8c,uStack_cc);
              uVar17 = uStack_8c + uStack_cc;
              uStack_8c = uVar17 + uVar16;
              uVar16 = (uint)(bVar37 || CARRY4(uVar17,uVar16));
              bVar37 = CARRY4(uStack_88,uStack_c4);
              uVar17 = uStack_88 + uStack_c4;
              uStack_88 = uVar17 + uVar16;
              uStack_84 = CONCAT22((short)(uStack_84 >> 0x10),
                                   CONCAT11((char)(uStack_84 >> 8) + (char)uStack_c8 +
                                            (bVar37 || CARRY4(uVar17,uVar16)),
                                            (uint8_t)uStack_84 + (uint8_t)uStack_60));
              ptr28 += vec_screen_width;
              iStack_c0 = iStack_c0 + -1;
            } while (iStack_c0 != 0);
LAB_00782cd8:
            while (iStack_180 = iStack_180 + -1, iStack_180 != 0) {
              if (iVar9 < 0) {
                iVar21 = iVar1;
                if (vec_window_height < iVar1) {
                  iVar21 = vec_window_height;
                }
                iStack_c0 = iVar21 - iVar25;
                iVar24 = iVar25;
                iVar20 = iVar15;
                iStack_128 = local_1a8;
                if (iStack_c0 == 0 || iVar21 < iVar25) {
                  return;
                }
              }
              else {
                iVar21 = iVar1;
                if (vec_window_height < iVar1) {
                  iVar21 = vec_window_height;
                }
                iStack_c0 = iVar21 - iVar25;
                iVar24 = iVar25;
                iVar14 = iVar15;
                uStack_8c = uStack_80;
                uStack_88 = uStack_7c;
                uStack_84 = uStack_78;
                iStack_74 = iVar28;
                iStack_12c = local_1a8;
                uStack_cc = uStack_98;
                uStack_c8 = uStack_90;
                uStack_c4 = uStack_94;
                uStack_60 = uStack_1a0;
                if (iStack_c0 == 0 || iVar21 < iVar25) {
                  return;
                }
              }
              while( true ) {
                if (-1 < iVar24) goto LAB_00782ae0;
LAB_00782c50:
                uVar16 = (uint)CARRY1((uint8_t)uStack_84,(uint8_t)uStack_60);
                bVar37 = CARRY4(uStack_8c,uStack_cc);
                uVar17 = uStack_8c + uStack_cc;
                uStack_8c = uVar17 + uVar16;
                uVar16 = (uint)(bVar37 || CARRY4(uVar17,uVar16));
                bVar37 = CARRY4(uStack_88,uStack_c4);
                uVar17 = uStack_88 + uStack_c4;
                uStack_88 = uVar17 + uVar16;
                uStack_84 = CONCAT22((short)(uStack_84 >> 0x10),
                                     CONCAT11((char)(uStack_84 >> 8) + (char)uStack_c8 +
                                              (bVar37 || CARRY4(uVar17,uVar16)),
                                              (uint8_t)uStack_84 + (uint8_t)uStack_60));
                iVar21 = iVar14 >> 0x10;
                iVar14 = iVar14 + iStack_12c;
                iVar20 = iVar20 + iStack_128;
                iStack_74 = (iStack_74 - iVar21) + (iVar14 >> 0x10);
                ptr28 += vec_screen_width;
                iStack_c0 = iStack_c0 + -1;
                if (iStack_c0 == 0) break;
                iVar24 = iVar24 + 1;
              }
            }
          }
          return;
        }
        iStack_180 = 2;
        uStack_60 = uStack_1a4;
        uStack_cc = uStack_a4;
        uStack_c4 = uStack_a0;
        uStack_c8 = uStack_9c;
        if (iVar9 < 0) {
          iStack_12c = local_1b0;
          iStack_128 = local_1ac;
        }
        else {
          iStack_12c = local_1ac;
          iStack_128 = local_1b0;
        }
        ptr28 = &vec_screen[vec_screen_width * iVar24];
        if (iVar24 <= vec_window_height) {
          iStack_c0 = iVar25;
          if (vec_window_height < iVar25) {
            iStack_c0 = vec_window_height;
          }
          iStack_c0 = iStack_c0 - iVar24;
          iVar13 = iVar14;
          if (iStack_c0 == 0) goto LAB_00782618;
          if (iVar24 < 0) goto LAB_00782590;
LAB_00782520:
          do {
            iVar20 = iVar14 >> 0x10;
            uStack_d4 = (iVar13 >> 0x10) - iVar20;
            if (uStack_d4 != 0 && iVar20 <= iVar13 >> 0x10) {
              puVar35 = ptr28 + iVar20 + gpoly_countdown[uStack_d4 & 0xf];
              uVar16 = uStack_8c;
              uVar17 = uStack_8c;
              uVar18 = uStack_88;
              uVar19 = uStack_88;
              uVar26 = uStack_84;
              uVar27 = uStack_84;
              switch(uStack_d4 & 0xf) {
              case 0:
                do {
                  uVar17 = uVar16 + uStack_5c;
                  uVar19 = uVar18 + uStack_2c + (uint)CARRY4(uVar16,uStack_5c);
                  uVar27 = (uint)CONCAT21((short)(uVar26 >> 0x10),
                                          (char)(uVar26 >> 8) + cStack_28 +
                                          (CARRY4(uVar18,uStack_2c) ||
                                          CARRY4(uVar18 + uStack_2c,(uint)CARRY4(uVar16,uStack_5c)))
                                         ) << 8;
                  *puVar35 = pixmap.fade_tables
                             [CONCAT11((char)(uVar16 >> 8),
                                       vec_map[CONCAT31((int)(uVar26 >> 8),(char)uVar18)])];
switchD_00782581_caseD_f:
                  uVar16 = uVar17 + uStack_5c;
                  uVar18 = uVar19 + uStack_2c + (uint)CARRY4(uVar17,uStack_5c);
                  uVar26 = (uint)CONCAT21((short)(uVar27 >> 0x10),
                                          (char)(uVar27 >> 8) + cStack_28 +
                                          (CARRY4(uVar19,uStack_2c) ||
                                          CARRY4(uVar19 + uStack_2c,(uint)CARRY4(uVar17,uStack_5c)))
                                         ) << 8;
                  puVar35[1] = pixmap.fade_tables
                               [CONCAT11((char)(uVar17 >> 8),
                                         vec_map[CONCAT31((int)(uVar27 >> 8),(char)uVar19)])];
switchD_00782581_caseD_e:
                  uVar17 = uVar16 + uStack_5c;
                  uVar19 = uVar18 + uStack_2c + (uint)CARRY4(uVar16,uStack_5c);
                  uVar27 = (uint)CONCAT21((short)(uVar26 >> 0x10),
                                          (char)(uVar26 >> 8) + cStack_28 +
                                          (CARRY4(uVar18,uStack_2c) ||
                                          CARRY4(uVar18 + uStack_2c,(uint)CARRY4(uVar16,uStack_5c)))
                                         ) << 8;
                  puVar35[2] = pixmap.fade_tables
                               [CONCAT11((char)(uVar16 >> 8),
                                         vec_map[CONCAT31((int)(uVar26 >> 8),(char)uVar18)])];
switchD_00782581_caseD_d:
                  uVar16 = uVar17 + uStack_5c;
                  uVar18 = uVar19 + uStack_2c + (uint)CARRY4(uVar17,uStack_5c);
                  uVar26 = (uint)CONCAT21((short)(uVar27 >> 0x10),
                                          (char)(uVar27 >> 8) + cStack_28 +
                                          (CARRY4(uVar19,uStack_2c) ||
                                          CARRY4(uVar19 + uStack_2c,(uint)CARRY4(uVar17,uStack_5c)))
                                         ) << 8;
                  puVar35[3] = pixmap.fade_tables
                               [CONCAT11((char)(uVar17 >> 8),
                                         vec_map[CONCAT31((int)(uVar27 >> 8),(char)uVar19)])];
switchD_00782581_caseD_c:
                  uVar17 = uVar16 + uStack_5c;
                  uVar19 = uVar18 + uStack_2c + (uint)CARRY4(uVar16,uStack_5c);
                  uVar27 = (uint)CONCAT21((short)(uVar26 >> 0x10),
                                          (char)(uVar26 >> 8) + cStack_28 +
                                          (CARRY4(uVar18,uStack_2c) ||
                                          CARRY4(uVar18 + uStack_2c,(uint)CARRY4(uVar16,uStack_5c)))
                                         ) << 8;
                  puVar35[4] = pixmap.fade_tables
                               [CONCAT11((char)(uVar16 >> 8),
                                         vec_map[CONCAT31((int)(uVar26 >> 8),(char)uVar18)])];
switchD_00782581_caseD_b:
                  uVar16 = uVar17 + uStack_5c;
                  uVar18 = uVar19 + uStack_2c + (uint)CARRY4(uVar17,uStack_5c);
                  uVar26 = (uint)CONCAT21((short)(uVar27 >> 0x10),
                                          (char)(uVar27 >> 8) + cStack_28 +
                                          (CARRY4(uVar19,uStack_2c) ||
                                          CARRY4(uVar19 + uStack_2c,(uint)CARRY4(uVar17,uStack_5c)))
                                         ) << 8;
                  puVar35[5] = pixmap.fade_tables
                               [CONCAT11((char)(uVar17 >> 8),
                                         vec_map[CONCAT31((int)(uVar27 >> 8),(char)uVar19)])];
switchD_00782581_caseD_a:
                  uVar17 = uVar16 + uStack_5c;
                  uVar19 = uVar18 + uStack_2c + (uint)CARRY4(uVar16,uStack_5c);
                  uVar27 = (uint)CONCAT21((short)(uVar26 >> 0x10),
                                          (char)(uVar26 >> 8) + cStack_28 +
                                          (CARRY4(uVar18,uStack_2c) ||
                                          CARRY4(uVar18 + uStack_2c,(uint)CARRY4(uVar16,uStack_5c)))
                                         ) << 8;
                  puVar35[6] = pixmap.fade_tables
                               [CONCAT11((char)(uVar16 >> 8),
                                         vec_map[CONCAT31((int)(uVar26 >> 8),(char)uVar18)])];
switchD_00782581_caseD_9:
                  uVar16 = uVar17 + uStack_5c;
                  uVar18 = uVar19 + uStack_2c + (uint)CARRY4(uVar17,uStack_5c);
                  uVar26 = (uint)CONCAT21((short)(uVar27 >> 0x10),
                                          (char)(uVar27 >> 8) + cStack_28 +
                                          (CARRY4(uVar19,uStack_2c) ||
                                          CARRY4(uVar19 + uStack_2c,(uint)CARRY4(uVar17,uStack_5c)))
                                         ) << 8;
                  puVar35[7] = pixmap.fade_tables
                               [CONCAT11((char)(uVar17 >> 8),
                                         vec_map[CONCAT31((int)(uVar27 >> 8),(char)uVar19)])];
switchD_00782581_caseD_8:
                  uVar17 = uVar16 + uStack_5c;
                  uVar19 = uVar18 + uStack_2c + (uint)CARRY4(uVar16,uStack_5c);
                  uVar27 = (uint)CONCAT21((short)(uVar26 >> 0x10),
                                          (char)(uVar26 >> 8) + cStack_28 +
                                          (CARRY4(uVar18,uStack_2c) ||
                                          CARRY4(uVar18 + uStack_2c,(uint)CARRY4(uVar16,uStack_5c)))
                                         ) << 8;
                  puVar35[8] = pixmap.fade_tables
                               [CONCAT11((char)(uVar16 >> 8),
                                         vec_map[CONCAT31((int)(uVar26 >> 8),(char)uVar18)])];
switchD_00782581_caseD_7:
                  uVar16 = uVar17 + uStack_5c;
                  uVar18 = uVar19 + uStack_2c + (uint)CARRY4(uVar17,uStack_5c);
                  uVar26 = (uint)CONCAT21((short)(uVar27 >> 0x10),
                                          (char)(uVar27 >> 8) + cStack_28 +
                                          (CARRY4(uVar19,uStack_2c) ||
                                          CARRY4(uVar19 + uStack_2c,(uint)CARRY4(uVar17,uStack_5c)))
                                         ) << 8;
                  puVar35[9] = pixmap.fade_tables
                               [CONCAT11((char)(uVar17 >> 8),
                                         vec_map[CONCAT31((int)(uVar27 >> 8),(char)uVar19)])];
switchD_00782581_caseD_6:
                  uVar17 = uVar16 + uStack_5c;
                  uVar19 = uVar18 + uStack_2c + (uint)CARRY4(uVar16,uStack_5c);
                  uVar27 = (uint)CONCAT21((short)(uVar26 >> 0x10),
                                          (char)(uVar26 >> 8) + cStack_28 +
                                          (CARRY4(uVar18,uStack_2c) ||
                                          CARRY4(uVar18 + uStack_2c,(uint)CARRY4(uVar16,uStack_5c)))
                                         ) << 8;
                  puVar35[10] = pixmap.fade_tables
                                [CONCAT11((char)(uVar16 >> 8),
                                          vec_map[CONCAT31((int)(uVar26 >> 8),(char)uVar18)])];
switchD_00782581_caseD_5:
                  uVar16 = uVar17 + uStack_5c;
                  uVar18 = uVar19 + uStack_2c + (uint)CARRY4(uVar17,uStack_5c);
                  uVar26 = (uint)CONCAT21((short)(uVar27 >> 0x10),
                                          (char)(uVar27 >> 8) + cStack_28 +
                                          (CARRY4(uVar19,uStack_2c) ||
                                          CARRY4(uVar19 + uStack_2c,(uint)CARRY4(uVar17,uStack_5c)))
                                         ) << 8;
                  puVar35[0xb] = pixmap.fade_tables
                                 [CONCAT11((char)(uVar17 >> 8),
                                           vec_map[CONCAT31((int)(uVar27 >> 8),(char)uVar19)])];
switchD_00782581_caseD_4:
                  uVar17 = uVar16 + uStack_5c;
                  uVar19 = uVar18 + uStack_2c + (uint)CARRY4(uVar16,uStack_5c);
                  uVar27 = (uint)CONCAT21((short)(uVar26 >> 0x10),
                                          (char)(uVar26 >> 8) + cStack_28 +
                                          (CARRY4(uVar18,uStack_2c) ||
                                          CARRY4(uVar18 + uStack_2c,(uint)CARRY4(uVar16,uStack_5c)))
                                         ) << 8;
                  puVar35[0xc] = pixmap.fade_tables
                                 [CONCAT11((char)(uVar16 >> 8),
                                           vec_map[CONCAT31((int)(uVar26 >> 8),(char)uVar18)])];
switchD_00782581_caseD_3:
                  uVar16 = uVar17 + uStack_5c;
                  uVar18 = uVar19 + uStack_2c + (uint)CARRY4(uVar17,uStack_5c);
                  uVar26 = (uint)CONCAT21((short)(uVar27 >> 0x10),
                                          (char)(uVar27 >> 8) + cStack_28 +
                                          (CARRY4(uVar19,uStack_2c) ||
                                          CARRY4(uVar19 + uStack_2c,(uint)CARRY4(uVar17,uStack_5c)))
                                         ) << 8;
                  puVar35[0xd] = pixmap.fade_tables
                                 [CONCAT11((char)(uVar17 >> 8),
                                           vec_map[CONCAT31((int)(uVar27 >> 8),(char)uVar19)])];
switchD_00782581_caseD_2:
                  uVar17 = uVar16 + uStack_5c;
                  uVar19 = uVar18 + uStack_2c + (uint)CARRY4(uVar16,uStack_5c);
                  uVar27 = (uint)CONCAT21((short)(uVar26 >> 0x10),
                                          (char)(uVar26 >> 8) + cStack_28 +
                                          (CARRY4(uVar18,uStack_2c) ||
                                          CARRY4(uVar18 + uStack_2c,(uint)CARRY4(uVar16,uStack_5c)))
                                         ) << 8;
                  puVar35[0xe] = pixmap.fade_tables
                                 [CONCAT11((char)(uVar16 >> 8),
                                           vec_map[CONCAT31((int)(uVar26 >> 8),(char)uVar18)])];
switchD_00782581_caseD_1:
                  uVar16 = uVar17 + uStack_5c;
                  uVar18 = uVar19 + uStack_2c + (uint)CARRY4(uVar17,uStack_5c);
                  uVar26 = (uint)CONCAT21((short)(uVar27 >> 0x10),
                                          (char)(uVar27 >> 8) + cStack_28 +
                                          (CARRY4(uVar19,uStack_2c) ||
                                          CARRY4(uVar19 + uStack_2c,(uint)CARRY4(uVar17,uStack_5c)))
                                         ) << 8;
                  puVar35[0xf] = pixmap.fade_tables
                                 [CONCAT11((char)(uVar17 >> 8),
                                           vec_map[CONCAT31((int)(uVar27 >> 8),(char)uVar19)])];
                  puVar35 = puVar35 + 0x10;
                  uVar17 = uStack_d4 - 0x10;
                  bVar37 = 0xf < (int)uStack_d4;
                  uStack_d4 = uVar17;
                } while (uVar17 != 0 && bVar37);
                break;
              case 1:
                goto switchD_00782581_caseD_1;
              case 2:
                goto switchD_00782581_caseD_2;
              case 3:
                goto switchD_00782581_caseD_3;
              case 4:
                goto switchD_00782581_caseD_4;
              case 5:
                goto switchD_00782581_caseD_5;
              case 6:
                goto switchD_00782581_caseD_6;
              case 7:
                goto switchD_00782581_caseD_7;
              case 8:
                goto switchD_00782581_caseD_8;
              case 9:
                goto switchD_00782581_caseD_9;
              case 10:
                goto switchD_00782581_caseD_a;
              case 0xb:
                goto switchD_00782581_caseD_b;
              case 0xc:
                goto switchD_00782581_caseD_c;
              case 0xd:
                goto switchD_00782581_caseD_d;
              case 0xe:
                goto switchD_00782581_caseD_e;
              case 0xf:
                goto switchD_00782581_caseD_f;
              }
            }
            iVar14 = iVar14 + iStack_12c;
            iVar13 = iVar13 + iStack_128;
            uVar16 = (uint)CARRY1((uint8_t)uStack_84,(uint8_t)uStack_60);
            bVar37 = CARRY4(uStack_8c,uStack_cc);
            uVar17 = uStack_8c + uStack_cc;
            uStack_8c = uVar17 + uVar16;
            uVar16 = (uint)(bVar37 || CARRY4(uVar17,uVar16));
            bVar37 = CARRY4(uStack_88,uStack_c4);
            uVar17 = uStack_88 + uStack_c4;
            uStack_88 = uVar17 + uVar16;
            uStack_84 = CONCAT22((short)(uStack_84 >> 0x10),
                                 CONCAT11((char)(uStack_84 >> 8) + (char)uStack_c8 +
                                          (bVar37 || CARRY4(uVar17,uVar16)),
                                          (uint8_t)uStack_84 + (uint8_t)uStack_60));
            ptr28 += vec_screen_width;
            iStack_c0 = iStack_c0 + -1;
          } while (iStack_c0 != 0);
LAB_00782618:
          while (iStack_180 = iStack_180 + -1, iStack_180 != 0) {
            if (iVar9 < 0) {
              iVar20 = iVar1;
              if (vec_window_height < iVar1) {
                iVar20 = vec_window_height;
              }
              iStack_c0 = iVar20 - iVar25;
              iVar24 = iVar25;
              iVar13 = iVar15;
              iStack_128 = local_1a8;
              if (iStack_c0 == 0 || iVar20 < iVar25) {
                return;
              }
            }
            else {
              iVar20 = iVar1;
              if (vec_window_height < iVar1) {
                iVar20 = vec_window_height;
              }
              iStack_c0 = iVar20 - iVar25;
              iVar24 = iVar25;
              iVar14 = iVar15;
              uStack_8c = uStack_80;
              uStack_88 = uStack_7c;
              uStack_84 = uStack_78;
              iStack_12c = local_1a8;
              uStack_cc = uStack_98;
              uStack_c8 = uStack_90;
              uStack_c4 = uStack_94;
              uStack_60 = uStack_1a0;
              if (iStack_c0 == 0 || iVar20 < iVar25) {
                return;
              }
            }
            while( true ) {
              if (-1 < iVar24) goto LAB_00782520;
LAB_00782590:
              uVar16 = (uint)CARRY1((uint8_t)uStack_84,(uint8_t)uStack_60);
              bVar37 = CARRY4(uStack_8c,uStack_cc);
              uVar17 = uStack_8c + uStack_cc;
              uStack_8c = uVar17 + uVar16;
              uVar16 = (uint)(bVar37 || CARRY4(uVar17,uVar16));
              bVar37 = CARRY4(uStack_88,uStack_c4);
              uVar17 = uStack_88 + uStack_c4;
              uStack_88 = uVar17 + uVar16;
              uStack_84 = CONCAT22((short)(uStack_84 >> 0x10),
                                   CONCAT11((char)(uStack_84 >> 8) + (char)uStack_c8 +
                                            (bVar37 || CARRY4(uVar17,uVar16)),
                                            (uint8_t)uStack_84 + (uint8_t)uStack_60));
              iVar14 = iVar14 + iStack_12c;
              iVar13 = iVar13 + iStack_128;
              ptr28 += vec_screen_width;
              iStack_c0 = iStack_c0 + -1;
              if (iStack_c0 == 0) break;
              iVar24 = iVar24 + 1;
            }
          }
        }
        return;
      case 6:
        return;
      case 0xc:
        return;
      case 0xd:
        return;
      case 0xe:
        return;
      case 0xf:
        return;
      case 0x10:
        return;
      case 0x11:
        return;
      case 0x12:
        return;
      case 0x13:
        return;
      case 0x14:
        return;
      case 0x15:
        return;
      case 0x16:
        return;
      case 0x17:
        return;
      case 0x18:
        return;
      case 0x19:
        return;
      case 0x1b:
        return;
      case 0x1c:
        return;
      case 0x1d:
        return;
      case 0x1e:
        return;
      case 0x1f:
        return;
      case 0x20:
        return;
      case 0x21:
        return;
      case 0x22:
        return;
      case 0x23:
        return;
      case 0x24:
        return;
      case 0x25:
        return;
      case 0x26:
        return;
      case 0x27:
        return;
      case 0x28:
        return;
      case 0x2a:
        return;
      case 0x45:
        if (bVar37) {
          iStack_180 = 2;
          uStack_60 = uStack_68;
          uStack_cc = uStack_a4;
          uStack_c4 = uStack_a0;
          if (iVar9 < 0) {
            iStack_12c = local_1b0;
            iStack_128 = local_1ac;
          }
          else {
            iStack_12c = local_1ac;
            iStack_128 = local_1b0;
          }
          uVar16 = 0;
          ptr28 = &vec_screen[vec_screen_width * iVar24];
          if (iVar24 <= vec_window_height) {
            iStack_c0 = iVar25;
            if (vec_window_height < iVar25) {
              iStack_c0 = vec_window_height;
            }
            iStack_c0 = iStack_c0 - iVar24;
            iVar20 = iVar14;
            if (iStack_c0 == 0) goto LAB_00783a68;
            if (iVar24 < 0) goto LAB_007839e0;
LAB_00783899:
            do {
              iVar21 = iVar14 >> 0x10;
              if (iVar21 < 0) {
                if (iStack_74 != 0) {
                  if (iStack_74 < 0) {
                    do {
                      bVar37 = CARRY4(uVar16,uStack_30);
                      uVar16 = uVar16 + uStack_30;
                      bVar36 = CARRY4(uStack_8c,uStack_bc);
                      uVar17 = uStack_8c + uStack_bc;
                      uStack_8c = uVar17 + bVar37;
                      uStack_88 = uStack_88 + uStack_b8 +
                                  (uint)(bVar36 || CARRY4(uVar17,(uint)bVar37));
                      iStack_74 = iStack_74 + 1;
                    } while (iStack_74 != 0);
                  }
                  else {
                    do {
                      bVar37 = uVar16 < uStack_30;
                      uVar16 = uVar16 - uStack_30;
                      bVar36 = uStack_8c < uStack_bc;
                      uVar17 = uStack_8c - uStack_bc;
                      uStack_8c = uVar17 - bVar37;
                      uStack_88 = (uStack_88 - uStack_b8) - (uint)(bVar36 || uVar17 < bVar37);
                      iStack_74 = iStack_74 + -1;
                    } while (iStack_74 != 0);
                  }
                }
              }
              else if (iStack_74 < iVar21) {
                do {
                  bVar37 = CARRY4(uVar16,uStack_30);
                  uVar16 = uVar16 + uStack_30;
                  bVar36 = CARRY4(uStack_8c,uStack_bc);
                  uVar17 = uStack_8c + uStack_bc;
                  uStack_8c = uVar17 + bVar37;
                  uStack_88 = uStack_88 + uStack_b8 + (uint)(bVar36 || CARRY4(uVar17,(uint)bVar37));
                  iStack_74 = iStack_74 + 1;
                } while (iStack_74 < iVar21);
              }
              else {
                for (; iVar21 < iStack_74; iStack_74 = iStack_74 + -1) {
                  bVar37 = uVar16 < uStack_30;
                  uVar16 = uVar16 - uStack_30;
                  bVar36 = uStack_8c < uStack_bc;
                  uVar17 = uStack_8c - uStack_bc;
                  uStack_8c = uVar17 - bVar37;
                  uStack_88 = (uStack_88 - uStack_b8) - (uint)(bVar36 || uVar17 < bVar37);
                }
              }
              iVar31 = iVar20 >> 0x10;
              if (vec_window_width < iVar20 >> 0x10) {
                iVar31 = vec_window_width;
              }
              uStack_d4 = iVar31 - iStack_74;
              if (uStack_d4 != 0 && iStack_74 <= iVar31) {
                puVar35 = ptr28 + iStack_74 + gpoly_countdown[uStack_d4 & 0xf];
                uVar27 = (uStack_88 & 0xff0000ff) << 8 | uStack_88 >> 0x18;
                uVar17 = uStack_8c;
                uVar18 = uStack_8c;
                uVar19 = uStack_88;
                uVar26 = uStack_88;
                switch(uStack_d4 & 0xf) {
                case 1:
                  goto switchD_0078392b_caseD_1;
                case 2:
                  goto switchD_0078392b_caseD_2;
                case 3:
                  goto switchD_0078392b_caseD_3;
                case 4:
                  goto switchD_0078392b_caseD_4;
                case 5:
                  goto switchD_0078392b_caseD_5;
                case 6:
                  goto switchD_0078392b_caseD_6;
                case 7:
                  goto switchD_0078392b_caseD_7;
                case 8:
                  goto switchD_0078392b_caseD_8;
                case 9:
                  goto switchD_0078392b_caseD_9;
                case 10:
                  goto switchD_0078392b_caseD_a;
                case 0xb:
                  goto switchD_0078392b_caseD_b;
                case 0xc:
                  goto switchD_0078392b_caseD_c;
                case 0xd:
                  goto switchD_0078392b_caseD_d;
                case 0xe:
                  goto switchD_0078392b_caseD_e;
                case 0xf:
                  goto switchD_0078392b_caseD_f;
                }
                do {
                  *puVar35 = pixmap.fade_tables[(uVar17 & 0xff00) | (uint)vec_map[uVar27]];
                  uVar18 = uVar17 + uStack_5c;
                  uVar26 = uVar19 + uStack_2c + (uint)CARRY4(uVar17,uStack_5c);
                  uVar27 = ((uVar19 & 0xff0000ff) << 8) | (uVar19 >> 0x18);
switchD_0078392b_caseD_f:
                  puVar35[1] = pixmap.fade_tables
                               [(uVar18 & 0xff00) | (uint)vec_map[uVar27]];
                  uVar17 = uVar18 + uStack_5c;
                  uVar19 = uVar26 + uStack_2c + (uint)CARRY4(uVar18,uStack_5c);
                  uVar27 = ((uVar26 & 0xff0000ff) << 8) | (uVar26 >> 0x18);
switchD_0078392b_caseD_e:
                  puVar35[2] = pixmap.fade_tables
                               [(uVar17 & 0xff00) | (uint)vec_map[uVar27]];
                  uVar18 = uVar17 + uStack_5c;
                  uVar26 = uVar19 + uStack_2c + (uint)CARRY4(uVar17,uStack_5c);
                  uVar27 = ((uVar19 & 0xff0000ff) << 8) | (uVar19 >> 0x18);
switchD_0078392b_caseD_d:
                  puVar35[3] = pixmap.fade_tables
                               [(uVar18 & 0xff00) | (uint)vec_map[uVar27]];
                  uVar17 = uVar18 + uStack_5c;
                  uVar19 = uVar26 + uStack_2c + (uint)CARRY4(uVar18,uStack_5c);
                  uVar27 = ((uVar26 & 0xff0000ff) << 8) | (uVar26 >> 0x18);
switchD_0078392b_caseD_c:
                  puVar35[4] = pixmap.fade_tables
                               [(uVar17 & 0xff00) | (uint)vec_map[uVar27]];
                  uVar18 = uVar17 + uStack_5c;
                  uVar26 = uVar19 + uStack_2c + (uint)CARRY4(uVar17,uStack_5c);
                  uVar27 = ((uVar19 & 0xff0000ff) << 8) | (uVar19 >> 0x18);
switchD_0078392b_caseD_b:
                  puVar35[5] = pixmap.fade_tables
                               [(uVar18 & 0xff00) | (uint)vec_map[uVar27]];
                  uVar17 = uVar18 + uStack_5c;
                  uVar19 = uVar26 + uStack_2c + (uint)CARRY4(uVar18,uStack_5c);
                  uVar27 = ((uVar26 & 0xff0000ff) << 8) | (uVar26 >> 0x18);
switchD_0078392b_caseD_a:
                  puVar35[6] = pixmap.fade_tables
                               [(uVar17 & 0xff00) | (uint)vec_map[uVar27]];
                  uVar18 = uVar17 + uStack_5c;
                  uVar26 = uVar19 + uStack_2c + (uint)CARRY4(uVar17,uStack_5c);
                  uVar27 = ((uVar19 & 0xff0000ff) << 8) | (uVar19 >> 0x18);
switchD_0078392b_caseD_9:
                  puVar35[7] = pixmap.fade_tables
                               [(uVar18 & 0xff00) | (uint)vec_map[uVar27]];
                  uVar17 = uVar18 + uStack_5c;
                  uVar19 = uVar26 + uStack_2c + (uint)CARRY4(uVar18,uStack_5c);
                  uVar27 = ((uVar26 & 0xff0000ff) << 8) | (uVar26 >> 0x18);
switchD_0078392b_caseD_8:
                  puVar35[8] = pixmap.fade_tables
                               [(uVar17 & 0xff00) | (uint)vec_map[uVar27]];
                  uVar18 = uVar17 + uStack_5c;
                  uVar26 = uVar19 + uStack_2c + (uint)CARRY4(uVar17,uStack_5c);
                  uVar27 = ((uVar19 & 0xff0000ff) << 8) | (uVar19 >> 0x18);
switchD_0078392b_caseD_7:
                  puVar35[9] = pixmap.fade_tables
                               [(uVar18 & 0xff00) | (uint)vec_map[uVar27]];
                  uVar17 = uVar18 + uStack_5c;
                  uVar19 = uVar26 + uStack_2c + (uint)CARRY4(uVar18,uStack_5c);
                  uVar27 = ((uVar26 & 0xff0000ff) << 8) | (uVar26 >> 0x18);
switchD_0078392b_caseD_6:
                  puVar35[10] = pixmap.fade_tables
                                [(uVar17 & 0xff00) | (uint)vec_map[uVar27]];
                  uVar18 = uVar17 + uStack_5c;
                  uVar26 = uVar19 + uStack_2c + (uint)CARRY4(uVar17,uStack_5c);
                  uVar27 = ((uVar19 & 0xff0000ff) << 8) | (uVar19 >> 0x18);
switchD_0078392b_caseD_5:
                  puVar35[0xb] = pixmap.fade_tables
                                 [(uVar18 & 0xff00) | (uint)vec_map[uVar27]];
                  uVar17 = uVar18 + uStack_5c;
                  uVar19 = uVar26 + uStack_2c + (uint)CARRY4(uVar18,uStack_5c);
                  uVar27 = ((uVar26 & 0xff0000ff) << 8) | (uVar26 >> 0x18);
switchD_0078392b_caseD_4:
                  puVar35[0xc] = pixmap.fade_tables
                                 [(uVar17 & 0xff00) | (uint)vec_map[uVar27]];
                  uVar18 = uVar17 + uStack_5c;
                  uVar26 = uVar19 + uStack_2c + (uint)CARRY4(uVar17,uStack_5c);
                  uVar27 = ((uVar19 & 0xff0000ff) << 8) | (uVar19 >> 0x18);
switchD_0078392b_caseD_3:
                  puVar35[0xd] = pixmap.fade_tables
                                 [(uVar18 & 0xff00) | (uint)vec_map[uVar27]];
                  uVar17 = uVar18 + uStack_5c;
                  uVar19 = uVar26 + uStack_2c + (uint)CARRY4(uVar18,uStack_5c);
                  uVar27 = ((uVar26 & 0xff0000ff) << 8) | (uVar26 >> 0x18);
switchD_0078392b_caseD_2:
                  puVar35[0xe] = pixmap.fade_tables
                                 [(uVar17 & 0xff00) | (uint)vec_map[uVar27]];
                  uVar18 = uVar17 + uStack_5c;
                  uVar26 = uVar19 + uStack_2c + (uint)CARRY4(uVar17,uStack_5c);
                  uVar27 = ((uVar19 & 0xff0000ff) << 8) | (uVar19 >> 0x18);
switchD_0078392b_caseD_1:
                  puVar35[0xf] = pixmap.fade_tables
                                 [(uVar18 & 0xff00) | (uint)vec_map[uVar27]];
                  uVar17 = uVar18 + uStack_5c;
                  uVar19 = uVar26 + uStack_2c + (uint)CARRY4(uVar18,uStack_5c);
                  uVar27 = ((uVar26 & 0xff0000ff) << 8) | (uVar26 >> 0x18);
                  puVar35 = puVar35 + 0x10;
                  uVar18 = uStack_d4 - 0x10;
                  bVar37 = 0xf < (int)uStack_d4;
                  uStack_d4 = uVar18;
                } while (uVar18 != 0 && bVar37);
              }
              iVar14 = iVar14 + iStack_12c;
              iVar20 = iVar20 + iStack_128;
              iStack_74 = (iStack_74 - iVar21) + (iVar14 >> 0x10);
              bVar37 = CARRY4(uVar16,uStack_60);
              uVar16 = uVar16 + uStack_60;
              bVar36 = CARRY4(uStack_8c,uStack_cc);
              uVar17 = uStack_8c + uStack_cc;
              uStack_8c = uVar17 + bVar37;
              uStack_88 = uStack_88 + uStack_c4 + (uint)(bVar36 || CARRY4(uVar17,(uint)bVar37));
              ptr28 += vec_screen_width;
              iStack_c0 = iStack_c0 + -1;
            } while (iStack_c0 != 0);
LAB_00783a68:
            while (iStack_180 = iStack_180 + -1, iStack_180 != 0) {
              if (iVar9 < 0) {
                iVar21 = iVar1;
                if (vec_window_height < iVar1) {
                  iVar21 = vec_window_height;
                }
                iStack_c0 = iVar21 - iVar25;
                iVar24 = iVar25;
                iVar20 = iVar15;
                iStack_128 = local_1a8;
                if (iStack_c0 == 0 || iVar21 < iVar25) {
                  return;
                }
              }
              else {
                uVar16 = 0;
                iVar21 = iVar1;
                if (vec_window_height < iVar1) {
                  iVar21 = vec_window_height;
                }
                iStack_c0 = iVar21 - iVar25;
                iVar24 = iVar25;
                iVar14 = iVar15;
                uStack_8c = uStack_80;
                uStack_88 = uStack_7c;
                iStack_74 = iVar28;
                iStack_12c = local_1a8;
                uStack_cc = uStack_98;
                uStack_c4 = uStack_94;
                uStack_60 = uStack_64;
                if (iStack_c0 == 0 || iVar21 < iVar25) {
                  return;
                }
              }
              while( true ) {
                if (-1 < iVar24) goto LAB_00783899;
LAB_007839e0:
                bVar37 = CARRY4(uVar16,uStack_60);
                uVar16 = uVar16 + uStack_60;
                bVar36 = CARRY4(uStack_8c,uStack_cc);
                uVar17 = uStack_8c + uStack_cc;
                uStack_8c = uVar17 + bVar37;
                uStack_88 = uStack_88 + uStack_c4 + (uint)(bVar36 || CARRY4(uVar17,(uint)bVar37));
                iVar21 = iVar14 >> 0x10;
                iVar14 = iVar14 + iStack_12c;
                iVar20 = iVar20 + iStack_128;
                iStack_74 = (iStack_74 - iVar21) + (iVar14 >> 0x10);
                ptr28 += vec_screen_width;
                iStack_c0 = iStack_c0 + -1;
                if (iStack_c0 == 0) break;
                iVar24 = iVar24 + 1;
              }
            }
          }
          return;
        }
        iStack_180 = 2;
        uStack_60 = uStack_68;
        uStack_cc = uStack_a4;
        uStack_c4 = uStack_a0;
        if (iVar9 < 0) {
          iStack_12c = local_1b0;
          iStack_128 = local_1ac;
        }
        else {
          iStack_12c = local_1ac;
          iStack_128 = local_1b0;
        }
        uVar16 = 0;
        ptr28 = &vec_screen[(vec_screen_width * iVar24)];
        if (iVar24 <= vec_window_height) {
          iStack_c0 = iVar25;
          if (vec_window_height < iVar25) {
            iStack_c0 = vec_window_height;
          }
          iStack_c0 = iStack_c0 - iVar24;
          iVar13 = iVar14;
          if (iStack_c0 == 0) goto LAB_00783338;
          if (iVar24 < 0) goto LAB_007832b0;
LAB_00783239:
          do {
            iVar20 = iVar14 >> 0x10;
            uStack_d4 = (iVar13 >> 0x10) - iVar20;
            if (uStack_d4 != 0 && iVar20 <= iVar13 >> 0x10) {
              puVar35 = ptr28 + iVar20 + gpoly_countdown[uStack_d4 & 0xf];
              uVar27 = (uStack_88 & 0xff0000ff) << 8 | uStack_88 >> 0x18;
              uVar17 = uStack_8c;
              uVar18 = uStack_8c;
              uVar19 = uStack_88;
              uVar26 = uStack_88;
              switch(uStack_d4 & 0xf) {
              case 1:
                goto switchD_007832a4_caseD_1;
              case 2:
                goto switchD_007832a4_caseD_2;
              case 3:
                goto switchD_007832a4_caseD_3;
              case 4:
                goto switchD_007832a4_caseD_4;
              case 5:
                goto switchD_007832a4_caseD_5;
              case 6:
                goto switchD_007832a4_caseD_6;
              case 7:
                goto switchD_007832a4_caseD_7;
              case 8:
                goto switchD_007832a4_caseD_8;
              case 9:
                goto switchD_007832a4_caseD_9;
              case 10:
                goto switchD_007832a4_caseD_a;
              case 0xb:
                goto switchD_007832a4_caseD_b;
              case 0xc:
                goto switchD_007832a4_caseD_c;
              case 0xd:
                goto switchD_007832a4_caseD_d;
              case 0xe:
                goto switchD_007832a4_caseD_e;
              case 0xf:
                goto switchD_007832a4_caseD_f;
              }
              do {
                *puVar35 = pixmap.fade_tables[(uVar17 & 0xff00) | (uint)vec_map[uVar27]];
                uVar18 = uVar17 + uStack_5c;
                uVar26 = uVar19 + uStack_2c + (uint)CARRY4(uVar17,uStack_5c);
                uVar27 = ((uVar19 & 0xff0000ff) << 8) | (uVar19 >> 0x18);
switchD_007832a4_caseD_f:
                puVar35[1] = pixmap.fade_tables[(uVar18 & 0xff00) | (uint)vec_map[uVar27]];
                uVar17 = uVar18 + uStack_5c;
                uVar19 = uVar26 + uStack_2c + (uint)CARRY4(uVar18,uStack_5c);
                uVar27 = ((uVar26 & 0xff0000ff) << 8) | (uVar26 >> 0x18);
switchD_007832a4_caseD_e:
                puVar35[2] = pixmap.fade_tables[(uVar17 & 0xff00) | (uint)vec_map[uVar27]];
                uVar18 = uVar17 + uStack_5c;
                uVar26 = uVar19 + uStack_2c + (uint)CARRY4(uVar17,uStack_5c);
                uVar27 = ((uVar19 & 0xff0000ff) << 8) | (uVar19 >> 0x18);
switchD_007832a4_caseD_d:
                puVar35[3] = pixmap.fade_tables[(uVar18 & 0xff00) | (uint)vec_map[uVar27]];
                uVar17 = uVar18 + uStack_5c;
                uVar19 = uVar26 + uStack_2c + (uint)CARRY4(uVar18,uStack_5c);
                uVar27 = ((uVar26 & 0xff0000ff) << 8) | (uVar26 >> 0x18);
switchD_007832a4_caseD_c:
                puVar35[4] = pixmap.fade_tables[(uVar17 & 0xff00) | (uint)vec_map[uVar27]];
                uVar18 = uVar17 + uStack_5c;
                uVar26 = uVar19 + uStack_2c + (uint)CARRY4(uVar17,uStack_5c);
                uVar27 = ((uVar19 & 0xff0000ff) << 8) | (uVar19 >> 0x18);
switchD_007832a4_caseD_b:
                puVar35[5] = pixmap.fade_tables[(uVar18 & 0xff00) | (uint)vec_map[uVar27]];
                uVar17 = uVar18 + uStack_5c;
                uVar19 = uVar26 + uStack_2c + (uint)CARRY4(uVar18,uStack_5c);
                uVar27 = ((uVar26 & 0xff0000ff) << 8) | (uVar26 >> 0x18);
switchD_007832a4_caseD_a:
                puVar35[6] = pixmap.fade_tables[(uVar17 & 0xff00) | (uint)vec_map[uVar27]];
                uVar18 = uVar17 + uStack_5c;
                uVar26 = uVar19 + uStack_2c + (uint)CARRY4(uVar17,uStack_5c);
                uVar27 = ((uVar19 & 0xff0000ff) << 8) | (uVar19 >> 0x18);
switchD_007832a4_caseD_9:
                puVar35[7] = pixmap.fade_tables[(uVar18 & 0xff00) | (uint)vec_map[uVar27]];
                uVar17 = uVar18 + uStack_5c;
                uVar19 = uVar26 + uStack_2c + (uint)CARRY4(uVar18,uStack_5c);
                uVar27 = ((uVar26 & 0xff0000ff) << 8) | (uVar26 >> 0x18);
switchD_007832a4_caseD_8:
                puVar35[8] = pixmap.fade_tables[(uVar17 & 0xff00) | (uint)vec_map[uVar27]];
                uVar18 = uVar17 + uStack_5c;
                uVar26 = uVar19 + uStack_2c + (uint)CARRY4(uVar17,uStack_5c);
                uVar27 = ((uVar19 & 0xff0000ff) << 8) | (uVar19 >> 0x18);
switchD_007832a4_caseD_7:
                puVar35[9] = pixmap.fade_tables[(uVar18 & 0xff00) | (uint)vec_map[uVar27]];
                uVar17 = uVar18 + uStack_5c;
                uVar19 = uVar26 + uStack_2c + (uint)CARRY4(uVar18,uStack_5c);
                uVar27 = ((uVar26 & 0xff0000ff) << 8) | (uVar26 >> 0x18);
switchD_007832a4_caseD_6:
                puVar35[10] = pixmap.fade_tables[(uVar17 & 0xff00) | (uint)vec_map[uVar27]]
                ;
                uVar18 = uVar17 + uStack_5c;
                uVar26 = uVar19 + uStack_2c + (uint)CARRY4(uVar17,uStack_5c);
                uVar27 = ((uVar19 & 0xff0000ff) << 8) | (uVar19 >> 0x18);
switchD_007832a4_caseD_5:
                puVar35[0xb] = pixmap.fade_tables
                               [(uVar18 & 0xff00) | (uint)vec_map[uVar27]];
                uVar17 = uVar18 + uStack_5c;
                uVar19 = uVar26 + uStack_2c + (uint)CARRY4(uVar18,uStack_5c);
                uVar27 = ((uVar26 & 0xff0000ff) << 8) | (uVar26 >> 0x18);
switchD_007832a4_caseD_4:
                puVar35[0xc] = pixmap.fade_tables
                               [(uVar17 & 0xff00) | (uint)vec_map[uVar27]];
                uVar18 = uVar17 + uStack_5c;
                uVar26 = uVar19 + uStack_2c + (uint)CARRY4(uVar17,uStack_5c);
                uVar27 = ((uVar19 & 0xff0000ff) << 8) | (uVar19 >> 0x18);
switchD_007832a4_caseD_3:
                puVar35[0xd] = pixmap.fade_tables
                               [(uVar18 & 0xff00) | (uint)vec_map[uVar27]];
                uVar17 = uVar18 + uStack_5c;
                uVar19 = uVar26 + uStack_2c + (uint)CARRY4(uVar18,uStack_5c);
                uVar27 = ((uVar26 & 0xff0000ff) << 8) | (uVar26 >> 0x18);
switchD_007832a4_caseD_2:
                puVar35[0xe] = pixmap.fade_tables
                               [(uVar17 & 0xff00) | (uint)vec_map[uVar27]];
                uVar18 = uVar17 + uStack_5c;
                uVar26 = uVar19 + uStack_2c + (uint)CARRY4(uVar17,uStack_5c);
                uVar27 = ((uVar19 & 0xff0000ff) << 8) | (uVar19 >> 0x18);
switchD_007832a4_caseD_1:
                puVar35[0xf] = pixmap.fade_tables
                               [(uVar18 & 0xff00) | (uint)vec_map[uVar27]];
                uVar17 = uVar18 + uStack_5c;
                uVar19 = uVar26 + uStack_2c + (uint)CARRY4(uVar18,uStack_5c);
                uVar27 = ((uVar26 & 0xff0000ff) << 8) | (uVar26 >> 0x18);
                puVar35 = puVar35 + 0x10;
                uVar18 = uStack_d4 - 0x10;
                bVar37 = 0xf < (int)uStack_d4;
                uStack_d4 = uVar18;
              } while (uVar18 != 0 && bVar37);
            }
            iVar14 = iVar14 + iStack_12c;
            iVar13 = iVar13 + iStack_128;
            bVar37 = CARRY4(uVar16,uStack_60);
            uVar16 = uVar16 + uStack_60;
            bVar36 = CARRY4(uStack_8c,uStack_cc);
            uVar17 = uStack_8c + uStack_cc;
            uStack_8c = uVar17 + bVar37;
            uStack_88 = uStack_88 + uStack_c4 + (uint)(bVar36 || CARRY4(uVar17,(uint)bVar37));
            ptr28 += vec_screen_width;
            iStack_c0 = iStack_c0 + -1;
          } while (iStack_c0 != 0);
LAB_00783338:
          while (iStack_180 = iStack_180 + -1, iStack_180 != 0) {
            if (iVar9 < 0) {
              iVar20 = iVar1;
              if (vec_window_height < iVar1) {
                iVar20 = vec_window_height;
              }
              iStack_c0 = iVar20 - iVar25;
              iVar24 = iVar25;
              iVar13 = iVar15;
              iStack_128 = local_1a8;
              if (iStack_c0 == 0 || iVar20 < iVar25) {
                return;
              }
            }
            else {
              uVar16 = 0;
              iVar20 = iVar1;
              if (vec_window_height < iVar1) {
                iVar20 = vec_window_height;
              }
              iStack_c0 = iVar20 - iVar25;
              iVar24 = iVar25;
              iVar14 = iVar15;
              uStack_8c = uStack_80;
              uStack_88 = uStack_7c;
              iStack_12c = local_1a8;
              uStack_cc = uStack_98;
              uStack_c4 = uStack_94;
              uStack_60 = uStack_64;
              if (iStack_c0 == 0 || iVar20 < iVar25) {
                return;
              }
            }
            while( true ) {
              if (-1 < iVar24) goto LAB_00783239;
LAB_007832b0:
              bVar37 = CARRY4(uVar16,uStack_60);
              uVar16 = uVar16 + uStack_60;
              bVar36 = CARRY4(uStack_8c,uStack_cc);
              uVar17 = uStack_8c + uStack_cc;
              uStack_8c = uVar17 + bVar37;
              uStack_88 = uStack_88 + uStack_c4 + (uint)(bVar36 || CARRY4(uVar17,(uint)bVar37));
              iVar14 = iVar14 + iStack_12c;
              iVar13 = iVar13 + iStack_128;
              ptr28 += vec_screen_width;
              iStack_c0 = iStack_c0 + -1;
              if (iStack_c0 == 0) break;
              iVar24 = iVar24 + 1;
            }
          }
        }
        return;
      }
    }
  }
override_jmp_007804ee_case_8:
  return;
}
